var Dw=Object.defineProperty;var Mw=(e,t,r)=>t in e?Dw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Ec=(e,t,r)=>Mw(e,typeof t!="symbol"?t+"":t,r);function Nw(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(n,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();var Iw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function lm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var cm={exports:{}},vl={},um={exports:{}},Se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lo=Symbol.for("react.element"),Bw=Symbol.for("react.portal"),zw=Symbol.for("react.fragment"),jw=Symbol.for("react.strict_mode"),Fw=Symbol.for("react.profiler"),Hw=Symbol.for("react.provider"),Uw=Symbol.for("react.context"),$w=Symbol.for("react.forward_ref"),Zw=Symbol.for("react.suspense"),Ww=Symbol.for("react.memo"),Vw=Symbol.for("react.lazy"),Uf=Symbol.iterator;function Kw(e){return e===null||typeof e!="object"?null:(e=Uf&&e[Uf]||e["@@iterator"],typeof e=="function"?e:null)}var hm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},dm=Object.assign,fm={};function Fn(e,t,r){this.props=e,this.context=t,this.refs=fm,this.updater=r||hm}Fn.prototype.isReactComponent={};Fn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Fn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function pm(){}pm.prototype=Fn.prototype;function bh(e,t,r){this.props=e,this.context=t,this.refs=fm,this.updater=r||hm}var Ch=bh.prototype=new pm;Ch.constructor=bh;dm(Ch,Fn.prototype);Ch.isPureReactComponent=!0;var $f=Array.isArray,_m=Object.prototype.hasOwnProperty,Eh={current:null},mm={key:!0,ref:!0,__self:!0,__source:!0};function vm(e,t,r){var n,s={},a=null,u=null;if(t!=null)for(n in t.ref!==void 0&&(u=t.ref),t.key!==void 0&&(a=""+t.key),t)_m.call(t,n)&&!mm.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),p=0;p<l;p++)c[p]=arguments[p+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:lo,type:e,key:a,ref:u,props:s,_owner:Eh.current}}function qw(e,t){return{$$typeof:lo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function kh(e){return typeof e=="object"&&e!==null&&e.$$typeof===lo}function Gw(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Zf=/\/+/g;function kc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Gw(""+e.key):t.toString(36)}function pa(e,t,r,n,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var u=!1;if(e===null)u=!0;else switch(a){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case lo:case Bw:u=!0}}if(u)return u=e,s=s(u),e=n===""?"."+kc(u,0):n,$f(s)?(r="",e!=null&&(r=e.replace(Zf,"$&/")+"/"),pa(s,t,r,"",function(p){return p})):s!=null&&(kh(s)&&(s=qw(s,r+(!s.key||u&&u.key===s.key?"":(""+s.key).replace(Zf,"$&/")+"/")+e)),t.push(s)),1;if(u=0,n=n===""?".":n+":",$f(e))for(var l=0;l<e.length;l++){a=e[l];var c=n+kc(a,l);u+=pa(a,t,r,c,s)}else if(c=Kw(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=n+kc(a,l++),u+=pa(a,t,r,c,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function $o(e,t,r){if(e==null)return e;var n=[],s=0;return pa(e,n,"","",function(a){return t.call(r,a,s++)}),n}function Jw(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var xt={current:null},_a={transition:null},Xw={ReactCurrentDispatcher:xt,ReactCurrentBatchConfig:_a,ReactCurrentOwner:Eh};function gm(){throw Error("act(...) is not supported in production builds of React.")}Se.Children={map:$o,forEach:function(e,t,r){$o(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return $o(e,function(){t++}),t},toArray:function(e){return $o(e,function(t){return t})||[]},only:function(e){if(!kh(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Se.Component=Fn;Se.Fragment=zw;Se.Profiler=Fw;Se.PureComponent=bh;Se.StrictMode=jw;Se.Suspense=Zw;Se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Xw;Se.act=gm;Se.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=dm({},e.props),s=e.key,a=e.ref,u=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,u=Eh.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)_m.call(t,c)&&!mm.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var p=0;p<c;p++)l[p]=arguments[p+2];n.children=l}return{$$typeof:lo,type:e.type,key:s,ref:a,props:n,_owner:u}};Se.createContext=function(e){return e={$$typeof:Uw,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Hw,_context:e},e.Consumer=e};Se.createElement=vm;Se.createFactory=function(e){var t=vm.bind(null,e);return t.type=e,t};Se.createRef=function(){return{current:null}};Se.forwardRef=function(e){return{$$typeof:$w,render:e}};Se.isValidElement=kh;Se.lazy=function(e){return{$$typeof:Vw,_payload:{_status:-1,_result:e},_init:Jw}};Se.memo=function(e,t){return{$$typeof:Ww,type:e,compare:t===void 0?null:t}};Se.startTransition=function(e){var t=_a.transition;_a.transition={};try{e()}finally{_a.transition=t}};Se.unstable_act=gm;Se.useCallback=function(e,t){return xt.current.useCallback(e,t)};Se.useContext=function(e){return xt.current.useContext(e)};Se.useDebugValue=function(){};Se.useDeferredValue=function(e){return xt.current.useDeferredValue(e)};Se.useEffect=function(e,t){return xt.current.useEffect(e,t)};Se.useId=function(){return xt.current.useId()};Se.useImperativeHandle=function(e,t,r){return xt.current.useImperativeHandle(e,t,r)};Se.useInsertionEffect=function(e,t){return xt.current.useInsertionEffect(e,t)};Se.useLayoutEffect=function(e,t){return xt.current.useLayoutEffect(e,t)};Se.useMemo=function(e,t){return xt.current.useMemo(e,t)};Se.useReducer=function(e,t,r){return xt.current.useReducer(e,t,r)};Se.useRef=function(e){return xt.current.useRef(e)};Se.useState=function(e){return xt.current.useState(e)};Se.useSyncExternalStore=function(e,t,r){return xt.current.useSyncExternalStore(e,t,r)};Se.useTransition=function(){return xt.current.useTransition()};Se.version="18.3.1";um.exports=Se;var V=um.exports;const Bs=lm(V),Yw=Nw({__proto__:null,default:Bs},[V]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qw=V,eS=Symbol.for("react.element"),tS=Symbol.for("react.fragment"),rS=Object.prototype.hasOwnProperty,iS=Qw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,nS={key:!0,ref:!0,__self:!0,__source:!0};function ym(e,t,r){var n,s={},a=null,u=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(u=t.ref);for(n in t)rS.call(t,n)&&!nS.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:eS,type:e,key:a,ref:u,props:s,_owner:iS.current}}vl.Fragment=tS;vl.jsx=ym;vl.jsxs=ym;cm.exports=vl;var T=cm.exports,uu={},wm={exports:{}},Bt={},Sm={exports:{}},xm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(O,z){var I=O.length;O.push(z);e:for(;0<I;){var F=I-1>>>1,J=O[F];if(0<s(J,z))O[F]=z,O[I]=J,I=F;else break e}}function r(O){return O.length===0?null:O[0]}function n(O){if(O.length===0)return null;var z=O[0],I=O.pop();if(I!==z){O[0]=I;e:for(var F=0,J=O.length,ne=J>>>1;F<ne;){var ae=2*(F+1)-1,se=O[ae],ue=ae+1,N=O[ue];if(0>s(se,I))ue<J&&0>s(N,se)?(O[F]=N,O[ue]=I,F=ue):(O[F]=se,O[ae]=I,F=ae);else if(ue<J&&0>s(N,I))O[F]=N,O[ue]=I,F=ue;else break e}}return z}function s(O,z){var I=O.sortIndex-z.sortIndex;return I!==0?I:O.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var u=Date,l=u.now();e.unstable_now=function(){return u.now()-l}}var c=[],p=[],g=1,m=null,y=3,b=!1,C=!1,x=!1,d=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(O){for(var z=r(p);z!==null;){if(z.callback===null)n(p);else if(z.startTime<=O)n(p),z.sortIndex=z.expirationTime,t(c,z);else break;z=r(p)}}function S(O){if(x=!1,v(O),!C)if(r(c)!==null)C=!0,X(E);else{var z=r(p);z!==null&&ee(S,z.startTime-O)}}function E(O,z){C=!1,x&&(x=!1,_(k),k=-1),b=!0;var I=y;try{for(v(z),m=r(c);m!==null&&(!(m.expirationTime>z)||O&&!H());){var F=m.callback;if(typeof F=="function"){m.callback=null,y=m.priorityLevel;var J=F(m.expirationTime<=z);z=e.unstable_now(),typeof J=="function"?m.callback=J:m===r(c)&&n(c),v(z)}else n(c);m=r(c)}if(m!==null)var ne=!0;else{var ae=r(p);ae!==null&&ee(S,ae.startTime-z),ne=!1}return ne}finally{m=null,y=I,b=!1}}var R=!1,D=null,k=-1,A=5,B=-1;function H(){return!(e.unstable_now()-B<A)}function j(){if(D!==null){var O=e.unstable_now();B=O;var z=!0;try{z=D(!0,O)}finally{z?$():(R=!1,D=null)}}else R=!1}var $;if(typeof f=="function")$=function(){f(j)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,Q=q.port2;q.port1.onmessage=j,$=function(){Q.postMessage(null)}}else $=function(){d(j,0)};function X(O){D=O,R||(R=!0,$())}function ee(O,z){k=d(function(){O(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_continueExecution=function(){C||b||(C=!0,X(E))},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(O){switch(y){case 1:case 2:case 3:var z=3;break;default:z=y}var I=y;y=z;try{return O()}finally{y=I}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(O,z){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var I=y;y=O;try{return z()}finally{y=I}},e.unstable_scheduleCallback=function(O,z,I){var F=e.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?F+I:F):I=F,O){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=I+J,O={id:g++,callback:z,priorityLevel:O,startTime:I,expirationTime:J,sortIndex:-1},I>F?(O.sortIndex=I,t(p,O),r(c)===null&&O===r(p)&&(x?(_(k),k=-1):x=!0,ee(S,I-F))):(O.sortIndex=J,t(c,O),C||b||(C=!0,X(E))),O},e.unstable_shouldYield=H,e.unstable_wrapCallback=function(O){var z=y;return function(){var I=y;y=z;try{return O.apply(this,arguments)}finally{y=I}}}})(xm);Sm.exports=xm;var sS=Sm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oS=V,It=sS;function oe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var bm=new Set,zs={};function Wi(e,t){On(e,t),On(e+"Capture",t)}function On(e,t){for(zs[e]=t,e=0;e<t.length;e++)bm.add(t[e])}var Ir=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hu=Object.prototype.hasOwnProperty,aS=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Wf={},Vf={};function lS(e){return hu.call(Vf,e)?!0:hu.call(Wf,e)?!1:aS.test(e)?Vf[e]=!0:(Wf[e]=!0,!1)}function cS(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function uS(e,t,r,n){if(t===null||typeof t>"u"||cS(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function bt(e,t,r,n,s,a,u){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=u}var ct={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ct[e]=new bt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ct[t]=new bt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ct[e]=new bt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ct[e]=new bt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ct[e]=new bt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ct[e]=new bt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ct[e]=new bt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ct[e]=new bt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ct[e]=new bt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Lh=/[\-:]([a-z])/g;function Ph(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Lh,Ph);ct[t]=new bt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Lh,Ph);ct[t]=new bt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Lh,Ph);ct[t]=new bt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ct[e]=new bt(e,1,!1,e.toLowerCase(),null,!1,!1)});ct.xlinkHref=new bt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ct[e]=new bt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Th(e,t,r,n){var s=ct.hasOwnProperty(t)?ct[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(uS(t,r,s,n)&&(r=null),n||s===null?lS(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Ur=oS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Zo=Symbol.for("react.element"),cn=Symbol.for("react.portal"),un=Symbol.for("react.fragment"),Rh=Symbol.for("react.strict_mode"),du=Symbol.for("react.profiler"),Cm=Symbol.for("react.provider"),Em=Symbol.for("react.context"),Oh=Symbol.for("react.forward_ref"),fu=Symbol.for("react.suspense"),pu=Symbol.for("react.suspense_list"),Ah=Symbol.for("react.memo"),qr=Symbol.for("react.lazy"),km=Symbol.for("react.offscreen"),Kf=Symbol.iterator;function ls(e){return e===null||typeof e!="object"?null:(e=Kf&&e[Kf]||e["@@iterator"],typeof e=="function"?e:null)}var Fe=Object.assign,Lc;function ws(e){if(Lc===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Lc=t&&t[1]||""}return`
`+Lc+e}var Pc=!1;function Tc(e,t){if(!e||Pc)return"";Pc=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(p){var n=p}Reflect.construct(e,[],t)}else{try{t.call()}catch(p){n=p}e.call(t.prototype)}else{try{throw Error()}catch(p){n=p}e()}}catch(p){if(p&&n&&typeof p.stack=="string"){for(var s=p.stack.split(`
`),a=n.stack.split(`
`),u=s.length-1,l=a.length-1;1<=u&&0<=l&&s[u]!==a[l];)l--;for(;1<=u&&0<=l;u--,l--)if(s[u]!==a[l]){if(u!==1||l!==1)do if(u--,l--,0>l||s[u]!==a[l]){var c=`
`+s[u].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=u&&0<=l);break}}}finally{Pc=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?ws(e):""}function hS(e){switch(e.tag){case 5:return ws(e.type);case 16:return ws("Lazy");case 13:return ws("Suspense");case 19:return ws("SuspenseList");case 0:case 2:case 15:return e=Tc(e.type,!1),e;case 11:return e=Tc(e.type.render,!1),e;case 1:return e=Tc(e.type,!0),e;default:return""}}function _u(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case un:return"Fragment";case cn:return"Portal";case du:return"Profiler";case Rh:return"StrictMode";case fu:return"Suspense";case pu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Em:return(e.displayName||"Context")+".Consumer";case Cm:return(e._context.displayName||"Context")+".Provider";case Oh:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ah:return t=e.displayName||null,t!==null?t:_u(e.type)||"Memo";case qr:t=e._payload,e=e._init;try{return _u(e(t))}catch{}}return null}function dS(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _u(t);case 8:return t===Rh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ui(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Lm(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function fS(e){var t=Lm(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(u){n=""+u,a.call(this,u)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(u){n=""+u},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Wo(e){e._valueTracker||(e._valueTracker=fS(e))}function Pm(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Lm(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Oa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function mu(e,t){var r=t.checked;return Fe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function qf(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=ui(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Tm(e,t){t=t.checked,t!=null&&Th(e,"checked",t,!1)}function vu(e,t){Tm(e,t);var r=ui(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?gu(e,t.type,r):t.hasOwnProperty("defaultValue")&&gu(e,t.type,ui(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Gf(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function gu(e,t,r){(t!=="number"||Oa(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Ss=Array.isArray;function bn(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ui(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function yu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(oe(91));return Fe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Jf(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(oe(92));if(Ss(r)){if(1<r.length)throw Error(oe(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ui(r)}}function Rm(e,t){var r=ui(t.value),n=ui(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Xf(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Om(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Om(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Vo,Am=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Vo=Vo||document.createElement("div"),Vo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Vo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function js(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Ls={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pS=["Webkit","ms","Moz","O"];Object.keys(Ls).forEach(function(e){pS.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ls[t]=Ls[e]})});function Dm(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Ls.hasOwnProperty(e)&&Ls[e]?(""+t).trim():t+"px"}function Mm(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Dm(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var _S=Fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Su(e,t){if(t){if(_S[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(oe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(oe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(oe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(oe(62))}}function xu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bu=null;function Dh(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Cu=null,Cn=null,En=null;function Yf(e){if(e=ho(e)){if(typeof Cu!="function")throw Error(oe(280));var t=e.stateNode;t&&(t=xl(t),Cu(e.stateNode,e.type,t))}}function Nm(e){Cn?En?En.push(e):En=[e]:Cn=e}function Im(){if(Cn){var e=Cn,t=En;if(En=Cn=null,Yf(e),t)for(e=0;e<t.length;e++)Yf(t[e])}}function Bm(e,t){return e(t)}function zm(){}var Rc=!1;function jm(e,t,r){if(Rc)return e(t,r);Rc=!0;try{return Bm(e,t,r)}finally{Rc=!1,(Cn!==null||En!==null)&&(zm(),Im())}}function Fs(e,t){var r=e.stateNode;if(r===null)return null;var n=xl(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(oe(231,t,typeof r));return r}var Eu=!1;if(Ir)try{var cs={};Object.defineProperty(cs,"passive",{get:function(){Eu=!0}}),window.addEventListener("test",cs,cs),window.removeEventListener("test",cs,cs)}catch{Eu=!1}function mS(e,t,r,n,s,a,u,l,c){var p=Array.prototype.slice.call(arguments,3);try{t.apply(r,p)}catch(g){this.onError(g)}}var Ps=!1,Aa=null,Da=!1,ku=null,vS={onError:function(e){Ps=!0,Aa=e}};function gS(e,t,r,n,s,a,u,l,c){Ps=!1,Aa=null,mS.apply(vS,arguments)}function yS(e,t,r,n,s,a,u,l,c){if(gS.apply(this,arguments),Ps){if(Ps){var p=Aa;Ps=!1,Aa=null}else throw Error(oe(198));Da||(Da=!0,ku=p)}}function Vi(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Fm(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Qf(e){if(Vi(e)!==e)throw Error(oe(188))}function wS(e){var t=e.alternate;if(!t){if(t=Vi(e),t===null)throw Error(oe(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var a=s.alternate;if(a===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===r)return Qf(s),e;if(a===n)return Qf(s),t;a=a.sibling}throw Error(oe(188))}if(r.return!==n.return)r=s,n=a;else{for(var u=!1,l=s.child;l;){if(l===r){u=!0,r=s,n=a;break}if(l===n){u=!0,n=s,r=a;break}l=l.sibling}if(!u){for(l=a.child;l;){if(l===r){u=!0,r=a,n=s;break}if(l===n){u=!0,n=a,r=s;break}l=l.sibling}if(!u)throw Error(oe(189))}}if(r.alternate!==n)throw Error(oe(190))}if(r.tag!==3)throw Error(oe(188));return r.stateNode.current===r?e:t}function Hm(e){return e=wS(e),e!==null?Um(e):null}function Um(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Um(e);if(t!==null)return t;e=e.sibling}return null}var $m=It.unstable_scheduleCallback,ep=It.unstable_cancelCallback,SS=It.unstable_shouldYield,xS=It.unstable_requestPaint,Ze=It.unstable_now,bS=It.unstable_getCurrentPriorityLevel,Mh=It.unstable_ImmediatePriority,Zm=It.unstable_UserBlockingPriority,Ma=It.unstable_NormalPriority,CS=It.unstable_LowPriority,Wm=It.unstable_IdlePriority,gl=null,yr=null;function ES(e){if(yr&&typeof yr.onCommitFiberRoot=="function")try{yr.onCommitFiberRoot(gl,e,void 0,(e.current.flags&128)===128)}catch{}}var sr=Math.clz32?Math.clz32:PS,kS=Math.log,LS=Math.LN2;function PS(e){return e>>>=0,e===0?32:31-(kS(e)/LS|0)|0}var Ko=64,qo=4194304;function xs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Na(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,a=e.pingedLanes,u=r&268435455;if(u!==0){var l=u&~s;l!==0?n=xs(l):(a&=u,a!==0&&(n=xs(a)))}else u=r&~s,u!==0?n=xs(u):a!==0&&(n=xs(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-sr(t),s=1<<r,n|=e[r],t&=~s;return n}function TS(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function RS(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var u=31-sr(a),l=1<<u,c=s[u];c===-1?(!(l&r)||l&n)&&(s[u]=TS(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function Lu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Vm(){var e=Ko;return Ko<<=1,!(Ko&4194240)&&(Ko=64),e}function Oc(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function co(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-sr(t),e[t]=r}function OS(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-sr(r),a=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~a}}function Nh(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-sr(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Pe=0;function Km(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var qm,Ih,Gm,Jm,Xm,Pu=!1,Go=[],ti=null,ri=null,ii=null,Hs=new Map,Us=new Map,Jr=[],AS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function tp(e,t){switch(e){case"focusin":case"focusout":ti=null;break;case"dragenter":case"dragleave":ri=null;break;case"mouseover":case"mouseout":ii=null;break;case"pointerover":case"pointerout":Hs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Us.delete(t.pointerId)}}function us(e,t,r,n,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[s]},t!==null&&(t=ho(t),t!==null&&Ih(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function DS(e,t,r,n,s){switch(t){case"focusin":return ti=us(ti,e,t,r,n,s),!0;case"dragenter":return ri=us(ri,e,t,r,n,s),!0;case"mouseover":return ii=us(ii,e,t,r,n,s),!0;case"pointerover":var a=s.pointerId;return Hs.set(a,us(Hs.get(a)||null,e,t,r,n,s)),!0;case"gotpointercapture":return a=s.pointerId,Us.set(a,us(Us.get(a)||null,e,t,r,n,s)),!0}return!1}function Ym(e){var t=Ti(e.target);if(t!==null){var r=Vi(t);if(r!==null){if(t=r.tag,t===13){if(t=Fm(r),t!==null){e.blockedOn=t,Xm(e.priority,function(){Gm(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ma(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Tu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);bu=n,r.target.dispatchEvent(n),bu=null}else return t=ho(r),t!==null&&Ih(t),e.blockedOn=r,!1;t.shift()}return!0}function rp(e,t,r){ma(e)&&r.delete(t)}function MS(){Pu=!1,ti!==null&&ma(ti)&&(ti=null),ri!==null&&ma(ri)&&(ri=null),ii!==null&&ma(ii)&&(ii=null),Hs.forEach(rp),Us.forEach(rp)}function hs(e,t){e.blockedOn===t&&(e.blockedOn=null,Pu||(Pu=!0,It.unstable_scheduleCallback(It.unstable_NormalPriority,MS)))}function $s(e){function t(s){return hs(s,e)}if(0<Go.length){hs(Go[0],e);for(var r=1;r<Go.length;r++){var n=Go[r];n.blockedOn===e&&(n.blockedOn=null)}}for(ti!==null&&hs(ti,e),ri!==null&&hs(ri,e),ii!==null&&hs(ii,e),Hs.forEach(t),Us.forEach(t),r=0;r<Jr.length;r++)n=Jr[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Jr.length&&(r=Jr[0],r.blockedOn===null);)Ym(r),r.blockedOn===null&&Jr.shift()}var kn=Ur.ReactCurrentBatchConfig,Ia=!0;function NS(e,t,r,n){var s=Pe,a=kn.transition;kn.transition=null;try{Pe=1,Bh(e,t,r,n)}finally{Pe=s,kn.transition=a}}function IS(e,t,r,n){var s=Pe,a=kn.transition;kn.transition=null;try{Pe=4,Bh(e,t,r,n)}finally{Pe=s,kn.transition=a}}function Bh(e,t,r,n){if(Ia){var s=Tu(e,t,r,n);if(s===null)Hc(e,t,n,Ba,r),tp(e,n);else if(DS(s,e,t,r,n))n.stopPropagation();else if(tp(e,n),t&4&&-1<AS.indexOf(e)){for(;s!==null;){var a=ho(s);if(a!==null&&qm(a),a=Tu(e,t,r,n),a===null&&Hc(e,t,n,Ba,r),a===s)break;s=a}s!==null&&n.stopPropagation()}else Hc(e,t,n,null,r)}}var Ba=null;function Tu(e,t,r,n){if(Ba=null,e=Dh(n),e=Ti(e),e!==null)if(t=Vi(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Fm(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ba=e,null}function Qm(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bS()){case Mh:return 1;case Zm:return 4;case Ma:case CS:return 16;case Wm:return 536870912;default:return 16}default:return 16}}var Yr=null,zh=null,va=null;function ev(){if(va)return va;var e,t=zh,r=t.length,n,s="value"in Yr?Yr.value:Yr.textContent,a=s.length;for(e=0;e<r&&t[e]===s[e];e++);var u=r-e;for(n=1;n<=u&&t[r-n]===s[a-n];n++);return va=s.slice(e,1<n?1-n:void 0)}function ga(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Jo(){return!0}function ip(){return!1}function zt(e){function t(r,n,s,a,u){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=a,this.target=u,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Jo:ip,this.isPropagationStopped=ip,this}return Fe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Jo)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Jo)},persist:function(){},isPersistent:Jo}),t}var Hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jh=zt(Hn),uo=Fe({},Hn,{view:0,detail:0}),BS=zt(uo),Ac,Dc,ds,yl=Fe({},uo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fh,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ds&&(ds&&e.type==="mousemove"?(Ac=e.screenX-ds.screenX,Dc=e.screenY-ds.screenY):Dc=Ac=0,ds=e),Ac)},movementY:function(e){return"movementY"in e?e.movementY:Dc}}),np=zt(yl),zS=Fe({},yl,{dataTransfer:0}),jS=zt(zS),FS=Fe({},uo,{relatedTarget:0}),Mc=zt(FS),HS=Fe({},Hn,{animationName:0,elapsedTime:0,pseudoElement:0}),US=zt(HS),$S=Fe({},Hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ZS=zt($S),WS=Fe({},Hn,{data:0}),sp=zt(WS),VS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},KS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function GS(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=qS[e])?!!t[e]:!1}function Fh(){return GS}var JS=Fe({},uo,{key:function(e){if(e.key){var t=VS[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ga(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?KS[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fh,charCode:function(e){return e.type==="keypress"?ga(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ga(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),XS=zt(JS),YS=Fe({},yl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),op=zt(YS),QS=Fe({},uo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fh}),e1=zt(QS),t1=Fe({},Hn,{propertyName:0,elapsedTime:0,pseudoElement:0}),r1=zt(t1),i1=Fe({},yl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),n1=zt(i1),s1=[9,13,27,32],Hh=Ir&&"CompositionEvent"in window,Ts=null;Ir&&"documentMode"in document&&(Ts=document.documentMode);var o1=Ir&&"TextEvent"in window&&!Ts,tv=Ir&&(!Hh||Ts&&8<Ts&&11>=Ts),ap=" ",lp=!1;function rv(e,t){switch(e){case"keyup":return s1.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function iv(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var hn=!1;function a1(e,t){switch(e){case"compositionend":return iv(t);case"keypress":return t.which!==32?null:(lp=!0,ap);case"textInput":return e=t.data,e===ap&&lp?null:e;default:return null}}function l1(e,t){if(hn)return e==="compositionend"||!Hh&&rv(e,t)?(e=ev(),va=zh=Yr=null,hn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return tv&&t.locale!=="ko"?null:t.data;default:return null}}var c1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!c1[e.type]:t==="textarea"}function nv(e,t,r,n){Nm(n),t=za(t,"onChange"),0<t.length&&(r=new jh("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Rs=null,Zs=null;function u1(e){_v(e,0)}function wl(e){var t=pn(e);if(Pm(t))return e}function h1(e,t){if(e==="change")return t}var sv=!1;if(Ir){var Nc;if(Ir){var Ic="oninput"in document;if(!Ic){var up=document.createElement("div");up.setAttribute("oninput","return;"),Ic=typeof up.oninput=="function"}Nc=Ic}else Nc=!1;sv=Nc&&(!document.documentMode||9<document.documentMode)}function hp(){Rs&&(Rs.detachEvent("onpropertychange",ov),Zs=Rs=null)}function ov(e){if(e.propertyName==="value"&&wl(Zs)){var t=[];nv(t,Zs,e,Dh(e)),jm(u1,t)}}function d1(e,t,r){e==="focusin"?(hp(),Rs=t,Zs=r,Rs.attachEvent("onpropertychange",ov)):e==="focusout"&&hp()}function f1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return wl(Zs)}function p1(e,t){if(e==="click")return wl(t)}function _1(e,t){if(e==="input"||e==="change")return wl(t)}function m1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ar=typeof Object.is=="function"?Object.is:m1;function Ws(e,t){if(ar(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!hu.call(t,s)||!ar(e[s],t[s]))return!1}return!0}function dp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fp(e,t){var r=dp(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dp(r)}}function av(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?av(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function lv(){for(var e=window,t=Oa();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Oa(e.document)}return t}function Uh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function v1(e){var t=lv(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&av(r.ownerDocument.documentElement,r)){if(n!==null&&Uh(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,a=Math.min(n.start,s);n=n.end===void 0?a:Math.min(n.end,s),!e.extend&&a>n&&(s=n,n=a,a=s),s=fp(r,a);var u=fp(r,n);s&&u&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==u.node||e.focusOffset!==u.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(u.node,u.offset)):(t.setEnd(u.node,u.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var g1=Ir&&"documentMode"in document&&11>=document.documentMode,dn=null,Ru=null,Os=null,Ou=!1;function pp(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ou||dn==null||dn!==Oa(n)||(n=dn,"selectionStart"in n&&Uh(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Os&&Ws(Os,n)||(Os=n,n=za(Ru,"onSelect"),0<n.length&&(t=new jh("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=dn)))}function Xo(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var fn={animationend:Xo("Animation","AnimationEnd"),animationiteration:Xo("Animation","AnimationIteration"),animationstart:Xo("Animation","AnimationStart"),transitionend:Xo("Transition","TransitionEnd")},Bc={},cv={};Ir&&(cv=document.createElement("div").style,"AnimationEvent"in window||(delete fn.animationend.animation,delete fn.animationiteration.animation,delete fn.animationstart.animation),"TransitionEvent"in window||delete fn.transitionend.transition);function Sl(e){if(Bc[e])return Bc[e];if(!fn[e])return e;var t=fn[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in cv)return Bc[e]=t[r];return e}var uv=Sl("animationend"),hv=Sl("animationiteration"),dv=Sl("animationstart"),fv=Sl("transitionend"),pv=new Map,_p="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fi(e,t){pv.set(e,t),Wi(t,[e])}for(var zc=0;zc<_p.length;zc++){var jc=_p[zc],y1=jc.toLowerCase(),w1=jc[0].toUpperCase()+jc.slice(1);fi(y1,"on"+w1)}fi(uv,"onAnimationEnd");fi(hv,"onAnimationIteration");fi(dv,"onAnimationStart");fi("dblclick","onDoubleClick");fi("focusin","onFocus");fi("focusout","onBlur");fi(fv,"onTransitionEnd");On("onMouseEnter",["mouseout","mouseover"]);On("onMouseLeave",["mouseout","mouseover"]);On("onPointerEnter",["pointerout","pointerover"]);On("onPointerLeave",["pointerout","pointerover"]);Wi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Wi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Wi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Wi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Wi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Wi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),S1=new Set("cancel close invalid load scroll toggle".split(" ").concat(bs));function mp(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,yS(n,t,void 0,e),e.currentTarget=null}function _v(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var u=n.length-1;0<=u;u--){var l=n[u],c=l.instance,p=l.currentTarget;if(l=l.listener,c!==a&&s.isPropagationStopped())break e;mp(s,l,p),a=c}else for(u=0;u<n.length;u++){if(l=n[u],c=l.instance,p=l.currentTarget,l=l.listener,c!==a&&s.isPropagationStopped())break e;mp(s,l,p),a=c}}}if(Da)throw e=ku,Da=!1,ku=null,e}function Ae(e,t){var r=t[Iu];r===void 0&&(r=t[Iu]=new Set);var n=e+"__bubble";r.has(n)||(mv(t,e,2,!1),r.add(n))}function Fc(e,t,r){var n=0;t&&(n|=4),mv(r,e,n,t)}var Yo="_reactListening"+Math.random().toString(36).slice(2);function Vs(e){if(!e[Yo]){e[Yo]=!0,bm.forEach(function(r){r!=="selectionchange"&&(S1.has(r)||Fc(r,!1,e),Fc(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Yo]||(t[Yo]=!0,Fc("selectionchange",!1,t))}}function mv(e,t,r,n){switch(Qm(t)){case 1:var s=NS;break;case 4:s=IS;break;default:s=Bh}r=s.bind(null,t,r,e),s=void 0,!Eu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Hc(e,t,r,n,s){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var u=n.tag;if(u===3||u===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(u===4)for(u=n.return;u!==null;){var c=u.tag;if((c===3||c===4)&&(c=u.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;u=u.return}for(;l!==null;){if(u=Ti(l),u===null)return;if(c=u.tag,c===5||c===6){n=a=u;continue e}l=l.parentNode}}n=n.return}jm(function(){var p=a,g=Dh(r),m=[];e:{var y=pv.get(e);if(y!==void 0){var b=jh,C=e;switch(e){case"keypress":if(ga(r)===0)break e;case"keydown":case"keyup":b=XS;break;case"focusin":C="focus",b=Mc;break;case"focusout":C="blur",b=Mc;break;case"beforeblur":case"afterblur":b=Mc;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":b=np;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":b=jS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":b=e1;break;case uv:case hv:case dv:b=US;break;case fv:b=r1;break;case"scroll":b=BS;break;case"wheel":b=n1;break;case"copy":case"cut":case"paste":b=ZS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":b=op}var x=(t&4)!==0,d=!x&&e==="scroll",_=x?y!==null?y+"Capture":null:y;x=[];for(var f=p,v;f!==null;){v=f;var S=v.stateNode;if(v.tag===5&&S!==null&&(v=S,_!==null&&(S=Fs(f,_),S!=null&&x.push(Ks(f,S,v)))),d)break;f=f.return}0<x.length&&(y=new b(y,C,null,r,g),m.push({event:y,listeners:x}))}}if(!(t&7)){e:{if(y=e==="mouseover"||e==="pointerover",b=e==="mouseout"||e==="pointerout",y&&r!==bu&&(C=r.relatedTarget||r.fromElement)&&(Ti(C)||C[Br]))break e;if((b||y)&&(y=g.window===g?g:(y=g.ownerDocument)?y.defaultView||y.parentWindow:window,b?(C=r.relatedTarget||r.toElement,b=p,C=C?Ti(C):null,C!==null&&(d=Vi(C),C!==d||C.tag!==5&&C.tag!==6)&&(C=null)):(b=null,C=p),b!==C)){if(x=np,S="onMouseLeave",_="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(x=op,S="onPointerLeave",_="onPointerEnter",f="pointer"),d=b==null?y:pn(b),v=C==null?y:pn(C),y=new x(S,f+"leave",b,r,g),y.target=d,y.relatedTarget=v,S=null,Ti(g)===p&&(x=new x(_,f+"enter",C,r,g),x.target=v,x.relatedTarget=d,S=x),d=S,b&&C)t:{for(x=b,_=C,f=0,v=x;v;v=an(v))f++;for(v=0,S=_;S;S=an(S))v++;for(;0<f-v;)x=an(x),f--;for(;0<v-f;)_=an(_),v--;for(;f--;){if(x===_||_!==null&&x===_.alternate)break t;x=an(x),_=an(_)}x=null}else x=null;b!==null&&vp(m,y,b,x,!1),C!==null&&d!==null&&vp(m,d,C,x,!0)}}e:{if(y=p?pn(p):window,b=y.nodeName&&y.nodeName.toLowerCase(),b==="select"||b==="input"&&y.type==="file")var E=h1;else if(cp(y))if(sv)E=_1;else{E=f1;var R=d1}else(b=y.nodeName)&&b.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(E=p1);if(E&&(E=E(e,p))){nv(m,E,r,g);break e}R&&R(e,y,p),e==="focusout"&&(R=y._wrapperState)&&R.controlled&&y.type==="number"&&gu(y,"number",y.value)}switch(R=p?pn(p):window,e){case"focusin":(cp(R)||R.contentEditable==="true")&&(dn=R,Ru=p,Os=null);break;case"focusout":Os=Ru=dn=null;break;case"mousedown":Ou=!0;break;case"contextmenu":case"mouseup":case"dragend":Ou=!1,pp(m,r,g);break;case"selectionchange":if(g1)break;case"keydown":case"keyup":pp(m,r,g)}var D;if(Hh)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else hn?rv(e,r)&&(k="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(tv&&r.locale!=="ko"&&(hn||k!=="onCompositionStart"?k==="onCompositionEnd"&&hn&&(D=ev()):(Yr=g,zh="value"in Yr?Yr.value:Yr.textContent,hn=!0)),R=za(p,k),0<R.length&&(k=new sp(k,e,null,r,g),m.push({event:k,listeners:R}),D?k.data=D:(D=iv(r),D!==null&&(k.data=D)))),(D=o1?a1(e,r):l1(e,r))&&(p=za(p,"onBeforeInput"),0<p.length&&(g=new sp("onBeforeInput","beforeinput",null,r,g),m.push({event:g,listeners:p}),g.data=D))}_v(m,t)})}function Ks(e,t,r){return{instance:e,listener:t,currentTarget:r}}function za(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=Fs(e,r),a!=null&&n.unshift(Ks(e,a,s)),a=Fs(e,t),a!=null&&n.push(Ks(e,a,s))),e=e.return}return n}function an(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function vp(e,t,r,n,s){for(var a=t._reactName,u=[];r!==null&&r!==n;){var l=r,c=l.alternate,p=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&p!==null&&(l=p,s?(c=Fs(r,a),c!=null&&u.unshift(Ks(r,c,l))):s||(c=Fs(r,a),c!=null&&u.push(Ks(r,c,l)))),r=r.return}u.length!==0&&e.push({event:t,listeners:u})}var x1=/\r\n?/g,b1=/\u0000|\uFFFD/g;function gp(e){return(typeof e=="string"?e:""+e).replace(x1,`
`).replace(b1,"")}function Qo(e,t,r){if(t=gp(t),gp(e)!==t&&r)throw Error(oe(425))}function ja(){}var Au=null,Du=null;function Mu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Nu=typeof setTimeout=="function"?setTimeout:void 0,C1=typeof clearTimeout=="function"?clearTimeout:void 0,yp=typeof Promise=="function"?Promise:void 0,E1=typeof queueMicrotask=="function"?queueMicrotask:typeof yp<"u"?function(e){return yp.resolve(null).then(e).catch(k1)}:Nu;function k1(e){setTimeout(function(){throw e})}function Uc(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),$s(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);$s(t)}function ni(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function wp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Un=Math.random().toString(36).slice(2),gr="__reactFiber$"+Un,qs="__reactProps$"+Un,Br="__reactContainer$"+Un,Iu="__reactEvents$"+Un,L1="__reactListeners$"+Un,P1="__reactHandles$"+Un;function Ti(e){var t=e[gr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Br]||r[gr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=wp(e);e!==null;){if(r=e[gr])return r;e=wp(e)}return t}e=r,r=e.parentNode}return null}function ho(e){return e=e[gr]||e[Br],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function pn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(oe(33))}function xl(e){return e[qs]||null}var Bu=[],_n=-1;function pi(e){return{current:e}}function De(e){0>_n||(e.current=Bu[_n],Bu[_n]=null,_n--)}function Re(e,t){_n++,Bu[_n]=e.current,e.current=t}var hi={},_t=pi(hi),Lt=pi(!1),Ii=hi;function An(e,t){var r=e.type.contextTypes;if(!r)return hi;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in r)s[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Pt(e){return e=e.childContextTypes,e!=null}function Fa(){De(Lt),De(_t)}function Sp(e,t,r){if(_t.current!==hi)throw Error(oe(168));Re(_t,t),Re(Lt,r)}function vv(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(oe(108,dS(e)||"Unknown",s));return Fe({},r,n)}function Ha(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hi,Ii=_t.current,Re(_t,e),Re(Lt,Lt.current),!0}function xp(e,t,r){var n=e.stateNode;if(!n)throw Error(oe(169));r?(e=vv(e,t,Ii),n.__reactInternalMemoizedMergedChildContext=e,De(Lt),De(_t),Re(_t,e)):De(Lt),Re(Lt,r)}var Rr=null,bl=!1,$c=!1;function gv(e){Rr===null?Rr=[e]:Rr.push(e)}function T1(e){bl=!0,gv(e)}function _i(){if(!$c&&Rr!==null){$c=!0;var e=0,t=Pe;try{var r=Rr;for(Pe=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Rr=null,bl=!1}catch(s){throw Rr!==null&&(Rr=Rr.slice(e+1)),$m(Mh,_i),s}finally{Pe=t,$c=!1}}return null}var mn=[],vn=0,Ua=null,$a=0,$t=[],Zt=0,Bi=null,Ar=1,Dr="";function Li(e,t){mn[vn++]=$a,mn[vn++]=Ua,Ua=e,$a=t}function yv(e,t,r){$t[Zt++]=Ar,$t[Zt++]=Dr,$t[Zt++]=Bi,Bi=e;var n=Ar;e=Dr;var s=32-sr(n)-1;n&=~(1<<s),r+=1;var a=32-sr(t)+s;if(30<a){var u=s-s%5;a=(n&(1<<u)-1).toString(32),n>>=u,s-=u,Ar=1<<32-sr(t)+s|r<<s|n,Dr=a+e}else Ar=1<<a|r<<s|n,Dr=e}function $h(e){e.return!==null&&(Li(e,1),yv(e,1,0))}function Zh(e){for(;e===Ua;)Ua=mn[--vn],mn[vn]=null,$a=mn[--vn],mn[vn]=null;for(;e===Bi;)Bi=$t[--Zt],$t[Zt]=null,Dr=$t[--Zt],$t[Zt]=null,Ar=$t[--Zt],$t[Zt]=null}var Nt=null,Dt=null,Me=!1,ir=null;function wv(e,t){var r=Wt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function bp(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Nt=e,Dt=ni(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Nt=e,Dt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Bi!==null?{id:Ar,overflow:Dr}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Wt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Nt=e,Dt=null,!0):!1;default:return!1}}function zu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ju(e){if(Me){var t=Dt;if(t){var r=t;if(!bp(e,t)){if(zu(e))throw Error(oe(418));t=ni(r.nextSibling);var n=Nt;t&&bp(e,t)?wv(n,r):(e.flags=e.flags&-4097|2,Me=!1,Nt=e)}}else{if(zu(e))throw Error(oe(418));e.flags=e.flags&-4097|2,Me=!1,Nt=e}}}function Cp(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Nt=e}function ea(e){if(e!==Nt)return!1;if(!Me)return Cp(e),Me=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Mu(e.type,e.memoizedProps)),t&&(t=Dt)){if(zu(e))throw Sv(),Error(oe(418));for(;t;)wv(e,t),t=ni(t.nextSibling)}if(Cp(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(oe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Dt=ni(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Dt=null}}else Dt=Nt?ni(e.stateNode.nextSibling):null;return!0}function Sv(){for(var e=Dt;e;)e=ni(e.nextSibling)}function Dn(){Dt=Nt=null,Me=!1}function Wh(e){ir===null?ir=[e]:ir.push(e)}var R1=Ur.ReactCurrentBatchConfig;function fs(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(oe(309));var n=r.stateNode}if(!n)throw Error(oe(147,e));var s=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(u){var l=s.refs;u===null?delete l[a]:l[a]=u},t._stringRef=a,t)}if(typeof e!="string")throw Error(oe(284));if(!r._owner)throw Error(oe(290,e))}return e}function ta(e,t){throw e=Object.prototype.toString.call(t),Error(oe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ep(e){var t=e._init;return t(e._payload)}function xv(e){function t(_,f){if(e){var v=_.deletions;v===null?(_.deletions=[f],_.flags|=16):v.push(f)}}function r(_,f){if(!e)return null;for(;f!==null;)t(_,f),f=f.sibling;return null}function n(_,f){for(_=new Map;f!==null;)f.key!==null?_.set(f.key,f):_.set(f.index,f),f=f.sibling;return _}function s(_,f){return _=li(_,f),_.index=0,_.sibling=null,_}function a(_,f,v){return _.index=v,e?(v=_.alternate,v!==null?(v=v.index,v<f?(_.flags|=2,f):v):(_.flags|=2,f)):(_.flags|=1048576,f)}function u(_){return e&&_.alternate===null&&(_.flags|=2),_}function l(_,f,v,S){return f===null||f.tag!==6?(f=Jc(v,_.mode,S),f.return=_,f):(f=s(f,v),f.return=_,f)}function c(_,f,v,S){var E=v.type;return E===un?g(_,f,v.props.children,S,v.key):f!==null&&(f.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===qr&&Ep(E)===f.type)?(S=s(f,v.props),S.ref=fs(_,f,v),S.return=_,S):(S=Ea(v.type,v.key,v.props,null,_.mode,S),S.ref=fs(_,f,v),S.return=_,S)}function p(_,f,v,S){return f===null||f.tag!==4||f.stateNode.containerInfo!==v.containerInfo||f.stateNode.implementation!==v.implementation?(f=Xc(v,_.mode,S),f.return=_,f):(f=s(f,v.children||[]),f.return=_,f)}function g(_,f,v,S,E){return f===null||f.tag!==7?(f=Mi(v,_.mode,S,E),f.return=_,f):(f=s(f,v),f.return=_,f)}function m(_,f,v){if(typeof f=="string"&&f!==""||typeof f=="number")return f=Jc(""+f,_.mode,v),f.return=_,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Zo:return v=Ea(f.type,f.key,f.props,null,_.mode,v),v.ref=fs(_,null,f),v.return=_,v;case cn:return f=Xc(f,_.mode,v),f.return=_,f;case qr:var S=f._init;return m(_,S(f._payload),v)}if(Ss(f)||ls(f))return f=Mi(f,_.mode,v,null),f.return=_,f;ta(_,f)}return null}function y(_,f,v,S){var E=f!==null?f.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return E!==null?null:l(_,f,""+v,S);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Zo:return v.key===E?c(_,f,v,S):null;case cn:return v.key===E?p(_,f,v,S):null;case qr:return E=v._init,y(_,f,E(v._payload),S)}if(Ss(v)||ls(v))return E!==null?null:g(_,f,v,S,null);ta(_,v)}return null}function b(_,f,v,S,E){if(typeof S=="string"&&S!==""||typeof S=="number")return _=_.get(v)||null,l(f,_,""+S,E);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Zo:return _=_.get(S.key===null?v:S.key)||null,c(f,_,S,E);case cn:return _=_.get(S.key===null?v:S.key)||null,p(f,_,S,E);case qr:var R=S._init;return b(_,f,v,R(S._payload),E)}if(Ss(S)||ls(S))return _=_.get(v)||null,g(f,_,S,E,null);ta(f,S)}return null}function C(_,f,v,S){for(var E=null,R=null,D=f,k=f=0,A=null;D!==null&&k<v.length;k++){D.index>k?(A=D,D=null):A=D.sibling;var B=y(_,D,v[k],S);if(B===null){D===null&&(D=A);break}e&&D&&B.alternate===null&&t(_,D),f=a(B,f,k),R===null?E=B:R.sibling=B,R=B,D=A}if(k===v.length)return r(_,D),Me&&Li(_,k),E;if(D===null){for(;k<v.length;k++)D=m(_,v[k],S),D!==null&&(f=a(D,f,k),R===null?E=D:R.sibling=D,R=D);return Me&&Li(_,k),E}for(D=n(_,D);k<v.length;k++)A=b(D,_,k,v[k],S),A!==null&&(e&&A.alternate!==null&&D.delete(A.key===null?k:A.key),f=a(A,f,k),R===null?E=A:R.sibling=A,R=A);return e&&D.forEach(function(H){return t(_,H)}),Me&&Li(_,k),E}function x(_,f,v,S){var E=ls(v);if(typeof E!="function")throw Error(oe(150));if(v=E.call(v),v==null)throw Error(oe(151));for(var R=E=null,D=f,k=f=0,A=null,B=v.next();D!==null&&!B.done;k++,B=v.next()){D.index>k?(A=D,D=null):A=D.sibling;var H=y(_,D,B.value,S);if(H===null){D===null&&(D=A);break}e&&D&&H.alternate===null&&t(_,D),f=a(H,f,k),R===null?E=H:R.sibling=H,R=H,D=A}if(B.done)return r(_,D),Me&&Li(_,k),E;if(D===null){for(;!B.done;k++,B=v.next())B=m(_,B.value,S),B!==null&&(f=a(B,f,k),R===null?E=B:R.sibling=B,R=B);return Me&&Li(_,k),E}for(D=n(_,D);!B.done;k++,B=v.next())B=b(D,_,k,B.value,S),B!==null&&(e&&B.alternate!==null&&D.delete(B.key===null?k:B.key),f=a(B,f,k),R===null?E=B:R.sibling=B,R=B);return e&&D.forEach(function(j){return t(_,j)}),Me&&Li(_,k),E}function d(_,f,v,S){if(typeof v=="object"&&v!==null&&v.type===un&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Zo:e:{for(var E=v.key,R=f;R!==null;){if(R.key===E){if(E=v.type,E===un){if(R.tag===7){r(_,R.sibling),f=s(R,v.props.children),f.return=_,_=f;break e}}else if(R.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===qr&&Ep(E)===R.type){r(_,R.sibling),f=s(R,v.props),f.ref=fs(_,R,v),f.return=_,_=f;break e}r(_,R);break}else t(_,R);R=R.sibling}v.type===un?(f=Mi(v.props.children,_.mode,S,v.key),f.return=_,_=f):(S=Ea(v.type,v.key,v.props,null,_.mode,S),S.ref=fs(_,f,v),S.return=_,_=S)}return u(_);case cn:e:{for(R=v.key;f!==null;){if(f.key===R)if(f.tag===4&&f.stateNode.containerInfo===v.containerInfo&&f.stateNode.implementation===v.implementation){r(_,f.sibling),f=s(f,v.children||[]),f.return=_,_=f;break e}else{r(_,f);break}else t(_,f);f=f.sibling}f=Xc(v,_.mode,S),f.return=_,_=f}return u(_);case qr:return R=v._init,d(_,f,R(v._payload),S)}if(Ss(v))return C(_,f,v,S);if(ls(v))return x(_,f,v,S);ta(_,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,f!==null&&f.tag===6?(r(_,f.sibling),f=s(f,v),f.return=_,_=f):(r(_,f),f=Jc(v,_.mode,S),f.return=_,_=f),u(_)):r(_,f)}return d}var Mn=xv(!0),bv=xv(!1),Za=pi(null),Wa=null,gn=null,Vh=null;function Kh(){Vh=gn=Wa=null}function qh(e){var t=Za.current;De(Za),e._currentValue=t}function Fu(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ln(e,t){Wa=e,Vh=gn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(kt=!0),e.firstContext=null)}function Kt(e){var t=e._currentValue;if(Vh!==e)if(e={context:e,memoizedValue:t,next:null},gn===null){if(Wa===null)throw Error(oe(308));gn=e,Wa.dependencies={lanes:0,firstContext:e}}else gn=gn.next=e;return t}var Ri=null;function Gh(e){Ri===null?Ri=[e]:Ri.push(e)}function Cv(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Gh(t)):(r.next=s.next,s.next=r),t.interleaved=r,zr(e,n)}function zr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Gr=!1;function Jh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ev(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Mr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function si(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Ee&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,zr(e,r)}return s=n.interleaved,s===null?(t.next=t,Gh(n)):(t.next=s.next,s.next=t),n.interleaved=t,zr(e,r)}function ya(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Nh(e,r)}}function kp(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var u={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?s=a=u:a=a.next=u,r=r.next}while(r!==null);a===null?s=a=t:a=a.next=t}else s=a=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Va(e,t,r,n){var s=e.updateQueue;Gr=!1;var a=s.firstBaseUpdate,u=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,p=c.next;c.next=null,u===null?a=p:u.next=p,u=c;var g=e.alternate;g!==null&&(g=g.updateQueue,l=g.lastBaseUpdate,l!==u&&(l===null?g.firstBaseUpdate=p:l.next=p,g.lastBaseUpdate=c))}if(a!==null){var m=s.baseState;u=0,g=p=c=null,l=a;do{var y=l.lane,b=l.eventTime;if((n&y)===y){g!==null&&(g=g.next={eventTime:b,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var C=e,x=l;switch(y=t,b=r,x.tag){case 1:if(C=x.payload,typeof C=="function"){m=C.call(b,m,y);break e}m=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=x.payload,y=typeof C=="function"?C.call(b,m,y):C,y==null)break e;m=Fe({},m,y);break e;case 2:Gr=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,y=s.effects,y===null?s.effects=[l]:y.push(l))}else b={eventTime:b,lane:y,tag:l.tag,payload:l.payload,callback:l.callback,next:null},g===null?(p=g=b,c=m):g=g.next=b,u|=y;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;y=l,l=y.next,y.next=null,s.lastBaseUpdate=y,s.shared.pending=null}}while(!0);if(g===null&&(c=m),s.baseState=c,s.firstBaseUpdate=p,s.lastBaseUpdate=g,t=s.shared.interleaved,t!==null){s=t;do u|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);ji|=u,e.lanes=u,e.memoizedState=m}}function Lp(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(oe(191,s));s.call(n)}}}var fo={},wr=pi(fo),Gs=pi(fo),Js=pi(fo);function Oi(e){if(e===fo)throw Error(oe(174));return e}function Xh(e,t){switch(Re(Js,t),Re(Gs,e),Re(wr,fo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:wu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=wu(t,e)}De(wr),Re(wr,t)}function Nn(){De(wr),De(Gs),De(Js)}function kv(e){Oi(Js.current);var t=Oi(wr.current),r=wu(t,e.type);t!==r&&(Re(Gs,e),Re(wr,r))}function Yh(e){Gs.current===e&&(De(wr),De(Gs))}var ze=pi(0);function Ka(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Zc=[];function Qh(){for(var e=0;e<Zc.length;e++)Zc[e]._workInProgressVersionPrimary=null;Zc.length=0}var wa=Ur.ReactCurrentDispatcher,Wc=Ur.ReactCurrentBatchConfig,zi=0,je=null,Je=null,tt=null,qa=!1,As=!1,Xs=0,O1=0;function ht(){throw Error(oe(321))}function ed(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ar(e[r],t[r]))return!1;return!0}function td(e,t,r,n,s,a){if(zi=a,je=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,wa.current=e===null||e.memoizedState===null?N1:I1,e=r(n,s),As){a=0;do{if(As=!1,Xs=0,25<=a)throw Error(oe(301));a+=1,tt=Je=null,t.updateQueue=null,wa.current=B1,e=r(n,s)}while(As)}if(wa.current=Ga,t=Je!==null&&Je.next!==null,zi=0,tt=Je=je=null,qa=!1,t)throw Error(oe(300));return e}function rd(){var e=Xs!==0;return Xs=0,e}function vr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tt===null?je.memoizedState=tt=e:tt=tt.next=e,tt}function qt(){if(Je===null){var e=je.alternate;e=e!==null?e.memoizedState:null}else e=Je.next;var t=tt===null?je.memoizedState:tt.next;if(t!==null)tt=t,Je=e;else{if(e===null)throw Error(oe(310));Je=e,e={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},tt===null?je.memoizedState=tt=e:tt=tt.next=e}return tt}function Ys(e,t){return typeof t=="function"?t(e):t}function Vc(e){var t=qt(),r=t.queue;if(r===null)throw Error(oe(311));r.lastRenderedReducer=e;var n=Je,s=n.baseQueue,a=r.pending;if(a!==null){if(s!==null){var u=s.next;s.next=a.next,a.next=u}n.baseQueue=s=a,r.pending=null}if(s!==null){a=s.next,n=n.baseState;var l=u=null,c=null,p=a;do{var g=p.lane;if((zi&g)===g)c!==null&&(c=c.next={lane:0,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null}),n=p.hasEagerState?p.eagerState:e(n,p.action);else{var m={lane:g,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null};c===null?(l=c=m,u=n):c=c.next=m,je.lanes|=g,ji|=g}p=p.next}while(p!==null&&p!==a);c===null?u=n:c.next=l,ar(n,t.memoizedState)||(kt=!0),t.memoizedState=n,t.baseState=u,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do a=s.lane,je.lanes|=a,ji|=a,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Kc(e){var t=qt(),r=t.queue;if(r===null)throw Error(oe(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,a=t.memoizedState;if(s!==null){r.pending=null;var u=s=s.next;do a=e(a,u.action),u=u.next;while(u!==s);ar(a,t.memoizedState)||(kt=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function Lv(){}function Pv(e,t){var r=je,n=qt(),s=t(),a=!ar(n.memoizedState,s);if(a&&(n.memoizedState=s,kt=!0),n=n.queue,id(Ov.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||tt!==null&&tt.memoizedState.tag&1){if(r.flags|=2048,Qs(9,Rv.bind(null,r,n,s,t),void 0,null),rt===null)throw Error(oe(349));zi&30||Tv(r,t,s)}return s}function Tv(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=je.updateQueue,t===null?(t={lastEffect:null,stores:null},je.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Rv(e,t,r,n){t.value=r,t.getSnapshot=n,Av(t)&&Dv(e)}function Ov(e,t,r){return r(function(){Av(t)&&Dv(e)})}function Av(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ar(e,r)}catch{return!0}}function Dv(e){var t=zr(e,1);t!==null&&or(t,e,1,-1)}function Pp(e){var t=vr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ys,lastRenderedState:e},t.queue=e,e=e.dispatch=M1.bind(null,je,e),[t.memoizedState,e]}function Qs(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=je.updateQueue,t===null?(t={lastEffect:null,stores:null},je.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Mv(){return qt().memoizedState}function Sa(e,t,r,n){var s=vr();je.flags|=e,s.memoizedState=Qs(1|t,r,void 0,n===void 0?null:n)}function Cl(e,t,r,n){var s=qt();n=n===void 0?null:n;var a=void 0;if(Je!==null){var u=Je.memoizedState;if(a=u.destroy,n!==null&&ed(n,u.deps)){s.memoizedState=Qs(t,r,a,n);return}}je.flags|=e,s.memoizedState=Qs(1|t,r,a,n)}function Tp(e,t){return Sa(8390656,8,e,t)}function id(e,t){return Cl(2048,8,e,t)}function Nv(e,t){return Cl(4,2,e,t)}function Iv(e,t){return Cl(4,4,e,t)}function Bv(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function zv(e,t,r){return r=r!=null?r.concat([e]):null,Cl(4,4,Bv.bind(null,t,e),r)}function nd(){}function jv(e,t){var r=qt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&ed(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Fv(e,t){var r=qt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&ed(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Hv(e,t,r){return zi&21?(ar(r,t)||(r=Vm(),je.lanes|=r,ji|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,kt=!0),e.memoizedState=r)}function A1(e,t){var r=Pe;Pe=r!==0&&4>r?r:4,e(!0);var n=Wc.transition;Wc.transition={};try{e(!1),t()}finally{Pe=r,Wc.transition=n}}function Uv(){return qt().memoizedState}function D1(e,t,r){var n=ai(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},$v(e))Zv(t,r);else if(r=Cv(e,t,r,n),r!==null){var s=wt();or(r,e,n,s),Wv(r,t,n)}}function M1(e,t,r){var n=ai(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if($v(e))Zv(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var u=t.lastRenderedState,l=a(u,r);if(s.hasEagerState=!0,s.eagerState=l,ar(l,u)){var c=t.interleaved;c===null?(s.next=s,Gh(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=Cv(e,t,s,n),r!==null&&(s=wt(),or(r,e,n,s),Wv(r,t,n))}}function $v(e){var t=e.alternate;return e===je||t!==null&&t===je}function Zv(e,t){As=qa=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Wv(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Nh(e,r)}}var Ga={readContext:Kt,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useInsertionEffect:ht,useLayoutEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useMutableSource:ht,useSyncExternalStore:ht,useId:ht,unstable_isNewReconciler:!1},N1={readContext:Kt,useCallback:function(e,t){return vr().memoizedState=[e,t===void 0?null:t],e},useContext:Kt,useEffect:Tp,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Sa(4194308,4,Bv.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Sa(4194308,4,e,t)},useInsertionEffect:function(e,t){return Sa(4,2,e,t)},useMemo:function(e,t){var r=vr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=vr();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=D1.bind(null,je,e),[n.memoizedState,e]},useRef:function(e){var t=vr();return e={current:e},t.memoizedState=e},useState:Pp,useDebugValue:nd,useDeferredValue:function(e){return vr().memoizedState=e},useTransition:function(){var e=Pp(!1),t=e[0];return e=A1.bind(null,e[1]),vr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=je,s=vr();if(Me){if(r===void 0)throw Error(oe(407));r=r()}else{if(r=t(),rt===null)throw Error(oe(349));zi&30||Tv(n,t,r)}s.memoizedState=r;var a={value:r,getSnapshot:t};return s.queue=a,Tp(Ov.bind(null,n,a,e),[e]),n.flags|=2048,Qs(9,Rv.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=vr(),t=rt.identifierPrefix;if(Me){var r=Dr,n=Ar;r=(n&~(1<<32-sr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Xs++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=O1++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},I1={readContext:Kt,useCallback:jv,useContext:Kt,useEffect:id,useImperativeHandle:zv,useInsertionEffect:Nv,useLayoutEffect:Iv,useMemo:Fv,useReducer:Vc,useRef:Mv,useState:function(){return Vc(Ys)},useDebugValue:nd,useDeferredValue:function(e){var t=qt();return Hv(t,Je.memoizedState,e)},useTransition:function(){var e=Vc(Ys)[0],t=qt().memoizedState;return[e,t]},useMutableSource:Lv,useSyncExternalStore:Pv,useId:Uv,unstable_isNewReconciler:!1},B1={readContext:Kt,useCallback:jv,useContext:Kt,useEffect:id,useImperativeHandle:zv,useInsertionEffect:Nv,useLayoutEffect:Iv,useMemo:Fv,useReducer:Kc,useRef:Mv,useState:function(){return Kc(Ys)},useDebugValue:nd,useDeferredValue:function(e){var t=qt();return Je===null?t.memoizedState=e:Hv(t,Je.memoizedState,e)},useTransition:function(){var e=Kc(Ys)[0],t=qt().memoizedState;return[e,t]},useMutableSource:Lv,useSyncExternalStore:Pv,useId:Uv,unstable_isNewReconciler:!1};function tr(e,t){if(e&&e.defaultProps){t=Fe({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Hu(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Fe({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var El={isMounted:function(e){return(e=e._reactInternals)?Vi(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=wt(),s=ai(e),a=Mr(n,s);a.payload=t,r!=null&&(a.callback=r),t=si(e,a,s),t!==null&&(or(t,e,s,n),ya(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=wt(),s=ai(e),a=Mr(n,s);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=si(e,a,s),t!==null&&(or(t,e,s,n),ya(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=wt(),n=ai(e),s=Mr(r,n);s.tag=2,t!=null&&(s.callback=t),t=si(e,s,n),t!==null&&(or(t,e,n,r),ya(t,e,n))}};function Rp(e,t,r,n,s,a,u){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,u):t.prototype&&t.prototype.isPureReactComponent?!Ws(r,n)||!Ws(s,a):!0}function Vv(e,t,r){var n=!1,s=hi,a=t.contextType;return typeof a=="object"&&a!==null?a=Kt(a):(s=Pt(t)?Ii:_t.current,n=t.contextTypes,a=(n=n!=null)?An(e,s):hi),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=El,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function Op(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&El.enqueueReplaceState(t,t.state,null)}function Uu(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Jh(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=Kt(a):(a=Pt(t)?Ii:_t.current,s.context=An(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Hu(e,t,a,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&El.enqueueReplaceState(s,s.state,null),Va(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function In(e,t){try{var r="",n=t;do r+=hS(n),n=n.return;while(n);var s=r}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function qc(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function $u(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var z1=typeof WeakMap=="function"?WeakMap:Map;function Kv(e,t,r){r=Mr(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Xa||(Xa=!0,Qu=n),$u(e,t)},r}function qv(e,t,r){r=Mr(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){$u(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){$u(e,t),typeof n!="function"&&(oi===null?oi=new Set([this]):oi.add(this));var u=t.stack;this.componentDidCatch(t.value,{componentStack:u!==null?u:""})}),r}function Ap(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new z1;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=Y1.bind(null,e,t,r),t.then(e,e))}function Dp(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Mp(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Mr(-1,1),t.tag=2,si(r,t,1))),r.lanes|=1),e)}var j1=Ur.ReactCurrentOwner,kt=!1;function yt(e,t,r,n){t.child=e===null?bv(t,null,r,n):Mn(t,e.child,r,n)}function Np(e,t,r,n,s){r=r.render;var a=t.ref;return Ln(t,s),n=td(e,t,r,n,a,s),r=rd(),e!==null&&!kt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,jr(e,t,s)):(Me&&r&&$h(t),t.flags|=1,yt(e,t,n,s),t.child)}function Ip(e,t,r,n,s){if(e===null){var a=r.type;return typeof a=="function"&&!dd(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,Gv(e,t,a,n,s)):(e=Ea(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var u=a.memoizedProps;if(r=r.compare,r=r!==null?r:Ws,r(u,n)&&e.ref===t.ref)return jr(e,t,s)}return t.flags|=1,e=li(a,n),e.ref=t.ref,e.return=t,t.child=e}function Gv(e,t,r,n,s){if(e!==null){var a=e.memoizedProps;if(Ws(a,n)&&e.ref===t.ref)if(kt=!1,t.pendingProps=n=a,(e.lanes&s)!==0)e.flags&131072&&(kt=!0);else return t.lanes=e.lanes,jr(e,t,s)}return Zu(e,t,r,n,s)}function Jv(e,t,r){var n=t.pendingProps,s=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Re(wn,At),At|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Re(wn,At),At|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,Re(wn,At),At|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,Re(wn,At),At|=n;return yt(e,t,s,r),t.child}function Xv(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Zu(e,t,r,n,s){var a=Pt(r)?Ii:_t.current;return a=An(t,a),Ln(t,s),r=td(e,t,r,n,a,s),n=rd(),e!==null&&!kt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,jr(e,t,s)):(Me&&n&&$h(t),t.flags|=1,yt(e,t,r,s),t.child)}function Bp(e,t,r,n,s){if(Pt(r)){var a=!0;Ha(t)}else a=!1;if(Ln(t,s),t.stateNode===null)xa(e,t),Vv(t,r,n),Uu(t,r,n,s),n=!0;else if(e===null){var u=t.stateNode,l=t.memoizedProps;u.props=l;var c=u.context,p=r.contextType;typeof p=="object"&&p!==null?p=Kt(p):(p=Pt(r)?Ii:_t.current,p=An(t,p));var g=r.getDerivedStateFromProps,m=typeof g=="function"||typeof u.getSnapshotBeforeUpdate=="function";m||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(l!==n||c!==p)&&Op(t,u,n,p),Gr=!1;var y=t.memoizedState;u.state=y,Va(t,n,u,s),c=t.memoizedState,l!==n||y!==c||Lt.current||Gr?(typeof g=="function"&&(Hu(t,r,g,n),c=t.memoizedState),(l=Gr||Rp(t,r,l,n,y,c,p))?(m||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),u.props=n,u.state=c,u.context=p,n=l):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{u=t.stateNode,Ev(e,t),l=t.memoizedProps,p=t.type===t.elementType?l:tr(t.type,l),u.props=p,m=t.pendingProps,y=u.context,c=r.contextType,typeof c=="object"&&c!==null?c=Kt(c):(c=Pt(r)?Ii:_t.current,c=An(t,c));var b=r.getDerivedStateFromProps;(g=typeof b=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(l!==m||y!==c)&&Op(t,u,n,c),Gr=!1,y=t.memoizedState,u.state=y,Va(t,n,u,s);var C=t.memoizedState;l!==m||y!==C||Lt.current||Gr?(typeof b=="function"&&(Hu(t,r,b,n),C=t.memoizedState),(p=Gr||Rp(t,r,p,n,y,C,c)||!1)?(g||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(n,C,c),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(n,C,c)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||l===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=C),u.props=n,u.state=C,u.context=c,n=p):(typeof u.componentDidUpdate!="function"||l===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),n=!1)}return Wu(e,t,r,n,a,s)}function Wu(e,t,r,n,s,a){Xv(e,t);var u=(t.flags&128)!==0;if(!n&&!u)return s&&xp(t,r,!1),jr(e,t,a);n=t.stateNode,j1.current=t;var l=u&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&u?(t.child=Mn(t,e.child,null,a),t.child=Mn(t,null,l,a)):yt(e,t,l,a),t.memoizedState=n.state,s&&xp(t,r,!0),t.child}function Yv(e){var t=e.stateNode;t.pendingContext?Sp(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Sp(e,t.context,!1),Xh(e,t.containerInfo)}function zp(e,t,r,n,s){return Dn(),Wh(s),t.flags|=256,yt(e,t,r,n),t.child}var Vu={dehydrated:null,treeContext:null,retryLane:0};function Ku(e){return{baseLanes:e,cachePool:null,transitions:null}}function Qv(e,t,r){var n=t.pendingProps,s=ze.current,a=!1,u=(t.flags&128)!==0,l;if((l=u)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Re(ze,s&1),e===null)return ju(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(u=n.children,e=n.fallback,a?(n=t.mode,a=t.child,u={mode:"hidden",children:u},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=u):a=Pl(u,n,0,null),e=Mi(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ku(r),t.memoizedState=Vu,e):sd(t,u));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return F1(e,t,u,n,l,s,r);if(a){a=n.fallback,u=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(u&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=li(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?a=li(l,a):(a=Mi(a,u,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,u=e.child.memoizedState,u=u===null?Ku(r):{baseLanes:u.baseLanes|r,cachePool:null,transitions:u.transitions},a.memoizedState=u,a.childLanes=e.childLanes&~r,t.memoizedState=Vu,n}return a=e.child,e=a.sibling,n=li(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function sd(e,t){return t=Pl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ra(e,t,r,n){return n!==null&&Wh(n),Mn(t,e.child,null,r),e=sd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function F1(e,t,r,n,s,a,u){if(r)return t.flags&256?(t.flags&=-257,n=qc(Error(oe(422))),ra(e,t,u,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,s=t.mode,n=Pl({mode:"visible",children:n.children},s,0,null),a=Mi(a,s,u,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&Mn(t,e.child,null,u),t.child.memoizedState=Ku(u),t.memoizedState=Vu,a);if(!(t.mode&1))return ra(e,t,u,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(oe(419)),n=qc(a,n,void 0),ra(e,t,u,n)}if(l=(u&e.childLanes)!==0,kt||l){if(n=rt,n!==null){switch(u&-u){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|u)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,zr(e,s),or(n,e,s,-1))}return hd(),n=qc(Error(oe(421))),ra(e,t,u,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Q1.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,Dt=ni(s.nextSibling),Nt=t,Me=!0,ir=null,e!==null&&($t[Zt++]=Ar,$t[Zt++]=Dr,$t[Zt++]=Bi,Ar=e.id,Dr=e.overflow,Bi=t),t=sd(t,n.children),t.flags|=4096,t)}function jp(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Fu(e.return,t,r)}function Gc(e,t,r,n,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=s)}function eg(e,t,r){var n=t.pendingProps,s=n.revealOrder,a=n.tail;if(yt(e,t,n.children,r),n=ze.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&jp(e,r,t);else if(e.tag===19)jp(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Re(ze,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Ka(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Gc(t,!1,s,r,a);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ka(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Gc(t,!0,r,null,a);break;case"together":Gc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function xa(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function jr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),ji|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(oe(153));if(t.child!==null){for(e=t.child,r=li(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=li(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function H1(e,t,r){switch(t.tag){case 3:Yv(t),Dn();break;case 5:kv(t);break;case 1:Pt(t.type)&&Ha(t);break;case 4:Xh(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Re(Za,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Re(ze,ze.current&1),t.flags|=128,null):r&t.child.childLanes?Qv(e,t,r):(Re(ze,ze.current&1),e=jr(e,t,r),e!==null?e.sibling:null);Re(ze,ze.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return eg(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Re(ze,ze.current),n)break;return null;case 22:case 23:return t.lanes=0,Jv(e,t,r)}return jr(e,t,r)}var tg,qu,rg,ig;tg=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};qu=function(){};rg=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Oi(wr.current);var a=null;switch(r){case"input":s=mu(e,s),n=mu(e,n),a=[];break;case"select":s=Fe({},s,{value:void 0}),n=Fe({},n,{value:void 0}),a=[];break;case"textarea":s=yu(e,s),n=yu(e,n),a=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=ja)}Su(r,n);var u;r=null;for(p in s)if(!n.hasOwnProperty(p)&&s.hasOwnProperty(p)&&s[p]!=null)if(p==="style"){var l=s[p];for(u in l)l.hasOwnProperty(u)&&(r||(r={}),r[u]="")}else p!=="dangerouslySetInnerHTML"&&p!=="children"&&p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(zs.hasOwnProperty(p)?a||(a=[]):(a=a||[]).push(p,null));for(p in n){var c=n[p];if(l=s!=null?s[p]:void 0,n.hasOwnProperty(p)&&c!==l&&(c!=null||l!=null))if(p==="style")if(l){for(u in l)!l.hasOwnProperty(u)||c&&c.hasOwnProperty(u)||(r||(r={}),r[u]="");for(u in c)c.hasOwnProperty(u)&&l[u]!==c[u]&&(r||(r={}),r[u]=c[u])}else r||(a||(a=[]),a.push(p,r)),r=c;else p==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(p,c)):p==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(p,""+c):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&(zs.hasOwnProperty(p)?(c!=null&&p==="onScroll"&&Ae("scroll",e),a||l===c||(a=[])):(a=a||[]).push(p,c))}r&&(a=a||[]).push("style",r);var p=a;(t.updateQueue=p)&&(t.flags|=4)}};ig=function(e,t,r,n){r!==n&&(t.flags|=4)};function ps(e,t){if(!Me)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function dt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function U1(e,t,r){var n=t.pendingProps;switch(Zh(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(t),null;case 1:return Pt(t.type)&&Fa(),dt(t),null;case 3:return n=t.stateNode,Nn(),De(Lt),De(_t),Qh(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ea(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ir!==null&&(rh(ir),ir=null))),qu(e,t),dt(t),null;case 5:Yh(t);var s=Oi(Js.current);if(r=t.type,e!==null&&t.stateNode!=null)rg(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(oe(166));return dt(t),null}if(e=Oi(wr.current),ea(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[gr]=t,n[qs]=a,e=(t.mode&1)!==0,r){case"dialog":Ae("cancel",n),Ae("close",n);break;case"iframe":case"object":case"embed":Ae("load",n);break;case"video":case"audio":for(s=0;s<bs.length;s++)Ae(bs[s],n);break;case"source":Ae("error",n);break;case"img":case"image":case"link":Ae("error",n),Ae("load",n);break;case"details":Ae("toggle",n);break;case"input":qf(n,a),Ae("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Ae("invalid",n);break;case"textarea":Jf(n,a),Ae("invalid",n)}Su(r,a),s=null;for(var u in a)if(a.hasOwnProperty(u)){var l=a[u];u==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&Qo(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Qo(n.textContent,l,e),s=["children",""+l]):zs.hasOwnProperty(u)&&l!=null&&u==="onScroll"&&Ae("scroll",n)}switch(r){case"input":Wo(n),Gf(n,a,!0);break;case"textarea":Wo(n),Xf(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=ja)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{u=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Om(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=u.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=u.createElement(r,{is:n.is}):(e=u.createElement(r),r==="select"&&(u=e,n.multiple?u.multiple=!0:n.size&&(u.size=n.size))):e=u.createElementNS(e,r),e[gr]=t,e[qs]=n,tg(e,t,!1,!1),t.stateNode=e;e:{switch(u=xu(r,n),r){case"dialog":Ae("cancel",e),Ae("close",e),s=n;break;case"iframe":case"object":case"embed":Ae("load",e),s=n;break;case"video":case"audio":for(s=0;s<bs.length;s++)Ae(bs[s],e);s=n;break;case"source":Ae("error",e),s=n;break;case"img":case"image":case"link":Ae("error",e),Ae("load",e),s=n;break;case"details":Ae("toggle",e),s=n;break;case"input":qf(e,n),s=mu(e,n),Ae("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Fe({},n,{value:void 0}),Ae("invalid",e);break;case"textarea":Jf(e,n),s=yu(e,n),Ae("invalid",e);break;default:s=n}Su(r,s),l=s;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?Mm(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Am(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&js(e,c):typeof c=="number"&&js(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(zs.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Ae("scroll",e):c!=null&&Th(e,a,c,u))}switch(r){case"input":Wo(e),Gf(e,n,!1);break;case"textarea":Wo(e),Xf(e);break;case"option":n.value!=null&&e.setAttribute("value",""+ui(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?bn(e,!!n.multiple,a,!1):n.defaultValue!=null&&bn(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=ja)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return dt(t),null;case 6:if(e&&t.stateNode!=null)ig(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(oe(166));if(r=Oi(Js.current),Oi(wr.current),ea(t)){if(n=t.stateNode,r=t.memoizedProps,n[gr]=t,(a=n.nodeValue!==r)&&(e=Nt,e!==null))switch(e.tag){case 3:Qo(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Qo(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[gr]=t,t.stateNode=n}return dt(t),null;case 13:if(De(ze),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Me&&Dt!==null&&t.mode&1&&!(t.flags&128))Sv(),Dn(),t.flags|=98560,a=!1;else if(a=ea(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(oe(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(oe(317));a[gr]=t}else Dn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;dt(t),a=!1}else ir!==null&&(rh(ir),ir=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ze.current&1?Xe===0&&(Xe=3):hd())),t.updateQueue!==null&&(t.flags|=4),dt(t),null);case 4:return Nn(),qu(e,t),e===null&&Vs(t.stateNode.containerInfo),dt(t),null;case 10:return qh(t.type._context),dt(t),null;case 17:return Pt(t.type)&&Fa(),dt(t),null;case 19:if(De(ze),a=t.memoizedState,a===null)return dt(t),null;if(n=(t.flags&128)!==0,u=a.rendering,u===null)if(n)ps(a,!1);else{if(Xe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(u=Ka(e),u!==null){for(t.flags|=128,ps(a,!1),n=u.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,u=a.alternate,u===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,e=u.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Re(ze,ze.current&1|2),t.child}e=e.sibling}a.tail!==null&&Ze()>Bn&&(t.flags|=128,n=!0,ps(a,!1),t.lanes=4194304)}else{if(!n)if(e=Ka(u),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),ps(a,!0),a.tail===null&&a.tailMode==="hidden"&&!u.alternate&&!Me)return dt(t),null}else 2*Ze()-a.renderingStartTime>Bn&&r!==1073741824&&(t.flags|=128,n=!0,ps(a,!1),t.lanes=4194304);a.isBackwards?(u.sibling=t.child,t.child=u):(r=a.last,r!==null?r.sibling=u:t.child=u,a.last=u)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ze(),t.sibling=null,r=ze.current,Re(ze,n?r&1|2:r&1),t):(dt(t),null);case 22:case 23:return ud(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?At&1073741824&&(dt(t),t.subtreeFlags&6&&(t.flags|=8192)):dt(t),null;case 24:return null;case 25:return null}throw Error(oe(156,t.tag))}function $1(e,t){switch(Zh(t),t.tag){case 1:return Pt(t.type)&&Fa(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Nn(),De(Lt),De(_t),Qh(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Yh(t),null;case 13:if(De(ze),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(oe(340));Dn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return De(ze),null;case 4:return Nn(),null;case 10:return qh(t.type._context),null;case 22:case 23:return ud(),null;case 24:return null;default:return null}}var ia=!1,ft=!1,Z1=typeof WeakSet=="function"?WeakSet:Set,he=null;function yn(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ue(e,t,n)}else r.current=null}function Gu(e,t,r){try{r()}catch(n){Ue(e,t,n)}}var Fp=!1;function W1(e,t){if(Au=Ia,e=lv(),Uh(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var u=0,l=-1,c=-1,p=0,g=0,m=e,y=null;t:for(;;){for(var b;m!==r||s!==0&&m.nodeType!==3||(l=u+s),m!==a||n!==0&&m.nodeType!==3||(c=u+n),m.nodeType===3&&(u+=m.nodeValue.length),(b=m.firstChild)!==null;)y=m,m=b;for(;;){if(m===e)break t;if(y===r&&++p===s&&(l=u),y===a&&++g===n&&(c=u),(b=m.nextSibling)!==null)break;m=y,y=m.parentNode}m=b}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Du={focusedElem:e,selectionRange:r},Ia=!1,he=t;he!==null;)if(t=he,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,he=e;else for(;he!==null;){t=he;try{var C=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var x=C.memoizedProps,d=C.memoizedState,_=t.stateNode,f=_.getSnapshotBeforeUpdate(t.elementType===t.type?x:tr(t.type,x),d);_.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(oe(163))}}catch(S){Ue(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,he=e;break}he=t.return}return C=Fp,Fp=!1,C}function Ds(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&Gu(t,r,a)}s=s.next}while(s!==n)}}function kl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Ju(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function ng(e){var t=e.alternate;t!==null&&(e.alternate=null,ng(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[gr],delete t[qs],delete t[Iu],delete t[L1],delete t[P1])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sg(e){return e.tag===5||e.tag===3||e.tag===4}function Hp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||sg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Xu(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=ja));else if(n!==4&&(e=e.child,e!==null))for(Xu(e,t,r),e=e.sibling;e!==null;)Xu(e,t,r),e=e.sibling}function Yu(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Yu(e,t,r),e=e.sibling;e!==null;)Yu(e,t,r),e=e.sibling}var ot=null,rr=!1;function Kr(e,t,r){for(r=r.child;r!==null;)og(e,t,r),r=r.sibling}function og(e,t,r){if(yr&&typeof yr.onCommitFiberUnmount=="function")try{yr.onCommitFiberUnmount(gl,r)}catch{}switch(r.tag){case 5:ft||yn(r,t);case 6:var n=ot,s=rr;ot=null,Kr(e,t,r),ot=n,rr=s,ot!==null&&(rr?(e=ot,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):ot.removeChild(r.stateNode));break;case 18:ot!==null&&(rr?(e=ot,r=r.stateNode,e.nodeType===8?Uc(e.parentNode,r):e.nodeType===1&&Uc(e,r),$s(e)):Uc(ot,r.stateNode));break;case 4:n=ot,s=rr,ot=r.stateNode.containerInfo,rr=!0,Kr(e,t,r),ot=n,rr=s;break;case 0:case 11:case 14:case 15:if(!ft&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var a=s,u=a.destroy;a=a.tag,u!==void 0&&(a&2||a&4)&&Gu(r,t,u),s=s.next}while(s!==n)}Kr(e,t,r);break;case 1:if(!ft&&(yn(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Ue(r,t,l)}Kr(e,t,r);break;case 21:Kr(e,t,r);break;case 22:r.mode&1?(ft=(n=ft)||r.memoizedState!==null,Kr(e,t,r),ft=n):Kr(e,t,r);break;default:Kr(e,t,r)}}function Up(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Z1),t.forEach(function(n){var s=ex.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function er(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var a=e,u=t,l=u;e:for(;l!==null;){switch(l.tag){case 5:ot=l.stateNode,rr=!1;break e;case 3:ot=l.stateNode.containerInfo,rr=!0;break e;case 4:ot=l.stateNode.containerInfo,rr=!0;break e}l=l.return}if(ot===null)throw Error(oe(160));og(a,u,s),ot=null,rr=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(p){Ue(s,t,p)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ag(t,e),t=t.sibling}function ag(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(er(t,e),_r(e),n&4){try{Ds(3,e,e.return),kl(3,e)}catch(x){Ue(e,e.return,x)}try{Ds(5,e,e.return)}catch(x){Ue(e,e.return,x)}}break;case 1:er(t,e),_r(e),n&512&&r!==null&&yn(r,r.return);break;case 5:if(er(t,e),_r(e),n&512&&r!==null&&yn(r,r.return),e.flags&32){var s=e.stateNode;try{js(s,"")}catch(x){Ue(e,e.return,x)}}if(n&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,u=r!==null?r.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&Tm(s,a),xu(l,u);var p=xu(l,a);for(u=0;u<c.length;u+=2){var g=c[u],m=c[u+1];g==="style"?Mm(s,m):g==="dangerouslySetInnerHTML"?Am(s,m):g==="children"?js(s,m):Th(s,g,m,p)}switch(l){case"input":vu(s,a);break;case"textarea":Rm(s,a);break;case"select":var y=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var b=a.value;b!=null?bn(s,!!a.multiple,b,!1):y!==!!a.multiple&&(a.defaultValue!=null?bn(s,!!a.multiple,a.defaultValue,!0):bn(s,!!a.multiple,a.multiple?[]:"",!1))}s[qs]=a}catch(x){Ue(e,e.return,x)}}break;case 6:if(er(t,e),_r(e),n&4){if(e.stateNode===null)throw Error(oe(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(x){Ue(e,e.return,x)}}break;case 3:if(er(t,e),_r(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{$s(t.containerInfo)}catch(x){Ue(e,e.return,x)}break;case 4:er(t,e),_r(e);break;case 13:er(t,e),_r(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(ld=Ze())),n&4&&Up(e);break;case 22:if(g=r!==null&&r.memoizedState!==null,e.mode&1?(ft=(p=ft)||g,er(t,e),ft=p):er(t,e),_r(e),n&8192){if(p=e.memoizedState!==null,(e.stateNode.isHidden=p)&&!g&&e.mode&1)for(he=e,g=e.child;g!==null;){for(m=he=g;he!==null;){switch(y=he,b=y.child,y.tag){case 0:case 11:case 14:case 15:Ds(4,y,y.return);break;case 1:yn(y,y.return);var C=y.stateNode;if(typeof C.componentWillUnmount=="function"){n=y,r=y.return;try{t=n,C.props=t.memoizedProps,C.state=t.memoizedState,C.componentWillUnmount()}catch(x){Ue(n,r,x)}}break;case 5:yn(y,y.return);break;case 22:if(y.memoizedState!==null){Zp(m);continue}}b!==null?(b.return=y,he=b):Zp(m)}g=g.sibling}e:for(g=null,m=e;;){if(m.tag===5){if(g===null){g=m;try{s=m.stateNode,p?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=m.stateNode,c=m.memoizedProps.style,u=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Dm("display",u))}catch(x){Ue(e,e.return,x)}}}else if(m.tag===6){if(g===null)try{m.stateNode.nodeValue=p?"":m.memoizedProps}catch(x){Ue(e,e.return,x)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;g===m&&(g=null),m=m.return}g===m&&(g=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:er(t,e),_r(e),n&4&&Up(e);break;case 21:break;default:er(t,e),_r(e)}}function _r(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(sg(r)){var n=r;break e}r=r.return}throw Error(oe(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(js(s,""),n.flags&=-33);var a=Hp(e);Yu(e,a,s);break;case 3:case 4:var u=n.stateNode.containerInfo,l=Hp(e);Xu(e,l,u);break;default:throw Error(oe(161))}}catch(c){Ue(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function V1(e,t,r){he=e,lg(e)}function lg(e,t,r){for(var n=(e.mode&1)!==0;he!==null;){var s=he,a=s.child;if(s.tag===22&&n){var u=s.memoizedState!==null||ia;if(!u){var l=s.alternate,c=l!==null&&l.memoizedState!==null||ft;l=ia;var p=ft;if(ia=u,(ft=c)&&!p)for(he=s;he!==null;)u=he,c=u.child,u.tag===22&&u.memoizedState!==null?Wp(s):c!==null?(c.return=u,he=c):Wp(s);for(;a!==null;)he=a,lg(a),a=a.sibling;he=s,ia=l,ft=p}$p(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,he=a):$p(e)}}function $p(e){for(;he!==null;){var t=he;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ft||kl(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!ft)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:tr(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Lp(t,a,n);break;case 3:var u=t.updateQueue;if(u!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Lp(t,u,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var p=t.alternate;if(p!==null){var g=p.memoizedState;if(g!==null){var m=g.dehydrated;m!==null&&$s(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(oe(163))}ft||t.flags&512&&Ju(t)}catch(y){Ue(t,t.return,y)}}if(t===e){he=null;break}if(r=t.sibling,r!==null){r.return=t.return,he=r;break}he=t.return}}function Zp(e){for(;he!==null;){var t=he;if(t===e){he=null;break}var r=t.sibling;if(r!==null){r.return=t.return,he=r;break}he=t.return}}function Wp(e){for(;he!==null;){var t=he;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{kl(4,t)}catch(c){Ue(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){Ue(t,s,c)}}var a=t.return;try{Ju(t)}catch(c){Ue(t,a,c)}break;case 5:var u=t.return;try{Ju(t)}catch(c){Ue(t,u,c)}}}catch(c){Ue(t,t.return,c)}if(t===e){he=null;break}var l=t.sibling;if(l!==null){l.return=t.return,he=l;break}he=t.return}}var K1=Math.ceil,Ja=Ur.ReactCurrentDispatcher,od=Ur.ReactCurrentOwner,Vt=Ur.ReactCurrentBatchConfig,Ee=0,rt=null,qe=null,lt=0,At=0,wn=pi(0),Xe=0,eo=null,ji=0,Ll=0,ad=0,Ms=null,Et=null,ld=0,Bn=1/0,Tr=null,Xa=!1,Qu=null,oi=null,na=!1,Qr=null,Ya=0,Ns=0,eh=null,ba=-1,Ca=0;function wt(){return Ee&6?Ze():ba!==-1?ba:ba=Ze()}function ai(e){return e.mode&1?Ee&2&&lt!==0?lt&-lt:R1.transition!==null?(Ca===0&&(Ca=Vm()),Ca):(e=Pe,e!==0||(e=window.event,e=e===void 0?16:Qm(e.type)),e):1}function or(e,t,r,n){if(50<Ns)throw Ns=0,eh=null,Error(oe(185));co(e,r,n),(!(Ee&2)||e!==rt)&&(e===rt&&(!(Ee&2)&&(Ll|=r),Xe===4&&Xr(e,lt)),Tt(e,n),r===1&&Ee===0&&!(t.mode&1)&&(Bn=Ze()+500,bl&&_i()))}function Tt(e,t){var r=e.callbackNode;RS(e,t);var n=Na(e,e===rt?lt:0);if(n===0)r!==null&&ep(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&ep(r),t===1)e.tag===0?T1(Vp.bind(null,e)):gv(Vp.bind(null,e)),E1(function(){!(Ee&6)&&_i()}),r=null;else{switch(Km(n)){case 1:r=Mh;break;case 4:r=Zm;break;case 16:r=Ma;break;case 536870912:r=Wm;break;default:r=Ma}r=mg(r,cg.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function cg(e,t){if(ba=-1,Ca=0,Ee&6)throw Error(oe(327));var r=e.callbackNode;if(Pn()&&e.callbackNode!==r)return null;var n=Na(e,e===rt?lt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Qa(e,n);else{t=n;var s=Ee;Ee|=2;var a=hg();(rt!==e||lt!==t)&&(Tr=null,Bn=Ze()+500,Di(e,t));do try{J1();break}catch(l){ug(e,l)}while(!0);Kh(),Ja.current=a,Ee=s,qe!==null?t=0:(rt=null,lt=0,t=Xe)}if(t!==0){if(t===2&&(s=Lu(e),s!==0&&(n=s,t=th(e,s))),t===1)throw r=eo,Di(e,0),Xr(e,n),Tt(e,Ze()),r;if(t===6)Xr(e,n);else{if(s=e.current.alternate,!(n&30)&&!q1(s)&&(t=Qa(e,n),t===2&&(a=Lu(e),a!==0&&(n=a,t=th(e,a))),t===1))throw r=eo,Di(e,0),Xr(e,n),Tt(e,Ze()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(oe(345));case 2:Pi(e,Et,Tr);break;case 3:if(Xr(e,n),(n&130023424)===n&&(t=ld+500-Ze(),10<t)){if(Na(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){wt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Nu(Pi.bind(null,e,Et,Tr),t);break}Pi(e,Et,Tr);break;case 4:if(Xr(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var u=31-sr(n);a=1<<u,u=t[u],u>s&&(s=u),n&=~a}if(n=s,n=Ze()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*K1(n/1960))-n,10<n){e.timeoutHandle=Nu(Pi.bind(null,e,Et,Tr),n);break}Pi(e,Et,Tr);break;case 5:Pi(e,Et,Tr);break;default:throw Error(oe(329))}}}return Tt(e,Ze()),e.callbackNode===r?cg.bind(null,e):null}function th(e,t){var r=Ms;return e.current.memoizedState.isDehydrated&&(Di(e,t).flags|=256),e=Qa(e,t),e!==2&&(t=Et,Et=r,t!==null&&rh(t)),e}function rh(e){Et===null?Et=e:Et.push.apply(Et,e)}function q1(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],a=s.getSnapshot;s=s.value;try{if(!ar(a(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Xr(e,t){for(t&=~ad,t&=~Ll,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-sr(t),n=1<<r;e[r]=-1,t&=~n}}function Vp(e){if(Ee&6)throw Error(oe(327));Pn();var t=Na(e,0);if(!(t&1))return Tt(e,Ze()),null;var r=Qa(e,t);if(e.tag!==0&&r===2){var n=Lu(e);n!==0&&(t=n,r=th(e,n))}if(r===1)throw r=eo,Di(e,0),Xr(e,t),Tt(e,Ze()),r;if(r===6)throw Error(oe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Pi(e,Et,Tr),Tt(e,Ze()),null}function cd(e,t){var r=Ee;Ee|=1;try{return e(t)}finally{Ee=r,Ee===0&&(Bn=Ze()+500,bl&&_i())}}function Fi(e){Qr!==null&&Qr.tag===0&&!(Ee&6)&&Pn();var t=Ee;Ee|=1;var r=Vt.transition,n=Pe;try{if(Vt.transition=null,Pe=1,e)return e()}finally{Pe=n,Vt.transition=r,Ee=t,!(Ee&6)&&_i()}}function ud(){At=wn.current,De(wn)}function Di(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,C1(r)),qe!==null)for(r=qe.return;r!==null;){var n=r;switch(Zh(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Fa();break;case 3:Nn(),De(Lt),De(_t),Qh();break;case 5:Yh(n);break;case 4:Nn();break;case 13:De(ze);break;case 19:De(ze);break;case 10:qh(n.type._context);break;case 22:case 23:ud()}r=r.return}if(rt=e,qe=e=li(e.current,null),lt=At=t,Xe=0,eo=null,ad=Ll=ji=0,Et=Ms=null,Ri!==null){for(t=0;t<Ri.length;t++)if(r=Ri[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,a=r.pending;if(a!==null){var u=a.next;a.next=s,n.next=u}r.pending=n}Ri=null}return e}function ug(e,t){do{var r=qe;try{if(Kh(),wa.current=Ga,qa){for(var n=je.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}qa=!1}if(zi=0,tt=Je=je=null,As=!1,Xs=0,od.current=null,r===null||r.return===null){Xe=1,eo=t,qe=null;break}e:{var a=e,u=r.return,l=r,c=t;if(t=lt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var p=c,g=l,m=g.tag;if(!(g.mode&1)&&(m===0||m===11||m===15)){var y=g.alternate;y?(g.updateQueue=y.updateQueue,g.memoizedState=y.memoizedState,g.lanes=y.lanes):(g.updateQueue=null,g.memoizedState=null)}var b=Dp(u);if(b!==null){b.flags&=-257,Mp(b,u,l,a,t),b.mode&1&&Ap(a,p,t),t=b,c=p;var C=t.updateQueue;if(C===null){var x=new Set;x.add(c),t.updateQueue=x}else C.add(c);break e}else{if(!(t&1)){Ap(a,p,t),hd();break e}c=Error(oe(426))}}else if(Me&&l.mode&1){var d=Dp(u);if(d!==null){!(d.flags&65536)&&(d.flags|=256),Mp(d,u,l,a,t),Wh(In(c,l));break e}}a=c=In(c,l),Xe!==4&&(Xe=2),Ms===null?Ms=[a]:Ms.push(a),a=u;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var _=Kv(a,c,t);kp(a,_);break e;case 1:l=c;var f=a.type,v=a.stateNode;if(!(a.flags&128)&&(typeof f.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(oi===null||!oi.has(v)))){a.flags|=65536,t&=-t,a.lanes|=t;var S=qv(a,l,t);kp(a,S);break e}}a=a.return}while(a!==null)}fg(r)}catch(E){t=E,qe===r&&r!==null&&(qe=r=r.return);continue}break}while(!0)}function hg(){var e=Ja.current;return Ja.current=Ga,e===null?Ga:e}function hd(){(Xe===0||Xe===3||Xe===2)&&(Xe=4),rt===null||!(ji&268435455)&&!(Ll&268435455)||Xr(rt,lt)}function Qa(e,t){var r=Ee;Ee|=2;var n=hg();(rt!==e||lt!==t)&&(Tr=null,Di(e,t));do try{G1();break}catch(s){ug(e,s)}while(!0);if(Kh(),Ee=r,Ja.current=n,qe!==null)throw Error(oe(261));return rt=null,lt=0,Xe}function G1(){for(;qe!==null;)dg(qe)}function J1(){for(;qe!==null&&!SS();)dg(qe)}function dg(e){var t=_g(e.alternate,e,At);e.memoizedProps=e.pendingProps,t===null?fg(e):qe=t,od.current=null}function fg(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=$1(r,t),r!==null){r.flags&=32767,qe=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Xe=6,qe=null;return}}else if(r=U1(r,t,At),r!==null){qe=r;return}if(t=t.sibling,t!==null){qe=t;return}qe=t=e}while(t!==null);Xe===0&&(Xe=5)}function Pi(e,t,r){var n=Pe,s=Vt.transition;try{Vt.transition=null,Pe=1,X1(e,t,r,n)}finally{Vt.transition=s,Pe=n}return null}function X1(e,t,r,n){do Pn();while(Qr!==null);if(Ee&6)throw Error(oe(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(oe(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(OS(e,a),e===rt&&(qe=rt=null,lt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||na||(na=!0,mg(Ma,function(){return Pn(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Vt.transition,Vt.transition=null;var u=Pe;Pe=1;var l=Ee;Ee|=4,od.current=null,W1(e,r),ag(r,e),v1(Du),Ia=!!Au,Du=Au=null,e.current=r,V1(r),xS(),Ee=l,Pe=u,Vt.transition=a}else e.current=r;if(na&&(na=!1,Qr=e,Ya=s),a=e.pendingLanes,a===0&&(oi=null),ES(r.stateNode),Tt(e,Ze()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Xa)throw Xa=!1,e=Qu,Qu=null,e;return Ya&1&&e.tag!==0&&Pn(),a=e.pendingLanes,a&1?e===eh?Ns++:(Ns=0,eh=e):Ns=0,_i(),null}function Pn(){if(Qr!==null){var e=Km(Ya),t=Vt.transition,r=Pe;try{if(Vt.transition=null,Pe=16>e?16:e,Qr===null)var n=!1;else{if(e=Qr,Qr=null,Ya=0,Ee&6)throw Error(oe(331));var s=Ee;for(Ee|=4,he=e.current;he!==null;){var a=he,u=a.child;if(he.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var p=l[c];for(he=p;he!==null;){var g=he;switch(g.tag){case 0:case 11:case 15:Ds(8,g,a)}var m=g.child;if(m!==null)m.return=g,he=m;else for(;he!==null;){g=he;var y=g.sibling,b=g.return;if(ng(g),g===p){he=null;break}if(y!==null){y.return=b,he=y;break}he=b}}}var C=a.alternate;if(C!==null){var x=C.child;if(x!==null){C.child=null;do{var d=x.sibling;x.sibling=null,x=d}while(x!==null)}}he=a}}if(a.subtreeFlags&2064&&u!==null)u.return=a,he=u;else e:for(;he!==null;){if(a=he,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Ds(9,a,a.return)}var _=a.sibling;if(_!==null){_.return=a.return,he=_;break e}he=a.return}}var f=e.current;for(he=f;he!==null;){u=he;var v=u.child;if(u.subtreeFlags&2064&&v!==null)v.return=u,he=v;else e:for(u=f;he!==null;){if(l=he,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:kl(9,l)}}catch(E){Ue(l,l.return,E)}if(l===u){he=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,he=S;break e}he=l.return}}if(Ee=s,_i(),yr&&typeof yr.onPostCommitFiberRoot=="function")try{yr.onPostCommitFiberRoot(gl,e)}catch{}n=!0}return n}finally{Pe=r,Vt.transition=t}}return!1}function Kp(e,t,r){t=In(r,t),t=Kv(e,t,1),e=si(e,t,1),t=wt(),e!==null&&(co(e,1,t),Tt(e,t))}function Ue(e,t,r){if(e.tag===3)Kp(e,e,r);else for(;t!==null;){if(t.tag===3){Kp(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(oi===null||!oi.has(n))){e=In(r,e),e=qv(t,e,1),t=si(t,e,1),e=wt(),t!==null&&(co(t,1,e),Tt(t,e));break}}t=t.return}}function Y1(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=wt(),e.pingedLanes|=e.suspendedLanes&r,rt===e&&(lt&r)===r&&(Xe===4||Xe===3&&(lt&130023424)===lt&&500>Ze()-ld?Di(e,0):ad|=r),Tt(e,t)}function pg(e,t){t===0&&(e.mode&1?(t=qo,qo<<=1,!(qo&130023424)&&(qo=4194304)):t=1);var r=wt();e=zr(e,t),e!==null&&(co(e,t,r),Tt(e,r))}function Q1(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),pg(e,r)}function ex(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(oe(314))}n!==null&&n.delete(t),pg(e,r)}var _g;_g=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Lt.current)kt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return kt=!1,H1(e,t,r);kt=!!(e.flags&131072)}else kt=!1,Me&&t.flags&1048576&&yv(t,$a,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;xa(e,t),e=t.pendingProps;var s=An(t,_t.current);Ln(t,r),s=td(null,t,n,e,s,r);var a=rd();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pt(n)?(a=!0,Ha(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Jh(t),s.updater=El,t.stateNode=s,s._reactInternals=t,Uu(t,n,e,r),t=Wu(null,t,n,!0,a,r)):(t.tag=0,Me&&a&&$h(t),yt(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(xa(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=rx(n),e=tr(n,e),s){case 0:t=Zu(null,t,n,e,r);break e;case 1:t=Bp(null,t,n,e,r);break e;case 11:t=Np(null,t,n,e,r);break e;case 14:t=Ip(null,t,n,tr(n.type,e),r);break e}throw Error(oe(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:tr(n,s),Zu(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:tr(n,s),Bp(e,t,n,s,r);case 3:e:{if(Yv(t),e===null)throw Error(oe(387));n=t.pendingProps,a=t.memoizedState,s=a.element,Ev(e,t),Va(t,n,null,r);var u=t.memoizedState;if(n=u.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=In(Error(oe(423)),t),t=zp(e,t,n,r,s);break e}else if(n!==s){s=In(Error(oe(424)),t),t=zp(e,t,n,r,s);break e}else for(Dt=ni(t.stateNode.containerInfo.firstChild),Nt=t,Me=!0,ir=null,r=bv(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Dn(),n===s){t=jr(e,t,r);break e}yt(e,t,n,r)}t=t.child}return t;case 5:return kv(t),e===null&&ju(t),n=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,u=s.children,Mu(n,s)?u=null:a!==null&&Mu(n,a)&&(t.flags|=32),Xv(e,t),yt(e,t,u,r),t.child;case 6:return e===null&&ju(t),null;case 13:return Qv(e,t,r);case 4:return Xh(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Mn(t,null,n,r):yt(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:tr(n,s),Np(e,t,n,s,r);case 7:return yt(e,t,t.pendingProps,r),t.child;case 8:return yt(e,t,t.pendingProps.children,r),t.child;case 12:return yt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,a=t.memoizedProps,u=s.value,Re(Za,n._currentValue),n._currentValue=u,a!==null)if(ar(a.value,u)){if(a.children===s.children&&!Lt.current){t=jr(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){u=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=Mr(-1,r&-r),c.tag=2;var p=a.updateQueue;if(p!==null){p=p.shared;var g=p.pending;g===null?c.next=c:(c.next=g.next,g.next=c),p.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),Fu(a.return,r,t),l.lanes|=r;break}c=c.next}}else if(a.tag===10)u=a.type===t.type?null:a.child;else if(a.tag===18){if(u=a.return,u===null)throw Error(oe(341));u.lanes|=r,l=u.alternate,l!==null&&(l.lanes|=r),Fu(u,r,t),u=a.sibling}else u=a.child;if(u!==null)u.return=a;else for(u=a;u!==null;){if(u===t){u=null;break}if(a=u.sibling,a!==null){a.return=u.return,u=a;break}u=u.return}a=u}yt(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Ln(t,r),s=Kt(s),n=n(s),t.flags|=1,yt(e,t,n,r),t.child;case 14:return n=t.type,s=tr(n,t.pendingProps),s=tr(n.type,s),Ip(e,t,n,s,r);case 15:return Gv(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:tr(n,s),xa(e,t),t.tag=1,Pt(n)?(e=!0,Ha(t)):e=!1,Ln(t,r),Vv(t,n,s),Uu(t,n,s,r),Wu(null,t,n,!0,e,r);case 19:return eg(e,t,r);case 22:return Jv(e,t,r)}throw Error(oe(156,t.tag))};function mg(e,t){return $m(e,t)}function tx(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wt(e,t,r,n){return new tx(e,t,r,n)}function dd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function rx(e){if(typeof e=="function")return dd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Oh)return 11;if(e===Ah)return 14}return 2}function li(e,t){var r=e.alternate;return r===null?(r=Wt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ea(e,t,r,n,s,a){var u=2;if(n=e,typeof e=="function")dd(e)&&(u=1);else if(typeof e=="string")u=5;else e:switch(e){case un:return Mi(r.children,s,a,t);case Rh:u=8,s|=8;break;case du:return e=Wt(12,r,t,s|2),e.elementType=du,e.lanes=a,e;case fu:return e=Wt(13,r,t,s),e.elementType=fu,e.lanes=a,e;case pu:return e=Wt(19,r,t,s),e.elementType=pu,e.lanes=a,e;case km:return Pl(r,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Cm:u=10;break e;case Em:u=9;break e;case Oh:u=11;break e;case Ah:u=14;break e;case qr:u=16,n=null;break e}throw Error(oe(130,e==null?e:typeof e,""))}return t=Wt(u,r,t,s),t.elementType=e,t.type=n,t.lanes=a,t}function Mi(e,t,r,n){return e=Wt(7,e,n,t),e.lanes=r,e}function Pl(e,t,r,n){return e=Wt(22,e,n,t),e.elementType=km,e.lanes=r,e.stateNode={isHidden:!1},e}function Jc(e,t,r){return e=Wt(6,e,null,t),e.lanes=r,e}function Xc(e,t,r){return t=Wt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ix(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Oc(0),this.expirationTimes=Oc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oc(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function fd(e,t,r,n,s,a,u,l,c){return e=new ix(e,t,r,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Wt(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Jh(a),e}function nx(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:cn,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function vg(e){if(!e)return hi;e=e._reactInternals;e:{if(Vi(e)!==e||e.tag!==1)throw Error(oe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(oe(171))}if(e.tag===1){var r=e.type;if(Pt(r))return vv(e,r,t)}return t}function gg(e,t,r,n,s,a,u,l,c){return e=fd(r,n,!0,e,s,a,u,l,c),e.context=vg(null),r=e.current,n=wt(),s=ai(r),a=Mr(n,s),a.callback=t??null,si(r,a,s),e.current.lanes=s,co(e,s,n),Tt(e,n),e}function Tl(e,t,r,n){var s=t.current,a=wt(),u=ai(s);return r=vg(r),t.context===null?t.context=r:t.pendingContext=r,t=Mr(a,u),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=si(s,t,u),e!==null&&(or(e,s,u,a),ya(e,s,u)),u}function el(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function qp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function pd(e,t){qp(e,t),(e=e.alternate)&&qp(e,t)}function sx(){return null}var yg=typeof reportError=="function"?reportError:function(e){console.error(e)};function _d(e){this._internalRoot=e}Rl.prototype.render=_d.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(oe(409));Tl(e,t,null,null)};Rl.prototype.unmount=_d.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Fi(function(){Tl(null,e,null,null)}),t[Br]=null}};function Rl(e){this._internalRoot=e}Rl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Jm();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Jr.length&&t!==0&&t<Jr[r].priority;r++);Jr.splice(r,0,e),r===0&&Ym(e)}};function md(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ol(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Gp(){}function ox(e,t,r,n,s){if(s){if(typeof n=="function"){var a=n;n=function(){var p=el(u);a.call(p)}}var u=gg(t,n,e,0,null,!1,!1,"",Gp);return e._reactRootContainer=u,e[Br]=u.current,Vs(e.nodeType===8?e.parentNode:e),Fi(),u}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var p=el(c);l.call(p)}}var c=fd(e,0,!1,null,null,!1,!1,"",Gp);return e._reactRootContainer=c,e[Br]=c.current,Vs(e.nodeType===8?e.parentNode:e),Fi(function(){Tl(t,c,r,n)}),c}function Al(e,t,r,n,s){var a=r._reactRootContainer;if(a){var u=a;if(typeof s=="function"){var l=s;s=function(){var c=el(u);l.call(c)}}Tl(t,u,e,s)}else u=ox(r,t,e,s,n);return el(u)}qm=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=xs(t.pendingLanes);r!==0&&(Nh(t,r|1),Tt(t,Ze()),!(Ee&6)&&(Bn=Ze()+500,_i()))}break;case 13:Fi(function(){var n=zr(e,1);if(n!==null){var s=wt();or(n,e,1,s)}}),pd(e,1)}};Ih=function(e){if(e.tag===13){var t=zr(e,134217728);if(t!==null){var r=wt();or(t,e,134217728,r)}pd(e,134217728)}};Gm=function(e){if(e.tag===13){var t=ai(e),r=zr(e,t);if(r!==null){var n=wt();or(r,e,t,n)}pd(e,t)}};Jm=function(){return Pe};Xm=function(e,t){var r=Pe;try{return Pe=e,t()}finally{Pe=r}};Cu=function(e,t,r){switch(t){case"input":if(vu(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=xl(n);if(!s)throw Error(oe(90));Pm(n),vu(n,s)}}}break;case"textarea":Rm(e,r);break;case"select":t=r.value,t!=null&&bn(e,!!r.multiple,t,!1)}};Bm=cd;zm=Fi;var ax={usingClientEntryPoint:!1,Events:[ho,pn,xl,Nm,Im,cd]},_s={findFiberByHostInstance:Ti,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},lx={bundleType:_s.bundleType,version:_s.version,rendererPackageName:_s.rendererPackageName,rendererConfig:_s.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ur.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Hm(e),e===null?null:e.stateNode},findFiberByHostInstance:_s.findFiberByHostInstance||sx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sa.isDisabled&&sa.supportsFiber)try{gl=sa.inject(lx),yr=sa}catch{}}Bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ax;Bt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!md(t))throw Error(oe(200));return nx(e,t,null,r)};Bt.createRoot=function(e,t){if(!md(e))throw Error(oe(299));var r=!1,n="",s=yg;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=fd(e,1,!1,null,null,r,!1,n,s),e[Br]=t.current,Vs(e.nodeType===8?e.parentNode:e),new _d(t)};Bt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(oe(188)):(e=Object.keys(e).join(","),Error(oe(268,e)));return e=Hm(t),e=e===null?null:e.stateNode,e};Bt.flushSync=function(e){return Fi(e)};Bt.hydrate=function(e,t,r){if(!Ol(t))throw Error(oe(200));return Al(null,e,t,!0,r)};Bt.hydrateRoot=function(e,t,r){if(!md(e))throw Error(oe(405));var n=r!=null&&r.hydratedSources||null,s=!1,a="",u=yg;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(u=r.onRecoverableError)),t=gg(t,null,e,1,r??null,s,!1,a,u),e[Br]=t.current,Vs(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Rl(t)};Bt.render=function(e,t,r){if(!Ol(t))throw Error(oe(200));return Al(null,e,t,!1,r)};Bt.unmountComponentAtNode=function(e){if(!Ol(e))throw Error(oe(40));return e._reactRootContainer?(Fi(function(){Al(null,null,e,!1,function(){e._reactRootContainer=null,e[Br]=null})}),!0):!1};Bt.unstable_batchedUpdates=cd;Bt.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Ol(r))throw Error(oe(200));if(e==null||e._reactInternals===void 0)throw Error(oe(38));return Al(e,t,r,!1,n)};Bt.version="18.3.1-next-f1338f8080-20240426";function wg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(wg)}catch(e){console.error(e)}}wg(),wm.exports=Bt;var Sg=wm.exports,Jp=Sg;uu.createRoot=Jp.createRoot,uu.hydrateRoot=Jp.hydrateRoot;var xg={exports:{}},bg={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var po=V;function cx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ux=typeof Object.is=="function"?Object.is:cx,hx=po.useSyncExternalStore,dx=po.useRef,fx=po.useEffect,px=po.useMemo,_x=po.useDebugValue;bg.useSyncExternalStoreWithSelector=function(e,t,r,n,s){var a=dx(null);if(a.current===null){var u={hasValue:!1,value:null};a.current=u}else u=a.current;a=px(function(){function c(b){if(!p){if(p=!0,g=b,b=n(b),s!==void 0&&u.hasValue){var C=u.value;if(s(C,b))return m=C}return m=b}if(C=m,ux(g,b))return C;var x=n(b);return s!==void 0&&s(C,x)?(g=b,C):(g=b,m=x)}var p=!1,g,m,y=r===void 0?null:r;return[function(){return c(t())},y===null?void 0:function(){return c(y())}]},[t,r,n,s]);var l=hx(e,a[0],a[1]);return fx(function(){u.hasValue=!0,u.value=l},[l]),_x(l),l};xg.exports=bg;var mx=xg.exports;function vx(e){e()}function gx(){let e=null,t=null;return{clear(){e=null,t=null},notify(){vx(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const s=t={callback:r,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!n||e===null||(n=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var Xp={notify(){},get:()=>[]};function yx(e,t){let r,n=Xp,s=0,a=!1;function u(x){g();const d=n.subscribe(x);let _=!1;return()=>{_||(_=!0,d(),m())}}function l(){n.notify()}function c(){C.onStateChange&&C.onStateChange()}function p(){return a}function g(){s++,r||(r=e.subscribe(c),n=gx())}function m(){s--,r&&s===0&&(r(),r=void 0,n.clear(),n=Xp)}function y(){a||(a=!0,g())}function b(){a&&(a=!1,m())}const C={addNestedSub:u,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:p,trySubscribe:y,tryUnsubscribe:b,getListeners:()=>n};return C}var wx=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Sx=wx(),xx=()=>typeof navigator<"u"&&navigator.product==="ReactNative",bx=xx(),Cx=()=>Sx||bx?V.useLayoutEffect:V.useEffect,Ex=Cx(),Yc=Symbol.for("react-redux-context"),Qc=typeof globalThis<"u"?globalThis:{};function kx(){if(!V.createContext)return{};const e=Qc[Yc]??(Qc[Yc]=new Map);let t=e.get(V.createContext);return t||(t=V.createContext(null),e.set(V.createContext,t)),t}var di=kx();function Lx(e){const{children:t,context:r,serverState:n,store:s}=e,a=V.useMemo(()=>{const c=yx(s);return{store:s,subscription:c,getServerState:n?()=>n:void 0}},[s,n]),u=V.useMemo(()=>s.getState(),[s]);Ex(()=>{const{subscription:c}=a;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),u!==s.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[a,u]);const l=r||di;return V.createElement(l.Provider,{value:a},t)}var Px=Lx;function vd(e=di){return function(){return V.useContext(e)}}var Cg=vd();function Eg(e=di){const t=e===di?Cg:vd(e),r=()=>{const{store:n}=t();return n};return Object.assign(r,{withTypes:()=>r}),r}var Tx=Eg();function Rx(e=di){const t=e===di?Tx:Eg(e),r=()=>t().dispatch;return Object.assign(r,{withTypes:()=>r}),r}var _o=Rx(),Ox=(e,t)=>e===t;function Ax(e=di){const t=e===di?Cg:vd(e),r=(n,s={})=>{const{equalityFn:a=Ox}=typeof s=="function"?{equalityFn:s}:s,u=t(),{store:l,subscription:c,getServerState:p}=u;V.useRef(!0);const g=V.useCallback({[n.name](y){return n(y)}}[n.name],[n]),m=mx.useSyncExternalStoreWithSelector(c.addNestedSub,l.getState,p||l.getState,g,a);return V.useDebugValue(m),m};return Object.assign(r,{withTypes:()=>r}),r}var Fr=Ax();function st(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Dx=typeof Symbol=="function"&&Symbol.observable||"@@observable",Yp=Dx,eu=()=>Math.random().toString(36).substring(7).split("").join("."),Mx={INIT:`@@redux/INIT${eu()}`,REPLACE:`@@redux/REPLACE${eu()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${eu()}`},tl=Mx;function gd(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function kg(e,t,r){if(typeof e!="function")throw new Error(st(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(st(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(st(1));return r(kg)(e,t)}let n=e,s=t,a=new Map,u=a,l=0,c=!1;function p(){u===a&&(u=new Map,a.forEach((d,_)=>{u.set(_,d)}))}function g(){if(c)throw new Error(st(3));return s}function m(d){if(typeof d!="function")throw new Error(st(4));if(c)throw new Error(st(5));let _=!0;p();const f=l++;return u.set(f,d),function(){if(_){if(c)throw new Error(st(6));_=!1,p(),u.delete(f),a=null}}}function y(d){if(!gd(d))throw new Error(st(7));if(typeof d.type>"u")throw new Error(st(8));if(typeof d.type!="string")throw new Error(st(17));if(c)throw new Error(st(9));try{c=!0,s=n(s,d)}finally{c=!1}return(a=u).forEach(f=>{f()}),d}function b(d){if(typeof d!="function")throw new Error(st(10));n=d,y({type:tl.REPLACE})}function C(){const d=m;return{subscribe(_){if(typeof _!="object"||_===null)throw new Error(st(11));function f(){const S=_;S.next&&S.next(g())}return f(),{unsubscribe:d(f)}},[Yp](){return this}}}return y({type:tl.INIT}),{dispatch:y,subscribe:m,getState:g,replaceReducer:b,[Yp]:C}}function Nx(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:tl.INIT})>"u")throw new Error(st(12));if(typeof r(void 0,{type:tl.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(st(13))})}function Ix(e){const t=Object.keys(e),r={};for(let a=0;a<t.length;a++){const u=t[a];typeof e[u]=="function"&&(r[u]=e[u])}const n=Object.keys(r);let s;try{Nx(r)}catch(a){s=a}return function(u={},l){if(s)throw s;let c=!1;const p={};for(let g=0;g<n.length;g++){const m=n[g],y=r[m],b=u[m],C=y(b,l);if(typeof C>"u")throw l&&l.type,new Error(st(14));p[m]=C,c=c||C!==b}return c=c||n.length!==Object.keys(u).length,c?p:u}}function rl(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function Bx(...e){return t=>(r,n)=>{const s=t(r,n);let a=()=>{throw new Error(st(15))};const u={getState:s.getState,dispatch:(c,...p)=>a(c,...p)},l=e.map(c=>c(u));return a=rl(...l)(s.dispatch),{...s,dispatch:a}}}function zx(e){return gd(e)&&"type"in e&&typeof e.type=="string"}var Lg=Symbol.for("immer-nothing"),Qp=Symbol.for("immer-draftable"),St=Symbol.for("immer-state");function nr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Mt=Object,zn=Mt.getPrototypeOf,il="constructor",Dl="prototype",ih="configurable",nl="enumerable",ka="writable",to="value",Hr=e=>!!e&&!!e[St];function lr(e){var t;return e?Pg(e)||Nl(e)||!!e[Qp]||!!((t=e[il])!=null&&t[Qp])||Il(e)||Bl(e):!1}var jx=Mt[Dl][il].toString(),e_=new WeakMap;function Pg(e){if(!e||!yd(e))return!1;const t=zn(e);if(t===null||t===Mt[Dl])return!0;const r=Mt.hasOwnProperty.call(t,il)&&t[il];if(r===Object)return!0;if(!ln(r))return!1;let n=e_.get(r);return n===void 0&&(n=Function.toString.call(r),e_.set(r,n)),n===jx}function Ml(e,t,r=!0){mo(e)===0?(r?Reflect.ownKeys(e):Mt.keys(e)).forEach(s=>{t(s,e[s],e)}):e.forEach((n,s)=>t(s,n,e))}function mo(e){const t=e[St];return t?t.type_:Nl(e)?1:Il(e)?2:Bl(e)?3:0}var t_=(e,t,r=mo(e))=>r===2?e.has(t):Mt[Dl].hasOwnProperty.call(e,t),nh=(e,t,r=mo(e))=>r===2?e.get(t):e[t],sl=(e,t,r,n=mo(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function Fx(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Nl=Array.isArray,Il=e=>e instanceof Map,Bl=e=>e instanceof Set,yd=e=>typeof e=="object",ln=e=>typeof e=="function",tu=e=>typeof e=="boolean";function Hx(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var Or=e=>e.copy_||e.base_,wd=e=>e.modified_?e.copy_:e.base_;function sh(e,t){if(Il(e))return new Map(e);if(Bl(e))return new Set(e);if(Nl(e))return Array[Dl].slice.call(e);const r=Pg(e);if(t===!0||t==="class_only"&&!r){const n=Mt.getOwnPropertyDescriptors(e);delete n[St];let s=Reflect.ownKeys(n);for(let a=0;a<s.length;a++){const u=s[a],l=n[u];l[ka]===!1&&(l[ka]=!0,l[ih]=!0),(l.get||l.set)&&(n[u]={[ih]:!0,[ka]:!0,[nl]:l[nl],[to]:e[u]})}return Mt.create(zn(e),n)}else{const n=zn(e);if(n!==null&&r)return{...e};const s=Mt.create(n);return Mt.assign(s,e)}}function Sd(e,t=!1){return zl(e)||Hr(e)||!lr(e)||(mo(e)>1&&Mt.defineProperties(e,{set:oa,add:oa,clear:oa,delete:oa}),Mt.freeze(e),t&&Ml(e,(r,n)=>{Sd(n,!0)},!1)),e}function Ux(){nr(2)}var oa={[to]:Ux};function zl(e){return e===null||!yd(e)?!0:Mt.isFrozen(e)}var ol="MapSet",oh="Patches",r_="ArrayMethods",Tg={};function Hi(e){const t=Tg[e];return t||nr(0,e),t}var i_=e=>!!Tg[e],ro,Rg=()=>ro,$x=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:i_(ol)?Hi(ol):void 0,arrayMethodsPlugin_:i_(r_)?Hi(r_):void 0});function n_(e,t){t&&(e.patchPlugin_=Hi(oh),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function ah(e){lh(e),e.drafts_.forEach(Zx),e.drafts_=null}function lh(e){e===ro&&(ro=e.parent_)}var s_=e=>ro=$x(ro,e);function Zx(e){const t=e[St];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function o_(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[St].modified_&&(ah(t),nr(4)),lr(e)&&(e=a_(t,e));const{patchPlugin_:s}=t;s&&s.generateReplacementPatches_(r[St].base_,e,t)}else e=a_(t,r);return Wx(t,e,!0),ah(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Lg?e:void 0}function a_(e,t){if(zl(t))return t;const r=t[St];if(!r)return al(t,e.handledSet_,e);if(!jl(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);Dg(r,e)}return r.copy_}function Wx(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Sd(t,r)}function Og(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var jl=(e,t)=>e.scope_===t,Vx=[];function Ag(e,t,r,n){const s=Or(e),a=e.type_;if(n!==void 0&&nh(s,n,a)===t){sl(s,n,r,a);return}if(!e.draftLocations_){const l=e.draftLocations_=new Map;Ml(s,(c,p)=>{if(Hr(p)){const g=l.get(p)||[];g.push(c),l.set(p,g)}})}const u=e.draftLocations_.get(t)??Vx;for(const l of u)sl(s,l,r,a)}function Kx(e,t,r){e.callbacks_.push(function(s){var l;const a=t;if(!a||!jl(a,s))return;(l=s.mapSetPlugin_)==null||l.fixSetContents(a);const u=wd(a);Ag(e,a.draft_??a,u,r),Dg(a,s)})}function Dg(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:s}=t;if(s){const a=s.getPath(e);a&&s.generatePatches_(e,a,t)}Og(e)}}function qx(e,t,r){const{scope_:n}=e;if(Hr(r)){const s=r[St];jl(s,n)&&s.callbacks_.push(function(){La(e);const u=wd(s);Ag(e,r,u,t)})}else lr(r)&&e.callbacks_.push(function(){const a=Or(e);e.type_===3?a.has(r)&&al(r,n.handledSet_,n):nh(a,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&al(nh(e.copy_,t,e.type_),n.handledSet_,n)})}function al(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||Hr(e)||t.has(e)||!lr(e)||zl(e)||(t.add(e),Ml(e,(n,s)=>{if(Hr(s)){const a=s[St];if(jl(a,r)){const u=wd(a);sl(e,n,u,e.type_),Og(a)}}else lr(s)&&al(s,t,r)})),e}function Gx(e,t){const r=Nl(e),n={type_:r?1:0,scope_:t?t.scope_:Rg(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let s=n,a=ll;r&&(s=[n],a=io);const{revoke:u,proxy:l}=Proxy.revocable(s,a);return n.draft_=l,n.revoke_=u,[l,n]}var ll={get(e,t){if(t===St)return e;let r=e.scope_.arrayMethodsPlugin_;const n=e.type_===1&&typeof t=="string";if(n&&r!=null&&r.isArrayOperationMethod(t))return r.createMethodInterceptor(e,t);const s=Or(e);if(!t_(s,t,e.type_))return Jx(e,s,t);const a=s[t];if(e.finalized_||!lr(a)||n&&e.operationMethod&&(r!=null&&r.isMutatingArrayMethod(e.operationMethod))&&Hx(t))return a;if(a===ru(e.base_,t)){La(e);const u=e.type_===1?+t:t,l=uh(e.scope_,a,e,u);return e.copy_[u]=l}return a},has(e,t){return t in Or(e)},ownKeys(e){return Reflect.ownKeys(Or(e))},set(e,t,r){const n=Mg(Or(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const s=ru(Or(e),t),a=s==null?void 0:s[St];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(Fx(r,s)&&(r!==void 0||t_(e.base_,t,e.type_)))return!0;La(e),ch(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),qx(e,t,r)),!0},deleteProperty(e,t){return La(e),ru(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),ch(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Or(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[ka]:!0,[ih]:e.type_!==1||t!=="length",[nl]:n[nl],[to]:r[t]}},defineProperty(){nr(11)},getPrototypeOf(e){return zn(e.base_)},setPrototypeOf(){nr(12)}},io={};for(let e in ll){let t=ll[e];io[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}}io.deleteProperty=function(e,t){return io.set.call(this,e,t,void 0)};io.set=function(e,t,r){return ll.set.call(this,e[0],t,r,e[0])};function ru(e,t){const r=e[St];return(r?Or(r):e)[t]}function Jx(e,t,r){var s;const n=Mg(t,r);return n?to in n?n[to]:(s=n.get)==null?void 0:s.call(e.draft_):void 0}function Mg(e,t){if(!(t in e))return;let r=zn(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=zn(r)}}function ch(e){e.modified_||(e.modified_=!0,e.parent_&&ch(e.parent_))}function La(e){e.copy_||(e.assigned_=new Map,e.copy_=sh(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Xx=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(t,r,n)=>{if(ln(t)&&!ln(r)){const a=r;r=t;const u=this;return function(c=a,...p){return u.produce(c,g=>r.call(this,g,...p))}}ln(r)||nr(6),n!==void 0&&!ln(n)&&nr(7);let s;if(lr(t)){const a=s_(this),u=uh(a,t,void 0);let l=!0;try{s=r(u),l=!1}finally{l?ah(a):lh(a)}return n_(a,n),o_(s,a)}else if(!t||!yd(t)){if(s=r(t),s===void 0&&(s=t),s===Lg&&(s=void 0),this.autoFreeze_&&Sd(s,!0),n){const a=[],u=[];Hi(oh).generateReplacementPatches_(t,s,{patches_:a,inversePatches_:u}),n(a,u)}return s}else nr(1,t)},this.produceWithPatches=(t,r)=>{if(ln(t))return(u,...l)=>this.produceWithPatches(u,c=>t(c,...l));let n,s;return[this.produce(t,r,(u,l)=>{n=u,s=l}),n,s]},tu(e==null?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),tu(e==null?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),tu(e==null?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){lr(e)||nr(8),Hr(e)&&(e=Yx(e));const t=s_(this),r=uh(t,e,void 0);return r[St].isManual_=!0,lh(t),r}finishDraft(e,t){const r=e&&e[St];(!r||!r.isManual_)&&nr(9);const{scope_:n}=r;return n_(n,t),o_(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const s=t[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(t=t.slice(r+1));const n=Hi(oh).applyPatches_;return Hr(e)?n(e,t):this.produce(e,s=>n(s,t))}};function uh(e,t,r,n){const[s,a]=Il(t)?Hi(ol).proxyMap_(t,r):Bl(t)?Hi(ol).proxySet_(t,r):Gx(t,r);return((r==null?void 0:r.scope_)??Rg()).drafts_.push(s),a.callbacks_=(r==null?void 0:r.callbacks_)??[],a.key_=n,r&&n!==void 0?Kx(r,a,n):a.callbacks_.push(function(c){var g;(g=c.mapSetPlugin_)==null||g.fixSetContents(a);const{patchPlugin_:p}=c;a.modified_&&p&&p.generatePatches_(a,[],c)}),s}function Yx(e){return Hr(e)||nr(10,e),Ng(e)}function Ng(e){if(!lr(e)||zl(e))return e;const t=e[St];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=sh(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=sh(e,!0);return Ml(r,(s,a)=>{sl(r,s,Ng(a))},n),t&&(t.finalized_=!1),r}var Qx=new Xx,Ig=Qx.produce;function Bg(e){return({dispatch:r,getState:n})=>s=>a=>typeof a=="function"?a(r,n,e):s(a)}var eb=Bg(),tb=Bg,rb=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?rl:rl.apply(null,arguments)},ib=e=>e&&typeof e.match=="function";function Is(e,t){function r(...n){if(t){let s=t(...n);if(!s)throw new Error(Nr(0));return{type:e,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>zx(n)&&n.type===e,r}var zg=class Cs extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Cs.prototype)}static get[Symbol.species](){return Cs}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Cs(...t[0].concat(this)):new Cs(...t.concat(this))}};function l_(e){return lr(e)?Ig(e,()=>{}):e}function aa(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function nb(e){return typeof e=="boolean"}var sb=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:s=!0,actionCreatorCheck:a=!0}=t??{};let u=new zg;return r&&(nb(r)?u.push(eb):u.push(tb(r.extraArgument))),u},ob="RTK_autoBatch",c_=e=>t=>{setTimeout(t,e)},ab=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let s=!0,a=!1,u=!1;const l=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:c_(10):e.type==="callback"?e.queueNotification:c_(e.timeout),p=()=>{u=!1,a&&(a=!1,l.forEach(g=>g()))};return Object.assign({},n,{subscribe(g){const m=()=>s&&g(),y=n.subscribe(m);return l.add(g),()=>{y(),l.delete(g)}},dispatch(g){var m;try{return s=!((m=g==null?void 0:g.meta)!=null&&m[ob]),a=!s,a&&(u||(u=!0,c(p))),n.dispatch(g)}finally{s=!0}}})},lb=e=>function(r){const{autoBatch:n=!0}=r??{};let s=new zg(e);return n&&s.push(ab(typeof n=="object"?n:void 0)),s};function cb(e){const t=sb(),{reducer:r=void 0,middleware:n,devTools:s=!0,preloadedState:a=void 0,enhancers:u=void 0}=e||{};let l;if(typeof r=="function")l=r;else if(gd(r))l=Ix(r);else throw new Error(Nr(1));let c;typeof n=="function"?c=n(t):c=t();let p=rl;s&&(p=rb({trace:!1,...typeof s=="object"&&s}));const g=Bx(...c),m=lb(g);let y=typeof u=="function"?u(m):m();const b=p(...y);return kg(l,a,b)}function jg(e){const t={},r=[];let n;const s={addCase(a,u){const l=typeof a=="string"?a:a.type;if(!l)throw new Error(Nr(28));if(l in t)throw new Error(Nr(29));return t[l]=u,s},addAsyncThunk(a,u){return u.pending&&(t[a.pending.type]=u.pending),u.rejected&&(t[a.rejected.type]=u.rejected),u.fulfilled&&(t[a.fulfilled.type]=u.fulfilled),u.settled&&r.push({matcher:a.settled,reducer:u.settled}),s},addMatcher(a,u){return r.push({matcher:a,reducer:u}),s},addDefaultCase(a){return n=a,s}};return e(s),[t,r,n]}function ub(e){return typeof e=="function"}function hb(e,t){let[r,n,s]=jg(t),a;if(ub(e))a=()=>l_(e());else{const l=l_(e);a=()=>l}function u(l=a(),c){let p=[r[c.type],...n.filter(({matcher:g})=>g(c)).map(({reducer:g})=>g)];return p.filter(g=>!!g).length===0&&(p=[s]),p.reduce((g,m)=>{if(m)if(Hr(g)){const b=m(g,c);return b===void 0?g:b}else{if(lr(g))return Ig(g,y=>m(y,c));{const y=m(g,c);if(y===void 0){if(g===null)return g;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return g},l)}return u.getInitialState=a,u}var db=(e,t)=>ib(e)?e.match(t):e(t);function fb(...e){return t=>e.some(r=>db(r,t))}var pb="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",_b=(e=21)=>{let t="",r=e;for(;r--;)t+=pb[Math.random()*64|0];return t},mb=["name","message","stack","code"],iu=class{constructor(e,t){Ec(this,"_type");this.payload=e,this.meta=t}},u_=class{constructor(e,t){Ec(this,"_type");this.payload=e,this.meta=t}},vb=e=>{if(typeof e=="object"&&e!==null){const t={};for(const r of mb)typeof e[r]=="string"&&(t[r]=e[r]);return t}return{message:String(e)}},h_="External signal was aborted",Fg=(()=>{function e(t,r,n){const s=Is(t+"/fulfilled",(c,p,g,m)=>({payload:c,meta:{...m||{},arg:g,requestId:p,requestStatus:"fulfilled"}})),a=Is(t+"/pending",(c,p,g)=>({payload:void 0,meta:{...g||{},arg:p,requestId:c,requestStatus:"pending"}})),u=Is(t+"/rejected",(c,p,g,m,y)=>({payload:m,error:(n&&n.serializeError||vb)(c||"Rejected"),meta:{...y||{},arg:g,requestId:p,rejectedWithValue:!!m,requestStatus:"rejected",aborted:(c==null?void 0:c.name)==="AbortError",condition:(c==null?void 0:c.name)==="ConditionError"}}));function l(c,{signal:p}={}){return(g,m,y)=>{const b=n!=null&&n.idGenerator?n.idGenerator(c):_b(),C=new AbortController;let x,d;function _(v){d=v,C.abort()}p&&(p.aborted?_(h_):p.addEventListener("abort",()=>_(h_),{once:!0}));const f=async function(){var E,R;let v;try{let D=(E=n==null?void 0:n.condition)==null?void 0:E.call(n,c,{getState:m,extra:y});if(yb(D)&&(D=await D),D===!1||C.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const k=new Promise((A,B)=>{x=()=>{B({name:"AbortError",message:d||"Aborted"})},C.signal.addEventListener("abort",x,{once:!0})});g(a(b,c,(R=n==null?void 0:n.getPendingMeta)==null?void 0:R.call(n,{requestId:b,arg:c},{getState:m,extra:y}))),v=await Promise.race([k,Promise.resolve(r(c,{dispatch:g,getState:m,extra:y,requestId:b,signal:C.signal,abort:_,rejectWithValue:(A,B)=>new iu(A,B),fulfillWithValue:(A,B)=>new u_(A,B)})).then(A=>{if(A instanceof iu)throw A;return A instanceof u_?s(A.payload,b,c,A.meta):s(A,b,c)})])}catch(D){v=D instanceof iu?u(null,b,c,D.payload,D.meta):u(D,b,c)}finally{x&&C.signal.removeEventListener("abort",x)}return n&&!n.dispatchConditionRejection&&u.match(v)&&v.meta.condition||g(v),v}();return Object.assign(f,{abort:_,requestId:b,arg:c,unwrap(){return f.then(gb)}})}}return Object.assign(l,{pending:a,rejected:u,fulfilled:s,settled:fb(u,s),typePrefix:t})}return e.withTypes=()=>e,e})();function gb(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function yb(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var wb=Symbol.for("rtk-slice-createasyncthunk");function Sb(e,t){return`${e}/${t}`}function xb({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[wb];return function(s){const{name:a,reducerPath:u=a}=s;if(!a)throw new Error(Nr(11));const l=(typeof s.reducers=="function"?s.reducers(Cb()):s.reducers)||{},c=Object.keys(l),p={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},g={addCase(S,E){const R=typeof S=="string"?S:S.type;if(!R)throw new Error(Nr(12));if(R in p.sliceCaseReducersByType)throw new Error(Nr(13));return p.sliceCaseReducersByType[R]=E,g},addMatcher(S,E){return p.sliceMatchers.push({matcher:S,reducer:E}),g},exposeAction(S,E){return p.actionCreators[S]=E,g},exposeCaseReducer(S,E){return p.sliceCaseReducersByName[S]=E,g}};c.forEach(S=>{const E=l[S],R={reducerName:S,type:Sb(a,S),createNotation:typeof s.reducers=="function"};kb(E)?Pb(R,E,g,t):Eb(R,E,g)});function m(){const[S={},E=[],R=void 0]=typeof s.extraReducers=="function"?jg(s.extraReducers):[s.extraReducers],D={...S,...p.sliceCaseReducersByType};return hb(s.initialState,k=>{for(let A in D)k.addCase(A,D[A]);for(let A of p.sliceMatchers)k.addMatcher(A.matcher,A.reducer);for(let A of E)k.addMatcher(A.matcher,A.reducer);R&&k.addDefaultCase(R)})}const y=S=>S,b=new Map,C=new WeakMap;let x;function d(S,E){return x||(x=m()),x(S,E)}function _(){return x||(x=m()),x.getInitialState()}function f(S,E=!1){function R(k){let A=k[S];return typeof A>"u"&&E&&(A=aa(C,R,_)),A}function D(k=y){const A=aa(b,E,()=>new WeakMap);return aa(A,k,()=>{const B={};for(const[H,j]of Object.entries(s.selectors??{}))B[H]=bb(j,k,()=>aa(C,k,_),E);return B})}return{reducerPath:S,getSelectors:D,get selectors(){return D(R)},selectSlice:R}}const v={name:a,reducer:d,actions:p.actionCreators,caseReducers:p.sliceCaseReducersByName,getInitialState:_,...f(u),injectInto(S,{reducerPath:E,...R}={}){const D=E??u;return S.inject({reducerPath:D,reducer:d},R),{...v,...f(D,!0)}}};return v}}function bb(e,t,r,n){function s(a,...u){let l=t(a);return typeof l>"u"&&n&&(l=r()),e(l,...u)}return s.unwrapped=e,s}var Hg=xb();function Cb(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function Eb({type:e,reducerName:t,createNotation:r},n,s){let a,u;if("reducer"in n){if(r&&!Lb(n))throw new Error(Nr(17));a=n.reducer,u=n.prepare}else a=n;s.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,u?Is(e,u):Is(e))}function kb(e){return e._reducerDefinitionType==="asyncThunk"}function Lb(e){return e._reducerDefinitionType==="reducerWithPrepare"}function Pb({type:e,reducerName:t},r,n,s){if(!s)throw new Error(Nr(18));const{payloadCreator:a,fulfilled:u,pending:l,rejected:c,settled:p,options:g}=r,m=s(e,a,g);n.exposeAction(t,m),u&&n.addCase(m.fulfilled,u),l&&n.addCase(m.pending,l),c&&n.addCase(m.rejected,c),p&&n.addMatcher(m.settled,p),n.exposeCaseReducer(t,{fulfilled:u||la,pending:l||la,rejected:c||la,settled:p||la})}function la(){}function Nr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}const d_=localStorage.getItem("ds_auth"),Tb=d_?JSON.parse(d_):{user:null,accessToken:null,isAuthenticated:!1,error:null},Ug=Hg({name:"auth",initialState:Tb,reducers:{setAuth:(e,t)=>{e.user=t.payload.user,e.accessToken=t.payload.accessToken,e.isAuthenticated=!!t.payload.user,e.error=null,localStorage.setItem("ds_auth",JSON.stringify({user:t.payload.user,accessToken:t.payload.accessToken,isAuthenticated:!!t.payload.user}))},setError:(e,t)=>{e.error=t.payload},logout:e=>{e.user=null,e.accessToken=null,e.isAuthenticated=!1,localStorage.removeItem("ds_auth")}}}),{setAuth:Rb,setError:nu,logout:Fl}=Ug.actions,Ob=Ug.reducer;function $g(e,t){return function(){return e.apply(t,arguments)}}const{toString:Ab}=Object.prototype,{getPrototypeOf:xd}=Object,{iterator:Hl,toStringTag:Zg}=Symbol,Ul=(e=>t=>{const r=Ab.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),cr=e=>(e=e.toLowerCase(),t=>Ul(t)===e),$l=e=>t=>typeof t===e,{isArray:$n}=Array,jn=$l("undefined");function vo(e){return e!==null&&!jn(e)&&e.constructor!==null&&!jn(e.constructor)&&Rt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Wg=cr("ArrayBuffer");function Db(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Wg(e.buffer),t}const Mb=$l("string"),Rt=$l("function"),Vg=$l("number"),go=e=>e!==null&&typeof e=="object",Nb=e=>e===!0||e===!1,Pa=e=>{if(Ul(e)!=="object")return!1;const t=xd(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Zg in e)&&!(Hl in e)},Ib=e=>{if(!go(e)||vo(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},Bb=cr("Date"),zb=cr("File"),jb=cr("Blob"),Fb=cr("FileList"),Hb=e=>go(e)&&Rt(e.pipe),Ub=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Rt(e.append)&&((t=Ul(e))==="formdata"||t==="object"&&Rt(e.toString)&&e.toString()==="[object FormData]"))},$b=cr("URLSearchParams"),[Zb,Wb,Vb,Kb]=["ReadableStream","Request","Response","Headers"].map(cr),qb=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function yo(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,s;if(typeof e!="object"&&(e=[e]),$n(e))for(n=0,s=e.length;n<s;n++)t.call(null,e[n],n,e);else{if(vo(e))return;const a=r?Object.getOwnPropertyNames(e):Object.keys(e),u=a.length;let l;for(n=0;n<u;n++)l=a[n],t.call(null,e[l],l,e)}}function Kg(e,t){if(vo(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,s;for(;n-- >0;)if(s=r[n],t===s.toLowerCase())return s;return null}const Ai=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,qg=e=>!jn(e)&&e!==Ai;function hh(){const{caseless:e,skipUndefined:t}=qg(this)&&this||{},r={},n=(s,a)=>{const u=e&&Kg(r,a)||a;Pa(r[u])&&Pa(s)?r[u]=hh(r[u],s):Pa(s)?r[u]=hh({},s):$n(s)?r[u]=s.slice():(!t||!jn(s))&&(r[u]=s)};for(let s=0,a=arguments.length;s<a;s++)arguments[s]&&yo(arguments[s],n);return r}const Gb=(e,t,r,{allOwnKeys:n}={})=>(yo(t,(s,a)=>{r&&Rt(s)?Object.defineProperty(e,a,{value:$g(s,r),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(e,a,{value:s,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:n}),e),Jb=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Xb=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},Yb=(e,t,r,n)=>{let s,a,u;const l={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),a=s.length;a-- >0;)u=s[a],(!n||n(u,e,t))&&!l[u]&&(t[u]=e[u],l[u]=!0);e=r!==!1&&xd(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},Qb=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},eC=e=>{if(!e)return null;if($n(e))return e;let t=e.length;if(!Vg(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},tC=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&xd(Uint8Array)),rC=(e,t)=>{const n=(e&&e[Hl]).call(e);let s;for(;(s=n.next())&&!s.done;){const a=s.value;t.call(e,a[0],a[1])}},iC=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},nC=cr("HTMLFormElement"),sC=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,s){return n.toUpperCase()+s}),f_=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),oC=cr("RegExp"),Gg=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};yo(r,(s,a)=>{let u;(u=t(s,a,e))!==!1&&(n[a]=u||s)}),Object.defineProperties(e,n)},aC=e=>{Gg(e,(t,r)=>{if(Rt(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(Rt(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},lC=(e,t)=>{const r={},n=s=>{s.forEach(a=>{r[a]=!0})};return $n(e)?n(e):n(String(e).split(t)),r},cC=()=>{},uC=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function hC(e){return!!(e&&Rt(e.append)&&e[Zg]==="FormData"&&e[Hl])}const dC=e=>{const t=new Array(10),r=(n,s)=>{if(go(n)){if(t.indexOf(n)>=0)return;if(vo(n))return n;if(!("toJSON"in n)){t[s]=n;const a=$n(n)?[]:{};return yo(n,(u,l)=>{const c=r(u,s+1);!jn(c)&&(a[l]=c)}),t[s]=void 0,a}}return n};return r(e,0)},fC=cr("AsyncFunction"),pC=e=>e&&(go(e)||Rt(e))&&Rt(e.then)&&Rt(e.catch),Jg=((e,t)=>e?setImmediate:t?((r,n)=>(Ai.addEventListener("message",({source:s,data:a})=>{s===Ai&&a===r&&n.length&&n.shift()()},!1),s=>{n.push(s),Ai.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Rt(Ai.postMessage)),_C=typeof queueMicrotask<"u"?queueMicrotask.bind(Ai):typeof process<"u"&&process.nextTick||Jg,mC=e=>e!=null&&Rt(e[Hl]),G={isArray:$n,isArrayBuffer:Wg,isBuffer:vo,isFormData:Ub,isArrayBufferView:Db,isString:Mb,isNumber:Vg,isBoolean:Nb,isObject:go,isPlainObject:Pa,isEmptyObject:Ib,isReadableStream:Zb,isRequest:Wb,isResponse:Vb,isHeaders:Kb,isUndefined:jn,isDate:Bb,isFile:zb,isBlob:jb,isRegExp:oC,isFunction:Rt,isStream:Hb,isURLSearchParams:$b,isTypedArray:tC,isFileList:Fb,forEach:yo,merge:hh,extend:Gb,trim:qb,stripBOM:Jb,inherits:Xb,toFlatObject:Yb,kindOf:Ul,kindOfTest:cr,endsWith:Qb,toArray:eC,forEachEntry:rC,matchAll:iC,isHTMLForm:nC,hasOwnProperty:f_,hasOwnProp:f_,reduceDescriptors:Gg,freezeMethods:aC,toObjectSet:lC,toCamelCase:sC,noop:cC,toFiniteNumber:uC,findKey:Kg,global:Ai,isContextDefined:qg,isSpecCompliantForm:hC,toJSONObject:dC,isAsyncFn:fC,isThenable:pC,setImmediate:Jg,asap:_C,isIterable:mC};let pe=class Xg extends Error{static from(t,r,n,s,a,u){const l=new Xg(t.message,r||t.code,n,s,a);return l.cause=t,l.name=t.name,u&&Object.assign(l,u),l}constructor(t,r,n,s,a){super(t),this.name="AxiosError",this.isAxiosError=!0,r&&(this.code=r),n&&(this.config=n),s&&(this.request=s),a&&(this.response=a,this.status=a.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:G.toJSONObject(this.config),code:this.code,status:this.status}}};pe.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";pe.ERR_BAD_OPTION="ERR_BAD_OPTION";pe.ECONNABORTED="ECONNABORTED";pe.ETIMEDOUT="ETIMEDOUT";pe.ERR_NETWORK="ERR_NETWORK";pe.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";pe.ERR_DEPRECATED="ERR_DEPRECATED";pe.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";pe.ERR_BAD_REQUEST="ERR_BAD_REQUEST";pe.ERR_CANCELED="ERR_CANCELED";pe.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";pe.ERR_INVALID_URL="ERR_INVALID_URL";const vC=null;function dh(e){return G.isPlainObject(e)||G.isArray(e)}function Yg(e){return G.endsWith(e,"[]")?e.slice(0,-2):e}function p_(e,t,r){return e?e.concat(t).map(function(s,a){return s=Yg(s),!r&&a?"["+s+"]":s}).join(r?".":""):t}function gC(e){return G.isArray(e)&&!e.some(dh)}const yC=G.toFlatObject(G,{},null,function(t){return/^is[A-Z]/.test(t)});function Zl(e,t,r){if(!G.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=G.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,d){return!G.isUndefined(d[x])});const n=r.metaTokens,s=r.visitor||g,a=r.dots,u=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&G.isSpecCompliantForm(t);if(!G.isFunction(s))throw new TypeError("visitor must be a function");function p(C){if(C===null)return"";if(G.isDate(C))return C.toISOString();if(G.isBoolean(C))return C.toString();if(!c&&G.isBlob(C))throw new pe("Blob is not supported. Use a Buffer instead.");return G.isArrayBuffer(C)||G.isTypedArray(C)?c&&typeof Blob=="function"?new Blob([C]):Buffer.from(C):C}function g(C,x,d){let _=C;if(C&&!d&&typeof C=="object"){if(G.endsWith(x,"{}"))x=n?x:x.slice(0,-2),C=JSON.stringify(C);else if(G.isArray(C)&&gC(C)||(G.isFileList(C)||G.endsWith(x,"[]"))&&(_=G.toArray(C)))return x=Yg(x),_.forEach(function(v,S){!(G.isUndefined(v)||v===null)&&t.append(u===!0?p_([x],S,a):u===null?x:x+"[]",p(v))}),!1}return dh(C)?!0:(t.append(p_(d,x,a),p(C)),!1)}const m=[],y=Object.assign(yC,{defaultVisitor:g,convertValue:p,isVisitable:dh});function b(C,x){if(!G.isUndefined(C)){if(m.indexOf(C)!==-1)throw Error("Circular reference detected in "+x.join("."));m.push(C),G.forEach(C,function(_,f){(!(G.isUndefined(_)||_===null)&&s.call(t,_,G.isString(f)?f.trim():f,x,y))===!0&&b(_,x?x.concat(f):[f])}),m.pop()}}if(!G.isObject(e))throw new TypeError("data must be an object");return b(e),t}function __(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function bd(e,t){this._pairs=[],e&&Zl(e,this,t)}const Qg=bd.prototype;Qg.append=function(t,r){this._pairs.push([t,r])};Qg.toString=function(t){const r=t?function(n){return t.call(this,n,__)}:__;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function wC(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function e0(e,t,r){if(!t)return e;const n=r&&r.encode||wC,s=G.isFunction(r)?{serialize:r}:r,a=s&&s.serialize;let u;if(a?u=a(t,s):u=G.isURLSearchParams(t)?t.toString():new bd(t,s).toString(n),u){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+u}return e}class m_{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){G.forEach(this.handlers,function(n){n!==null&&t(n)})}}const t0={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},SC=typeof URLSearchParams<"u"?URLSearchParams:bd,xC=typeof FormData<"u"?FormData:null,bC=typeof Blob<"u"?Blob:null,CC={isBrowser:!0,classes:{URLSearchParams:SC,FormData:xC,Blob:bC},protocols:["http","https","file","blob","url","data"]},Cd=typeof window<"u"&&typeof document<"u",fh=typeof navigator=="object"&&navigator||void 0,EC=Cd&&(!fh||["ReactNative","NativeScript","NS"].indexOf(fh.product)<0),kC=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",LC=Cd&&window.location.href||"http://localhost",PC=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Cd,hasStandardBrowserEnv:EC,hasStandardBrowserWebWorkerEnv:kC,navigator:fh,origin:LC},Symbol.toStringTag,{value:"Module"})),pt={...PC,...CC};function TC(e,t){return Zl(e,new pt.classes.URLSearchParams,{visitor:function(r,n,s,a){return pt.isNode&&G.isBuffer(r)?(this.append(n,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...t})}function RC(e){return G.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function OC(e){const t={},r=Object.keys(e);let n;const s=r.length;let a;for(n=0;n<s;n++)a=r[n],t[a]=e[a];return t}function r0(e){function t(r,n,s,a){let u=r[a++];if(u==="__proto__")return!0;const l=Number.isFinite(+u),c=a>=r.length;return u=!u&&G.isArray(s)?s.length:u,c?(G.hasOwnProp(s,u)?s[u]=[s[u],n]:s[u]=n,!l):((!s[u]||!G.isObject(s[u]))&&(s[u]=[]),t(r,n,s[u],a)&&G.isArray(s[u])&&(s[u]=OC(s[u])),!l)}if(G.isFormData(e)&&G.isFunction(e.entries)){const r={};return G.forEachEntry(e,(n,s)=>{t(RC(n),s,r,0)}),r}return null}function AC(e,t,r){if(G.isString(e))try{return(t||JSON.parse)(e),G.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const wo={transitional:t0,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",s=n.indexOf("application/json")>-1,a=G.isObject(t);if(a&&G.isHTMLForm(t)&&(t=new FormData(t)),G.isFormData(t))return s?JSON.stringify(r0(t)):t;if(G.isArrayBuffer(t)||G.isBuffer(t)||G.isStream(t)||G.isFile(t)||G.isBlob(t)||G.isReadableStream(t))return t;if(G.isArrayBufferView(t))return t.buffer;if(G.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return TC(t,this.formSerializer).toString();if((l=G.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Zl(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return a||s?(r.setContentType("application/json",!1),AC(t)):t}],transformResponse:[function(t){const r=this.transitional||wo.transitional,n=r&&r.forcedJSONParsing,s=this.responseType==="json";if(G.isResponse(t)||G.isReadableStream(t))return t;if(t&&G.isString(t)&&(n&&!this.responseType||s)){const u=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(l){if(u)throw l.name==="SyntaxError"?pe.from(l,pe.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:pt.classes.FormData,Blob:pt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};G.forEach(["delete","get","head","post","put","patch"],e=>{wo.headers[e]={}});const DC=G.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),MC=e=>{const t={};let r,n,s;return e&&e.split(`
`).forEach(function(u){s=u.indexOf(":"),r=u.substring(0,s).trim().toLowerCase(),n=u.substring(s+1).trim(),!(!r||t[r]&&DC[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},v_=Symbol("internals");function ms(e){return e&&String(e).trim().toLowerCase()}function Ta(e){return e===!1||e==null?e:G.isArray(e)?e.map(Ta):String(e)}function NC(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const IC=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function su(e,t,r,n,s){if(G.isFunction(n))return n.call(this,t,r);if(s&&(t=r),!!G.isString(t)){if(G.isString(n))return t.indexOf(n)!==-1;if(G.isRegExp(n))return n.test(t)}}function BC(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function zC(e,t){const r=G.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(s,a,u){return this[n].call(this,t,s,a,u)},configurable:!0})})}let Ot=class{constructor(t){t&&this.set(t)}set(t,r,n){const s=this;function a(l,c,p){const g=ms(c);if(!g)throw new Error("header name must be a non-empty string");const m=G.findKey(s,g);(!m||s[m]===void 0||p===!0||p===void 0&&s[m]!==!1)&&(s[m||c]=Ta(l))}const u=(l,c)=>G.forEach(l,(p,g)=>a(p,g,c));if(G.isPlainObject(t)||t instanceof this.constructor)u(t,r);else if(G.isString(t)&&(t=t.trim())&&!IC(t))u(MC(t),r);else if(G.isObject(t)&&G.isIterable(t)){let l={},c,p;for(const g of t){if(!G.isArray(g))throw TypeError("Object iterator must return a key-value pair");l[p=g[0]]=(c=l[p])?G.isArray(c)?[...c,g[1]]:[c,g[1]]:g[1]}u(l,r)}else t!=null&&a(r,t,n);return this}get(t,r){if(t=ms(t),t){const n=G.findKey(this,t);if(n){const s=this[n];if(!r)return s;if(r===!0)return NC(s);if(G.isFunction(r))return r.call(this,s,n);if(G.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=ms(t),t){const n=G.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||su(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let s=!1;function a(u){if(u=ms(u),u){const l=G.findKey(n,u);l&&(!r||su(n,n[l],l,r))&&(delete n[l],s=!0)}}return G.isArray(t)?t.forEach(a):a(t),s}clear(t){const r=Object.keys(this);let n=r.length,s=!1;for(;n--;){const a=r[n];(!t||su(this,this[a],a,t,!0))&&(delete this[a],s=!0)}return s}normalize(t){const r=this,n={};return G.forEach(this,(s,a)=>{const u=G.findKey(n,a);if(u){r[u]=Ta(s),delete r[a];return}const l=t?BC(a):String(a).trim();l!==a&&delete r[a],r[l]=Ta(s),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return G.forEach(this,(n,s)=>{n!=null&&n!==!1&&(r[s]=t&&G.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(s=>n.set(s)),n}static accessor(t){const n=(this[v_]=this[v_]={accessors:{}}).accessors,s=this.prototype;function a(u){const l=ms(u);n[l]||(zC(s,u),n[l]=!0)}return G.isArray(t)?t.forEach(a):a(t),this}};Ot.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);G.reduceDescriptors(Ot.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});G.freezeMethods(Ot);function ou(e,t){const r=this||wo,n=t||r,s=Ot.from(n.headers);let a=n.data;return G.forEach(e,function(l){a=l.call(r,a,s.normalize(),t?t.status:void 0)}),s.normalize(),a}function i0(e){return!!(e&&e.__CANCEL__)}let So=class extends pe{constructor(t,r,n){super(t??"canceled",pe.ERR_CANCELED,r,n),this.name="CanceledError",this.__CANCEL__=!0}};function n0(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new pe("Request failed with status code "+r.status,[pe.ERR_BAD_REQUEST,pe.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function jC(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function FC(e,t){e=e||10;const r=new Array(e),n=new Array(e);let s=0,a=0,u;return t=t!==void 0?t:1e3,function(c){const p=Date.now(),g=n[a];u||(u=p),r[s]=c,n[s]=p;let m=a,y=0;for(;m!==s;)y+=r[m++],m=m%e;if(s=(s+1)%e,s===a&&(a=(a+1)%e),p-u<t)return;const b=g&&p-g;return b?Math.round(y*1e3/b):void 0}}function HC(e,t){let r=0,n=1e3/t,s,a;const u=(p,g=Date.now())=>{r=g,s=null,a&&(clearTimeout(a),a=null),e(...p)};return[(...p)=>{const g=Date.now(),m=g-r;m>=n?u(p,g):(s=p,a||(a=setTimeout(()=>{a=null,u(s)},n-m)))},()=>s&&u(s)]}const cl=(e,t,r=3)=>{let n=0;const s=FC(50,250);return HC(a=>{const u=a.loaded,l=a.lengthComputable?a.total:void 0,c=u-n,p=s(c),g=u<=l;n=u;const m={loaded:u,total:l,progress:l?u/l:void 0,bytes:c,rate:p||void 0,estimated:p&&l&&g?(l-u)/p:void 0,event:a,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(m)},r)},g_=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},y_=e=>(...t)=>G.asap(()=>e(...t)),UC=pt.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,pt.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(pt.origin),pt.navigator&&/(msie|trident)/i.test(pt.navigator.userAgent)):()=>!0,$C=pt.hasStandardBrowserEnv?{write(e,t,r,n,s,a,u){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(t)}`];G.isNumber(r)&&l.push(`expires=${new Date(r).toUTCString()}`),G.isString(n)&&l.push(`path=${n}`),G.isString(s)&&l.push(`domain=${s}`),a===!0&&l.push("secure"),G.isString(u)&&l.push(`SameSite=${u}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function ZC(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function WC(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function s0(e,t,r){let n=!ZC(t);return e&&(n||r==!1)?WC(e,t):t}const w_=e=>e instanceof Ot?{...e}:e;function Ui(e,t){t=t||{};const r={};function n(p,g,m,y){return G.isPlainObject(p)&&G.isPlainObject(g)?G.merge.call({caseless:y},p,g):G.isPlainObject(g)?G.merge({},g):G.isArray(g)?g.slice():g}function s(p,g,m,y){if(G.isUndefined(g)){if(!G.isUndefined(p))return n(void 0,p,m,y)}else return n(p,g,m,y)}function a(p,g){if(!G.isUndefined(g))return n(void 0,g)}function u(p,g){if(G.isUndefined(g)){if(!G.isUndefined(p))return n(void 0,p)}else return n(void 0,g)}function l(p,g,m){if(m in t)return n(p,g);if(m in e)return n(void 0,p)}const c={url:a,method:a,data:a,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:l,headers:(p,g,m)=>s(w_(p),w_(g),m,!0)};return G.forEach(Object.keys({...e,...t}),function(g){const m=c[g]||s,y=m(e[g],t[g],g);G.isUndefined(y)&&m!==l||(r[g]=y)}),r}const o0=e=>{const t=Ui({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:a,headers:u,auth:l}=t;if(t.headers=u=Ot.from(u),t.url=e0(s0(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&u.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),G.isFormData(r)){if(pt.hasStandardBrowserEnv||pt.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if(G.isFunction(r.getHeaders)){const c=r.getHeaders(),p=["content-type","content-length"];Object.entries(c).forEach(([g,m])=>{p.includes(g.toLowerCase())&&u.set(g,m)})}}if(pt.hasStandardBrowserEnv&&(n&&G.isFunction(n)&&(n=n(t)),n||n!==!1&&UC(t.url))){const c=s&&a&&$C.read(a);c&&u.set(s,c)}return t},VC=typeof XMLHttpRequest<"u",KC=VC&&function(e){return new Promise(function(r,n){const s=o0(e);let a=s.data;const u=Ot.from(s.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:p}=s,g,m,y,b,C;function x(){b&&b(),C&&C(),s.cancelToken&&s.cancelToken.unsubscribe(g),s.signal&&s.signal.removeEventListener("abort",g)}let d=new XMLHttpRequest;d.open(s.method.toUpperCase(),s.url,!0),d.timeout=s.timeout;function _(){if(!d)return;const v=Ot.from("getAllResponseHeaders"in d&&d.getAllResponseHeaders()),E={data:!l||l==="text"||l==="json"?d.responseText:d.response,status:d.status,statusText:d.statusText,headers:v,config:e,request:d};n0(function(D){r(D),x()},function(D){n(D),x()},E),d=null}"onloadend"in d?d.onloadend=_:d.onreadystatechange=function(){!d||d.readyState!==4||d.status===0&&!(d.responseURL&&d.responseURL.indexOf("file:")===0)||setTimeout(_)},d.onabort=function(){d&&(n(new pe("Request aborted",pe.ECONNABORTED,e,d)),d=null)},d.onerror=function(S){const E=S&&S.message?S.message:"Network Error",R=new pe(E,pe.ERR_NETWORK,e,d);R.event=S||null,n(R),d=null},d.ontimeout=function(){let S=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const E=s.transitional||t0;s.timeoutErrorMessage&&(S=s.timeoutErrorMessage),n(new pe(S,E.clarifyTimeoutError?pe.ETIMEDOUT:pe.ECONNABORTED,e,d)),d=null},a===void 0&&u.setContentType(null),"setRequestHeader"in d&&G.forEach(u.toJSON(),function(S,E){d.setRequestHeader(E,S)}),G.isUndefined(s.withCredentials)||(d.withCredentials=!!s.withCredentials),l&&l!=="json"&&(d.responseType=s.responseType),p&&([y,C]=cl(p,!0),d.addEventListener("progress",y)),c&&d.upload&&([m,b]=cl(c),d.upload.addEventListener("progress",m),d.upload.addEventListener("loadend",b)),(s.cancelToken||s.signal)&&(g=v=>{d&&(n(!v||v.type?new So(null,e,d):v),d.abort(),d=null)},s.cancelToken&&s.cancelToken.subscribe(g),s.signal&&(s.signal.aborted?g():s.signal.addEventListener("abort",g)));const f=jC(s.url);if(f&&pt.protocols.indexOf(f)===-1){n(new pe("Unsupported protocol "+f+":",pe.ERR_BAD_REQUEST,e));return}d.send(a||null)})},qC=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,s;const a=function(p){if(!s){s=!0,l();const g=p instanceof Error?p:this.reason;n.abort(g instanceof pe?g:new So(g instanceof Error?g.message:g))}};let u=t&&setTimeout(()=>{u=null,a(new pe(`timeout of ${t}ms exceeded`,pe.ETIMEDOUT))},t);const l=()=>{e&&(u&&clearTimeout(u),u=null,e.forEach(p=>{p.unsubscribe?p.unsubscribe(a):p.removeEventListener("abort",a)}),e=null)};e.forEach(p=>p.addEventListener("abort",a));const{signal:c}=n;return c.unsubscribe=()=>G.asap(l),c}},GC=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,s;for(;n<r;)s=n+t,yield e.slice(n,s),n=s},JC=async function*(e,t){for await(const r of XC(e))yield*GC(r,t)},XC=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},S_=(e,t,r,n)=>{const s=JC(e,t);let a=0,u,l=c=>{u||(u=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:p,value:g}=await s.next();if(p){l(),c.close();return}let m=g.byteLength;if(r){let y=a+=m;r(y)}c.enqueue(new Uint8Array(g))}catch(p){throw l(p),p}},cancel(c){return l(c),s.return()}},{highWaterMark:2})},x_=64*1024,{isFunction:ca}=G,YC=(({Request:e,Response:t})=>({Request:e,Response:t}))(G.global),{ReadableStream:b_,TextEncoder:C_}=G.global,E_=(e,...t)=>{try{return!!e(...t)}catch{return!1}},QC=e=>{e=G.merge.call({skipUndefined:!0},YC,e);const{fetch:t,Request:r,Response:n}=e,s=t?ca(t):typeof fetch=="function",a=ca(r),u=ca(n);if(!s)return!1;const l=s&&ca(b_),c=s&&(typeof C_=="function"?(C=>x=>C.encode(x))(new C_):async C=>new Uint8Array(await new r(C).arrayBuffer())),p=a&&l&&E_(()=>{let C=!1;const x=new r(pt.origin,{body:new b_,method:"POST",get duplex(){return C=!0,"half"}}).headers.has("Content-Type");return C&&!x}),g=u&&l&&E_(()=>G.isReadableStream(new n("").body)),m={stream:g&&(C=>C.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(C=>{!m[C]&&(m[C]=(x,d)=>{let _=x&&x[C];if(_)return _.call(x);throw new pe(`Response type '${C}' is not supported`,pe.ERR_NOT_SUPPORT,d)})});const y=async C=>{if(C==null)return 0;if(G.isBlob(C))return C.size;if(G.isSpecCompliantForm(C))return(await new r(pt.origin,{method:"POST",body:C}).arrayBuffer()).byteLength;if(G.isArrayBufferView(C)||G.isArrayBuffer(C))return C.byteLength;if(G.isURLSearchParams(C)&&(C=C+""),G.isString(C))return(await c(C)).byteLength},b=async(C,x)=>{const d=G.toFiniteNumber(C.getContentLength());return d??y(x)};return async C=>{let{url:x,method:d,data:_,signal:f,cancelToken:v,timeout:S,onDownloadProgress:E,onUploadProgress:R,responseType:D,headers:k,withCredentials:A="same-origin",fetchOptions:B}=o0(C),H=t||fetch;D=D?(D+"").toLowerCase():"text";let j=qC([f,v&&v.toAbortSignal()],S),$=null;const q=j&&j.unsubscribe&&(()=>{j.unsubscribe()});let Q;try{if(R&&p&&d!=="get"&&d!=="head"&&(Q=await b(k,_))!==0){let F=new r(x,{method:"POST",body:_,duplex:"half"}),J;if(G.isFormData(_)&&(J=F.headers.get("content-type"))&&k.setContentType(J),F.body){const[ne,ae]=g_(Q,cl(y_(R)));_=S_(F.body,x_,ne,ae)}}G.isString(A)||(A=A?"include":"omit");const X=a&&"credentials"in r.prototype,ee={...B,signal:j,method:d.toUpperCase(),headers:k.normalize().toJSON(),body:_,duplex:"half",credentials:X?A:void 0};$=a&&new r(x,ee);let O=await(a?H($,B):H(x,ee));const z=g&&(D==="stream"||D==="response");if(g&&(E||z&&q)){const F={};["status","statusText","headers"].forEach(se=>{F[se]=O[se]});const J=G.toFiniteNumber(O.headers.get("content-length")),[ne,ae]=E&&g_(J,cl(y_(E),!0))||[];O=new n(S_(O.body,x_,ne,()=>{ae&&ae(),q&&q()}),F)}D=D||"text";let I=await m[G.findKey(m,D)||"text"](O,C);return!z&&q&&q(),await new Promise((F,J)=>{n0(F,J,{data:I,headers:Ot.from(O.headers),status:O.status,statusText:O.statusText,config:C,request:$})})}catch(X){throw q&&q(),X&&X.name==="TypeError"&&/Load failed|fetch/i.test(X.message)?Object.assign(new pe("Network Error",pe.ERR_NETWORK,C,$),{cause:X.cause||X}):pe.from(X,X&&X.code,C,$)}}},eE=new Map,a0=e=>{let t=e&&e.env||{};const{fetch:r,Request:n,Response:s}=t,a=[n,s,r];let u=a.length,l=u,c,p,g=eE;for(;l--;)c=a[l],p=g.get(c),p===void 0&&g.set(c,p=l?new Map:QC(t)),g=p;return p};a0();const Ed={http:vC,xhr:KC,fetch:{get:a0}};G.forEach(Ed,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const k_=e=>`- ${e}`,tE=e=>G.isFunction(e)||e===null||e===!1;function rE(e,t){e=G.isArray(e)?e:[e];const{length:r}=e;let n,s;const a={};for(let u=0;u<r;u++){n=e[u];let l;if(s=n,!tE(n)&&(s=Ed[(l=String(n)).toLowerCase()],s===void 0))throw new pe(`Unknown adapter '${l}'`);if(s&&(G.isFunction(s)||(s=s.get(t))))break;a[l||"#"+u]=s}if(!s){const u=Object.entries(a).map(([c,p])=>`adapter ${c} `+(p===!1?"is not supported by the environment":"is not available in the build"));let l=r?u.length>1?`since :
`+u.map(k_).join(`
`):" "+k_(u[0]):"as no adapter specified";throw new pe("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return s}const l0={getAdapter:rE,adapters:Ed};function au(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new So(null,e)}function L_(e){return au(e),e.headers=Ot.from(e.headers),e.data=ou.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),l0.getAdapter(e.adapter||wo.adapter,e)(e).then(function(n){return au(e),n.data=ou.call(e,e.transformResponse,n),n.headers=Ot.from(n.headers),n},function(n){return i0(n)||(au(e),n&&n.response&&(n.response.data=ou.call(e,e.transformResponse,n.response),n.response.headers=Ot.from(n.response.headers))),Promise.reject(n)})}const c0="1.13.4",Wl={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Wl[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const P_={};Wl.transitional=function(t,r,n){function s(a,u){return"[Axios v"+c0+"] Transitional option '"+a+"'"+u+(n?". "+n:"")}return(a,u,l)=>{if(t===!1)throw new pe(s(u," has been removed"+(r?" in "+r:"")),pe.ERR_DEPRECATED);return r&&!P_[u]&&(P_[u]=!0,console.warn(s(u," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(a,u,l):!0}};Wl.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function iE(e,t,r){if(typeof e!="object")throw new pe("options must be an object",pe.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let s=n.length;for(;s-- >0;){const a=n[s],u=t[a];if(u){const l=e[a],c=l===void 0||u(l,a,e);if(c!==!0)throw new pe("option "+a+" must be "+c,pe.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new pe("Unknown option "+a,pe.ERR_BAD_OPTION)}}const Ra={assertOptions:iE,validators:Wl},mr=Ra.validators;let Ni=class{constructor(t){this.defaults=t||{},this.interceptors={request:new m_,response:new m_}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const a=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?a&&!String(n.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+a):n.stack=a}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Ui(this.defaults,r);const{transitional:n,paramsSerializer:s,headers:a}=r;n!==void 0&&Ra.assertOptions(n,{silentJSONParsing:mr.transitional(mr.boolean),forcedJSONParsing:mr.transitional(mr.boolean),clarifyTimeoutError:mr.transitional(mr.boolean)},!1),s!=null&&(G.isFunction(s)?r.paramsSerializer={serialize:s}:Ra.assertOptions(s,{encode:mr.function,serialize:mr.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Ra.assertOptions(r,{baseUrl:mr.spelling("baseURL"),withXsrfToken:mr.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let u=a&&G.merge(a.common,a[r.method]);a&&G.forEach(["delete","get","head","post","put","patch","common"],C=>{delete a[C]}),r.headers=Ot.concat(u,a);const l=[];let c=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(r)===!1||(c=c&&x.synchronous,l.unshift(x.fulfilled,x.rejected))});const p=[];this.interceptors.response.forEach(function(x){p.push(x.fulfilled,x.rejected)});let g,m=0,y;if(!c){const C=[L_.bind(this),void 0];for(C.unshift(...l),C.push(...p),y=C.length,g=Promise.resolve(r);m<y;)g=g.then(C[m++],C[m++]);return g}y=l.length;let b=r;for(;m<y;){const C=l[m++],x=l[m++];try{b=C(b)}catch(d){x.call(this,d);break}}try{g=L_.call(this,b)}catch(C){return Promise.reject(C)}for(m=0,y=p.length;m<y;)g=g.then(p[m++],p[m++]);return g}getUri(t){t=Ui(this.defaults,t);const r=s0(t.baseURL,t.url,t.allowAbsoluteUrls);return e0(r,t.params,t.paramsSerializer)}};G.forEach(["delete","get","head","options"],function(t){Ni.prototype[t]=function(r,n){return this.request(Ui(n||{},{method:t,url:r,data:(n||{}).data}))}});G.forEach(["post","put","patch"],function(t){function r(n){return function(a,u,l){return this.request(Ui(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:u}))}}Ni.prototype[t]=r(),Ni.prototype[t+"Form"]=r(!0)});let nE=class u0{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});const n=this;this.promise.then(s=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](s);n._listeners=null}),this.promise.then=s=>{let a;const u=new Promise(l=>{n.subscribe(l),a=l}).then(s);return u.cancel=function(){n.unsubscribe(a)},u},t(function(a,u,l){n.reason||(n.reason=new So(a,u,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new u0(function(s){t=s}),cancel:t}}};function sE(e){return function(r){return e.apply(null,r)}}function oE(e){return G.isObject(e)&&e.isAxiosError===!0}const ph={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(ph).forEach(([e,t])=>{ph[t]=e});function h0(e){const t=new Ni(e),r=$g(Ni.prototype.request,t);return G.extend(r,Ni.prototype,t,{allOwnKeys:!0}),G.extend(r,t,null,{allOwnKeys:!0}),r.create=function(s){return h0(Ui(e,s))},r}const xe=h0(wo);xe.Axios=Ni;xe.CanceledError=So;xe.CancelToken=nE;xe.isCancel=i0;xe.VERSION=c0;xe.toFormData=Zl;xe.AxiosError=pe;xe.Cancel=xe.CanceledError;xe.all=function(t){return Promise.all(t)};xe.spread=sE;xe.isAxiosError=oE;xe.mergeConfig=Ui;xe.AxiosHeaders=Ot;xe.formToJSON=e=>r0(G.isHTMLForm(e)?new FormData(e):e);xe.getAdapter=l0.getAdapter;xe.HttpStatusCode=ph;xe.default=xe;const{Axios:QR,AxiosError:eO,CanceledError:tO,isCancel:rO,CancelToken:iO,VERSION:nO,all:sO,Cancel:oO,isAxiosError:aO,spread:lO,toFormData:cO,AxiosHeaders:uO,HttpStatusCode:hO,formToJSON:dO,getAdapter:fO,mergeConfig:pO}=xe,Es=Fg("nodes/fetch",async()=>(await xe.get("/api/nodes")).data),d0=Fg("nodes/deploy",async e=>(await xe.post("/api/nodes",e)).data),f0=Hg({name:"nodes",initialState:{list:[],loading:!1},reducers:{simulateTraffic:e=>{e.list=e.list.map(t=>{if(t.status==="Active"){const r=parseInt(t.utilization||t.util||"0"),n=Math.floor(Math.random()*7)-3,s=Math.min(Math.max(r+n,5),98);return{...t,utilization:`${s}%`,util:`${s}%`}}return t})}},extraReducers:e=>{e.addCase(Es.fulfilled,(t,r)=>{t.list=r.payload,t.loading=!1}).addCase(d0.fulfilled,(t,r)=>{t.list.push(r.payload)})}}),{simulateTraffic:aE}=f0.actions,lE=f0.reducer,cE=cb({reducer:{auth:Ob,nodes:lE}});/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function no(){return no=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},no.apply(this,arguments)}var ei;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ei||(ei={}));const T_="popstate";function uE(e){e===void 0&&(e={});function t(n,s){let{pathname:a,search:u,hash:l}=n.location;return _h("",{pathname:a,search:u,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:ul(s)}return dE(t,r,null,e)}function We(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function kd(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function hE(){return Math.random().toString(36).substr(2,8)}function R_(e,t){return{usr:e.state,key:e.key,idx:t}}function _h(e,t,r,n){return r===void 0&&(r=null),no({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Zn(t):t,{state:r,key:t&&t.key||n||hE()})}function ul(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Zn(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function dE(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:a=!1}=n,u=s.history,l=ei.Pop,c=null,p=g();p==null&&(p=0,u.replaceState(no({},u.state,{idx:p}),""));function g(){return(u.state||{idx:null}).idx}function m(){l=ei.Pop;let d=g(),_=d==null?null:d-p;p=d,c&&c({action:l,location:x.location,delta:_})}function y(d,_){l=ei.Push;let f=_h(x.location,d,_);p=g()+1;let v=R_(f,p),S=x.createHref(f);try{u.pushState(v,"",S)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;s.location.assign(S)}a&&c&&c({action:l,location:x.location,delta:1})}function b(d,_){l=ei.Replace;let f=_h(x.location,d,_);p=g();let v=R_(f,p),S=x.createHref(f);u.replaceState(v,"",S),a&&c&&c({action:l,location:x.location,delta:0})}function C(d){let _=s.location.origin!=="null"?s.location.origin:s.location.href,f=typeof d=="string"?d:ul(d);return f=f.replace(/ $/,"%20"),We(_,"No window.location.(origin|href) available to create URL for href: "+f),new URL(f,_)}let x={get action(){return l},get location(){return e(s,u)},listen(d){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(T_,m),c=d,()=>{s.removeEventListener(T_,m),c=null}},createHref(d){return t(s,d)},createURL:C,encodeLocation(d){let _=C(d);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:y,replace:b,go(d){return u.go(d)}};return x}var O_;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(O_||(O_={}));function fE(e,t,r){return r===void 0&&(r="/"),pE(e,t,r)}function pE(e,t,r,n){let s=typeof t=="string"?Zn(t):t,a=Ld(s.pathname||"/",r);if(a==null)return null;let u=p0(e);_E(u);let l=null;for(let c=0;l==null&&c<u.length;++c){let p=LE(a);l=CE(u[c],p)}return l}function p0(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(a,u,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};c.relativePath.startsWith("/")&&(We(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let p=ci([n,c.relativePath]),g=r.concat(c);a.children&&a.children.length>0&&(We(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),p0(a.children,t,g,p)),!(a.path==null&&!a.index)&&t.push({path:p,score:xE(p,a.index),routesMeta:g})};return e.forEach((a,u)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))s(a,u);else for(let c of _0(a.path))s(a,u,c)}),t}function _0(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return s?[a,""]:[a];let u=_0(n.join("/")),l=[];return l.push(...u.map(c=>c===""?a:[a,c].join("/"))),s&&l.push(...u),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function _E(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:bE(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const mE=/^:[\w-]+$/,vE=3,gE=2,yE=1,wE=10,SE=-2,A_=e=>e==="*";function xE(e,t){let r=e.split("/"),n=r.length;return r.some(A_)&&(n+=SE),t&&(n+=gE),r.filter(s=>!A_(s)).reduce((s,a)=>s+(mE.test(a)?vE:a===""?yE:wE),n)}function bE(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function CE(e,t,r){let{routesMeta:n}=e,s={},a="/",u=[];for(let l=0;l<n.length;++l){let c=n[l],p=l===n.length-1,g=a==="/"?t:t.slice(a.length)||"/",m=EE({path:c.relativePath,caseSensitive:c.caseSensitive,end:p},g),y=c.route;if(!m)return null;Object.assign(s,m.params),u.push({params:s,pathname:ci([a,m.pathname]),pathnameBase:AE(ci([a,m.pathnameBase])),route:y}),m.pathnameBase!=="/"&&(a=ci([a,m.pathnameBase]))}return u}function EE(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=kE(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let a=s[0],u=a.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((p,g,m)=>{let{paramName:y,isOptional:b}=g;if(y==="*"){let x=l[m]||"";u=a.slice(0,a.length-x.length).replace(/(.)\/+$/,"$1")}const C=l[m];return b&&!C?p[y]=void 0:p[y]=(C||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:u,pattern:e}}function kE(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),kd(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function LE(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return kd(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Ld(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const PE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,TE=e=>PE.test(e);function RE(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Zn(e):e,a;if(r)if(TE(r))a=r;else{if(r.includes("//")){let u=r;r=r.replace(/\/\/+/g,"/"),kd(!1,"Pathnames cannot have embedded double slashes - normalizing "+(u+" -> "+r))}r.startsWith("/")?a=D_(r.substring(1),"/"):a=D_(r,t)}else a=t;return{pathname:a,search:DE(n),hash:ME(s)}}function D_(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function lu(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function OE(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Pd(e,t){let r=OE(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Td(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=Zn(e):(s=no({},e),We(!s.pathname||!s.pathname.includes("?"),lu("?","pathname","search",s)),We(!s.pathname||!s.pathname.includes("#"),lu("#","pathname","hash",s)),We(!s.search||!s.search.includes("#"),lu("#","search","hash",s)));let a=e===""||s.pathname==="",u=a?"/":s.pathname,l;if(u==null)l=r;else{let m=t.length-1;if(!n&&u.startsWith("..")){let y=u.split("/");for(;y[0]==="..";)y.shift(),m-=1;s.pathname=y.join("/")}l=m>=0?t[m]:"/"}let c=RE(s,l),p=u&&u!=="/"&&u.endsWith("/"),g=(a||u===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(p||g)&&(c.pathname+="/"),c}const ci=e=>e.join("/").replace(/\/\/+/g,"/"),AE=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),DE=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,ME=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function NE(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const m0=["post","put","patch","delete"];new Set(m0);const IE=["get",...m0];new Set(IE);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function so(){return so=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},so.apply(this,arguments)}const Rd=V.createContext(null),BE=V.createContext(null),mi=V.createContext(null),Vl=V.createContext(null),$r=V.createContext({outlet:null,matches:[],isDataRoute:!1}),v0=V.createContext(null);function zE(e,t){let{relative:r}=t===void 0?{}:t;Wn()||We(!1);let{basename:n,navigator:s}=V.useContext(mi),{hash:a,pathname:u,search:l}=w0(e,{relative:r}),c=u;return n!=="/"&&(c=u==="/"?n:ci([n,u])),s.createHref({pathname:c,search:l,hash:a})}function Wn(){return V.useContext(Vl)!=null}function xo(){return Wn()||We(!1),V.useContext(Vl).location}function g0(e){V.useContext(mi).static||V.useLayoutEffect(e)}function Ki(){let{isDataRoute:e}=V.useContext($r);return e?XE():jE()}function jE(){Wn()||We(!1);let e=V.useContext(Rd),{basename:t,future:r,navigator:n}=V.useContext(mi),{matches:s}=V.useContext($r),{pathname:a}=xo(),u=JSON.stringify(Pd(s,r.v7_relativeSplatPath)),l=V.useRef(!1);return g0(()=>{l.current=!0}),V.useCallback(function(p,g){if(g===void 0&&(g={}),!l.current)return;if(typeof p=="number"){n.go(p);return}let m=Td(p,JSON.parse(u),a,g.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:ci([t,m.pathname])),(g.replace?n.replace:n.push)(m,g.state,g)},[t,n,u,a,e])}function y0(){let{matches:e}=V.useContext($r),t=e[e.length-1];return t?t.params:{}}function w0(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=V.useContext(mi),{matches:s}=V.useContext($r),{pathname:a}=xo(),u=JSON.stringify(Pd(s,n.v7_relativeSplatPath));return V.useMemo(()=>Td(e,JSON.parse(u),a,r==="path"),[e,u,a,r])}function FE(e,t){return HE(e,t)}function HE(e,t,r,n){Wn()||We(!1);let{navigator:s}=V.useContext(mi),{matches:a}=V.useContext($r),u=a[a.length-1],l=u?u.params:{};u&&u.pathname;let c=u?u.pathnameBase:"/";u&&u.route;let p=xo(),g;if(t){var m;let d=typeof t=="string"?Zn(t):t;c==="/"||(m=d.pathname)!=null&&m.startsWith(c)||We(!1),g=d}else g=p;let y=g.pathname||"/",b=y;if(c!=="/"){let d=c.replace(/^\//,"").split("/");b="/"+y.replace(/^\//,"").split("/").slice(d.length).join("/")}let C=fE(e,{pathname:b}),x=VE(C&&C.map(d=>Object.assign({},d,{params:Object.assign({},l,d.params),pathname:ci([c,s.encodeLocation?s.encodeLocation(d.pathname).pathname:d.pathname]),pathnameBase:d.pathnameBase==="/"?c:ci([c,s.encodeLocation?s.encodeLocation(d.pathnameBase).pathname:d.pathnameBase])})),a,r,n);return t&&x?V.createElement(Vl.Provider,{value:{location:so({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:ei.Pop}},x):x}function UE(){let e=JE(),t=NE(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},t),r?V.createElement("pre",{style:s},r):null,null)}const $E=V.createElement(UE,null);class ZE extends V.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?V.createElement($r.Provider,{value:this.props.routeContext},V.createElement(v0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function WE(e){let{routeContext:t,match:r,children:n}=e,s=V.useContext(Rd);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),V.createElement($r.Provider,{value:t},n)}function VE(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let u=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let g=u.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);g>=0||We(!1),u=u.slice(0,Math.min(u.length,g+1))}let c=!1,p=-1;if(r&&n&&n.v7_partialHydration)for(let g=0;g<u.length;g++){let m=u[g];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(p=g),m.route.id){let{loaderData:y,errors:b}=r,C=m.route.loader&&y[m.route.id]===void 0&&(!b||b[m.route.id]===void 0);if(m.route.lazy||C){c=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((g,m,y)=>{let b,C=!1,x=null,d=null;r&&(b=l&&m.route.id?l[m.route.id]:void 0,x=m.route.errorElement||$E,c&&(p<0&&y===0?(YE("route-fallback"),C=!0,d=null):p===y&&(C=!0,d=m.route.hydrateFallbackElement||null)));let _=t.concat(u.slice(0,y+1)),f=()=>{let v;return b?v=x:C?v=d:m.route.Component?v=V.createElement(m.route.Component,null):m.route.element?v=m.route.element:v=g,V.createElement(WE,{match:m,routeContext:{outlet:g,matches:_,isDataRoute:r!=null},children:v})};return r&&(m.route.ErrorBoundary||m.route.errorElement||y===0)?V.createElement(ZE,{location:r.location,revalidation:r.revalidation,component:x,error:b,children:f(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):f()},null)}var S0=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(S0||{}),x0=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(x0||{});function KE(e){let t=V.useContext(Rd);return t||We(!1),t}function qE(e){let t=V.useContext(BE);return t||We(!1),t}function GE(e){let t=V.useContext($r);return t||We(!1),t}function b0(e){let t=GE(),r=t.matches[t.matches.length-1];return r.route.id||We(!1),r.route.id}function JE(){var e;let t=V.useContext(v0),r=qE(),n=b0();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function XE(){let{router:e}=KE(S0.UseNavigateStable),t=b0(x0.UseNavigateStable),r=V.useRef(!1);return g0(()=>{r.current=!0}),V.useCallback(function(s,a){a===void 0&&(a={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,so({fromRouteId:t},a)))},[e,t])}const M_={};function YE(e,t,r){M_[e]||(M_[e]=!0)}function QE(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Tn(e){let{to:t,replace:r,state:n,relative:s}=e;Wn()||We(!1);let{future:a,static:u}=V.useContext(mi),{matches:l}=V.useContext($r),{pathname:c}=xo(),p=Ki(),g=Td(t,Pd(l,a.v7_relativeSplatPath),c,s==="path"),m=JSON.stringify(g);return V.useEffect(()=>p(JSON.parse(m),{replace:r,state:n,relative:s}),[p,m,s,r,n]),null}function Pr(e){We(!1)}function ek(e){let{basename:t="/",children:r=null,location:n,navigationType:s=ei.Pop,navigator:a,static:u=!1,future:l}=e;Wn()&&We(!1);let c=t.replace(/^\/*/,"/"),p=V.useMemo(()=>({basename:c,navigator:a,static:u,future:so({v7_relativeSplatPath:!1},l)}),[c,l,a,u]);typeof n=="string"&&(n=Zn(n));let{pathname:g="/",search:m="",hash:y="",state:b=null,key:C="default"}=n,x=V.useMemo(()=>{let d=Ld(g,c);return d==null?null:{location:{pathname:d,search:m,hash:y,state:b,key:C},navigationType:s}},[c,g,m,y,b,C,s]);return x==null?null:V.createElement(mi.Provider,{value:p},V.createElement(Vl.Provider,{children:r,value:x}))}function tk(e){let{children:t,location:r}=e;return FE(mh(t),r)}new Promise(()=>{});function mh(e,t){t===void 0&&(t=[]);let r=[];return V.Children.forEach(e,(n,s)=>{if(!V.isValidElement(n))return;let a=[...t,s];if(n.type===V.Fragment){r.push.apply(r,mh(n.props.children,a));return}n.type!==Pr&&We(!1),!n.props.index||!n.props.children||We(!1);let u={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(u.children=mh(n.props.children,a)),r.push(u)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vh(){return vh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vh.apply(this,arguments)}function rk(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,a;for(a=0;a<n.length;a++)s=n[a],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function ik(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function nk(e,t){return e.button===0&&(!t||t==="_self")&&!ik(e)}const sk=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],ok="6";try{window.__reactRouterVersion=ok}catch{}const ak="startTransition",N_=Yw[ak];function lk(e){let{basename:t,children:r,future:n,window:s}=e,a=V.useRef();a.current==null&&(a.current=uE({window:s,v5Compat:!0}));let u=a.current,[l,c]=V.useState({action:u.action,location:u.location}),{v7_startTransition:p}=n||{},g=V.useCallback(m=>{p&&N_?N_(()=>c(m)):c(m)},[c,p]);return V.useLayoutEffect(()=>u.listen(g),[u,g]),V.useEffect(()=>QE(n),[n]),V.createElement(ek,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:u,future:n})}const ck=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",uk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Sn=V.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:a,replace:u,state:l,target:c,to:p,preventScrollReset:g,viewTransition:m}=t,y=rk(t,sk),{basename:b}=V.useContext(mi),C,x=!1;if(typeof p=="string"&&uk.test(p)&&(C=p,ck))try{let v=new URL(window.location.href),S=p.startsWith("//")?new URL(v.protocol+p):new URL(p),E=Ld(S.pathname,b);S.origin===v.origin&&E!=null?p=E+S.search+S.hash:x=!0}catch{}let d=zE(p,{relative:s}),_=hk(p,{replace:u,state:l,target:c,preventScrollReset:g,relative:s,viewTransition:m});function f(v){n&&n(v),v.defaultPrevented||_(v)}return V.createElement("a",vh({},y,{href:C||d,onClick:x||a?n:f,ref:r,target:c}))});var I_;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(I_||(I_={}));var B_;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(B_||(B_={}));function hk(e,t){let{target:r,replace:n,state:s,preventScrollReset:a,relative:u,viewTransition:l}=t===void 0?{}:t,c=Ki(),p=xo(),g=w0(e,{relative:u});return V.useCallback(m=>{if(nk(m,r)){m.preventDefault();let y=n!==void 0?n:ul(p)===ul(g);c(e,{replace:y,state:s,preventScrollReset:a,relative:u,viewTransition:l})}},[p,c,g,n,s,r,e,a,u,l])}const dk=({onSubmit:e})=>{const[t,r]=V.useState(""),[n,s]=V.useState(""),a=l=>{l.preventDefault(),e({email:t,password:n})},u="w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all duration-200";return T.jsxs("form",{onSubmit:a,className:"space-y-5",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1.5 ml-1",children:"Email Address"}),T.jsx("input",{type:"email",placeholder:"name@company.com",className:u,value:t,onChange:l=>r(l.target.value),required:!0})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1.5 ml-1",children:"Password"}),T.jsx("input",{type:"password",placeholder:"",className:u,value:n,onChange:l=>s(l.target.value),required:!0})]}),T.jsx("button",{type:"submit",className:"w-full py-3 px-4 bg-blue-600 hover:bg-blue-500 text-white font-bold rounded-xl shadow-lg shadow-blue-500/30 transform transition-all active:scale-[0.98]",children:"Sign In"})]})};function re(e,t,r){function n(l,c){if(l._zod||Object.defineProperty(l,"_zod",{value:{def:c,constr:u,traits:new Set},enumerable:!1}),l._zod.traits.has(e))return;l._zod.traits.add(e),t(l,c);const p=u.prototype,g=Object.keys(p);for(let m=0;m<g.length;m++){const y=g[m];y in l||(l[y]=p[y].bind(l))}}const s=(r==null?void 0:r.Parent)??Object;class a extends s{}Object.defineProperty(a,"name",{value:e});function u(l){var c;const p=r!=null&&r.Parent?new a:this;n(p,l),(c=p._zod).deferred??(c.deferred=[]);for(const g of p._zod.deferred)g();return p}return Object.defineProperty(u,"init",{value:n}),Object.defineProperty(u,Symbol.hasInstance,{value:l=>{var c,p;return r!=null&&r.Parent&&l instanceof r.Parent?!0:(p=(c=l==null?void 0:l._zod)==null?void 0:c.traits)==null?void 0:p.has(e)}}),Object.defineProperty(u,"name",{value:e}),u}class Rn extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class C0 extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const E0={};function $i(e){return E0}function k0(e){const t=Object.values(e).filter(n=>typeof n=="number");return Object.entries(e).filter(([n,s])=>t.indexOf(+n)===-1).map(([n,s])=>s)}function gh(e,t){return typeof t=="bigint"?t.toString():t}function Od(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function Ad(e){return e==null}function Dd(e){const t=e.startsWith("^")?1:0,r=e.endsWith("$")?e.length-1:e.length;return e.slice(t,r)}const z_=Symbol("evaluating");function Le(e,t,r){let n;Object.defineProperty(e,t,{get(){if(n!==z_)return n===void 0&&(n=z_,n=r()),n},set(s){Object.defineProperty(e,t,{value:s})},configurable:!0})}function qi(e,t,r){Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0})}function vi(...e){const t={};for(const r of e){const n=Object.getOwnPropertyDescriptors(r);Object.assign(t,n)}return Object.defineProperties({},t)}function j_(e){return JSON.stringify(e)}function fk(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const L0="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function hl(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const pk=Od(()=>{var e;if(typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)!=null&&e.includes("Cloudflare")))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function oo(e){if(hl(e)===!1)return!1;const t=e.constructor;if(t===void 0||typeof t!="function")return!0;const r=t.prototype;return!(hl(r)===!1||Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")===!1)}function P0(e){return oo(e)?{...e}:Array.isArray(e)?[...e]:e}const _k=new Set(["string","number","symbol"]);function Kl(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function gi(e,t,r){const n=new e._zod.constr(t??e._zod.def);return(!t||r!=null&&r.parent)&&(n._zod.parent=e),n}function _e(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if((t==null?void 0:t.message)!==void 0){if((t==null?void 0:t.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function mk(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}function vk(e,t){const r=e._zod.def,n=r.checks;if(n&&n.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const a=vi(e._zod.def,{get shape(){const u={};for(const l in t){if(!(l in r.shape))throw new Error(`Unrecognized key: "${l}"`);t[l]&&(u[l]=r.shape[l])}return qi(this,"shape",u),u},checks:[]});return gi(e,a)}function gk(e,t){const r=e._zod.def,n=r.checks;if(n&&n.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const a=vi(e._zod.def,{get shape(){const u={...e._zod.def.shape};for(const l in t){if(!(l in r.shape))throw new Error(`Unrecognized key: "${l}"`);t[l]&&delete u[l]}return qi(this,"shape",u),u},checks:[]});return gi(e,a)}function yk(e,t){if(!oo(t))throw new Error("Invalid input to extend: expected a plain object");const r=e._zod.def.checks;if(r&&r.length>0){const a=e._zod.def.shape;for(const u in t)if(Object.getOwnPropertyDescriptor(a,u)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const s=vi(e._zod.def,{get shape(){const a={...e._zod.def.shape,...t};return qi(this,"shape",a),a}});return gi(e,s)}function wk(e,t){if(!oo(t))throw new Error("Invalid input to safeExtend: expected a plain object");const r=vi(e._zod.def,{get shape(){const n={...e._zod.def.shape,...t};return qi(this,"shape",n),n}});return gi(e,r)}function Sk(e,t){const r=vi(e._zod.def,{get shape(){const n={...e._zod.def.shape,...t._zod.def.shape};return qi(this,"shape",n),n},get catchall(){return t._zod.def.catchall},checks:[]});return gi(e,r)}function xk(e,t,r){const s=t._zod.def.checks;if(s&&s.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const u=vi(t._zod.def,{get shape(){const l=t._zod.def.shape,c={...l};if(r)for(const p in r){if(!(p in l))throw new Error(`Unrecognized key: "${p}"`);r[p]&&(c[p]=e?new e({type:"optional",innerType:l[p]}):l[p])}else for(const p in l)c[p]=e?new e({type:"optional",innerType:l[p]}):l[p];return qi(this,"shape",c),c},checks:[]});return gi(t,u)}function bk(e,t,r){const n=vi(t._zod.def,{get shape(){const s=t._zod.def.shape,a={...s};if(r)for(const u in r){if(!(u in a))throw new Error(`Unrecognized key: "${u}"`);r[u]&&(a[u]=new e({type:"nonoptional",innerType:s[u]}))}else for(const u in s)a[u]=new e({type:"nonoptional",innerType:s[u]});return qi(this,"shape",a),a}});return gi(t,n)}function xn(e,t=0){var r;if(e.aborted===!0)return!0;for(let n=t;n<e.issues.length;n++)if(((r=e.issues[n])==null?void 0:r.continue)!==!0)return!0;return!1}function T0(e,t){return t.map(r=>{var n;return(n=r).path??(n.path=[]),r.path.unshift(e),r})}function ua(e){return typeof e=="string"?e:e==null?void 0:e.message}function Zi(e,t,r){var s,a,u,l,c,p;const n={...e,path:e.path??[]};if(!e.message){const g=ua((u=(a=(s=e.inst)==null?void 0:s._zod.def)==null?void 0:a.error)==null?void 0:u.call(a,e))??ua((l=t==null?void 0:t.error)==null?void 0:l.call(t,e))??ua((c=r.customError)==null?void 0:c.call(r,e))??ua((p=r.localeError)==null?void 0:p.call(r,e))??"Invalid input";n.message=g}return delete n.inst,delete n.continue,t!=null&&t.reportInput||delete n.input,n}function Md(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function ao(...e){const[t,r,n]=e;return typeof t=="string"?{message:t,code:"custom",input:r,inst:n}:{...t}}const R0=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,gh,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},O0=re("$ZodError",R0),A0=re("$ZodError",R0,{Parent:Error});function Ck(e,t=r=>r.message){const r={},n=[];for(const s of e.issues)s.path.length>0?(r[s.path[0]]=r[s.path[0]]||[],r[s.path[0]].push(t(s))):n.push(t(s));return{formErrors:n,fieldErrors:r}}function Ek(e,t=r=>r.message){const r={_errors:[]},n=s=>{for(const a of s.issues)if(a.code==="invalid_union"&&a.errors.length)a.errors.map(u=>n({issues:u}));else if(a.code==="invalid_key")n({issues:a.issues});else if(a.code==="invalid_element")n({issues:a.issues});else if(a.path.length===0)r._errors.push(t(a));else{let u=r,l=0;for(;l<a.path.length;){const c=a.path[l];l===a.path.length-1?(u[c]=u[c]||{_errors:[]},u[c]._errors.push(t(a))):u[c]=u[c]||{_errors:[]},u=u[c],l++}}};return n(e),r}const Nd=e=>(t,r,n,s)=>{const a=n?Object.assign(n,{async:!1}):{async:!1},u=t._zod.run({value:r,issues:[]},a);if(u instanceof Promise)throw new Rn;if(u.issues.length){const l=new((s==null?void 0:s.Err)??e)(u.issues.map(c=>Zi(c,a,$i())));throw L0(l,s==null?void 0:s.callee),l}return u.value},Id=e=>async(t,r,n,s)=>{const a=n?Object.assign(n,{async:!0}):{async:!0};let u=t._zod.run({value:r,issues:[]},a);if(u instanceof Promise&&(u=await u),u.issues.length){const l=new((s==null?void 0:s.Err)??e)(u.issues.map(c=>Zi(c,a,$i())));throw L0(l,s==null?void 0:s.callee),l}return u.value},ql=e=>(t,r,n)=>{const s=n?{...n,async:!1}:{async:!1},a=t._zod.run({value:r,issues:[]},s);if(a instanceof Promise)throw new Rn;return a.issues.length?{success:!1,error:new(e??O0)(a.issues.map(u=>Zi(u,s,$i())))}:{success:!0,data:a.value}},kk=ql(A0),Gl=e=>async(t,r,n)=>{const s=n?Object.assign(n,{async:!0}):{async:!0};let a=t._zod.run({value:r,issues:[]},s);return a instanceof Promise&&(a=await a),a.issues.length?{success:!1,error:new e(a.issues.map(u=>Zi(u,s,$i())))}:{success:!0,data:a.value}},Lk=Gl(A0),Pk=e=>(t,r,n)=>{const s=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return Nd(e)(t,r,s)},Tk=e=>(t,r,n)=>Nd(e)(t,r,n),Rk=e=>async(t,r,n)=>{const s=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return Id(e)(t,r,s)},Ok=e=>async(t,r,n)=>Id(e)(t,r,n),Ak=e=>(t,r,n)=>{const s=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return ql(e)(t,r,s)},Dk=e=>(t,r,n)=>ql(e)(t,r,n),Mk=e=>async(t,r,n)=>{const s=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return Gl(e)(t,r,s)},Nk=e=>async(t,r,n)=>Gl(e)(t,r,n),Ik=/^[cC][^\s-]{8,}$/,Bk=/^[0-9a-z]+$/,zk=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,jk=/^[0-9a-vA-V]{20}$/,Fk=/^[A-Za-z0-9]{27}$/,Hk=/^[a-zA-Z0-9_-]{21}$/,Uk=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,$k=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,F_=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,Zk=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,Wk="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function Vk(){return new RegExp(Wk,"u")}const Kk=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,qk=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,Gk=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,Jk=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Xk=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,D0=/^[A-Za-z0-9_-]*$/,Yk=/^\+[1-9]\d{6,14}$/,M0="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",Qk=new RegExp(`^${M0}$`);function N0(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function e2(e){return new RegExp(`^${N0(e)}$`)}function t2(e){const t=N0({precision:e.precision}),r=["Z"];e.local&&r.push(""),e.offset&&r.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const n=`${t}(?:${r.join("|")})`;return new RegExp(`^${M0}T(?:${n})$`)}const r2=e=>{const t=e?`[\\s\\S]{${(e==null?void 0:e.minimum)??0},${(e==null?void 0:e.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},i2=/^[^A-Z]*$/,n2=/^[^a-z]*$/,Sr=re("$ZodCheck",(e,t)=>{var r;e._zod??(e._zod={}),e._zod.def=t,(r=e._zod).onattach??(r.onattach=[])}),s2=re("$ZodCheckMaxLength",(e,t)=>{var r;Sr.init(e,t),(r=e._zod.def).when??(r.when=n=>{const s=n.value;return!Ad(s)&&s.length!==void 0}),e._zod.onattach.push(n=>{const s=n._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<s&&(n._zod.bag.maximum=t.maximum)}),e._zod.check=n=>{const s=n.value;if(s.length<=t.maximum)return;const u=Md(s);n.issues.push({origin:u,code:"too_big",maximum:t.maximum,inclusive:!0,input:s,inst:e,continue:!t.abort})}}),o2=re("$ZodCheckMinLength",(e,t)=>{var r;Sr.init(e,t),(r=e._zod.def).when??(r.when=n=>{const s=n.value;return!Ad(s)&&s.length!==void 0}),e._zod.onattach.push(n=>{const s=n._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>s&&(n._zod.bag.minimum=t.minimum)}),e._zod.check=n=>{const s=n.value;if(s.length>=t.minimum)return;const u=Md(s);n.issues.push({origin:u,code:"too_small",minimum:t.minimum,inclusive:!0,input:s,inst:e,continue:!t.abort})}}),a2=re("$ZodCheckLengthEquals",(e,t)=>{var r;Sr.init(e,t),(r=e._zod.def).when??(r.when=n=>{const s=n.value;return!Ad(s)&&s.length!==void 0}),e._zod.onattach.push(n=>{const s=n._zod.bag;s.minimum=t.length,s.maximum=t.length,s.length=t.length}),e._zod.check=n=>{const s=n.value,a=s.length;if(a===t.length)return;const u=Md(s),l=a>t.length;n.issues.push({origin:u,...l?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:n.value,inst:e,continue:!t.abort})}}),Jl=re("$ZodCheckStringFormat",(e,t)=>{var r,n;Sr.init(e,t),e._zod.onattach.push(s=>{const a=s._zod.bag;a.format=t.format,t.pattern&&(a.patterns??(a.patterns=new Set),a.patterns.add(t.pattern))}),t.pattern?(r=e._zod).check??(r.check=s=>{t.pattern.lastIndex=0,!t.pattern.test(s.value)&&s.issues.push({origin:"string",code:"invalid_format",format:t.format,input:s.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(n=e._zod).check??(n.check=()=>{})}),l2=re("$ZodCheckRegex",(e,t)=>{Jl.init(e,t),e._zod.check=r=>{t.pattern.lastIndex=0,!t.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),c2=re("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=i2),Jl.init(e,t)}),u2=re("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=n2),Jl.init(e,t)}),h2=re("$ZodCheckIncludes",(e,t)=>{Sr.init(e,t);const r=Kl(t.includes),n=new RegExp(typeof t.position=="number"?`^.{${t.position}}${r}`:r);t.pattern=n,e._zod.onattach.push(s=>{const a=s._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(n)}),e._zod.check=s=>{s.value.includes(t.includes,t.position)||s.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:s.value,inst:e,continue:!t.abort})}}),d2=re("$ZodCheckStartsWith",(e,t)=>{Sr.init(e,t);const r=new RegExp(`^${Kl(t.prefix)}.*`);t.pattern??(t.pattern=r),e._zod.onattach.push(n=>{const s=n._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(r)}),e._zod.check=n=>{n.value.startsWith(t.prefix)||n.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:n.value,inst:e,continue:!t.abort})}}),f2=re("$ZodCheckEndsWith",(e,t)=>{Sr.init(e,t);const r=new RegExp(`.*${Kl(t.suffix)}$`);t.pattern??(t.pattern=r),e._zod.onattach.push(n=>{const s=n._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(r)}),e._zod.check=n=>{n.value.endsWith(t.suffix)||n.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:n.value,inst:e,continue:!t.abort})}}),p2=re("$ZodCheckOverwrite",(e,t)=>{Sr.init(e,t),e._zod.check=r=>{r.value=t.tx(r.value)}});class _2{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const n=t.split(`
`).filter(u=>u),s=Math.min(...n.map(u=>u.length-u.trimStart().length)),a=n.map(u=>u.slice(s)).map(u=>" ".repeat(this.indent*2)+u);for(const u of a)this.content.push(u)}compile(){const t=Function,r=this==null?void 0:this.args,s=[...((this==null?void 0:this.content)??[""]).map(a=>`  ${a}`)];return new t(...r,s.join(`
`))}}const m2={major:4,minor:3,patch:6},Ye=re("$ZodType",(e,t)=>{var s;var r;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=m2;const n=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&n.unshift(e);for(const a of n)for(const u of a._zod.onattach)u(e);if(n.length===0)(r=e._zod).deferred??(r.deferred=[]),(s=e._zod.deferred)==null||s.push(()=>{e._zod.run=e._zod.parse});else{const a=(l,c,p)=>{let g=xn(l),m;for(const y of c){if(y._zod.def.when){if(!y._zod.def.when(l))continue}else if(g)continue;const b=l.issues.length,C=y._zod.check(l);if(C instanceof Promise&&(p==null?void 0:p.async)===!1)throw new Rn;if(m||C instanceof Promise)m=(m??Promise.resolve()).then(async()=>{await C,l.issues.length!==b&&(g||(g=xn(l,b)))});else{if(l.issues.length===b)continue;g||(g=xn(l,b))}}return m?m.then(()=>l):l},u=(l,c,p)=>{if(xn(l))return l.aborted=!0,l;const g=a(c,n,p);if(g instanceof Promise){if(p.async===!1)throw new Rn;return g.then(m=>e._zod.parse(m,p))}return e._zod.parse(g,p)};e._zod.run=(l,c)=>{if(c.skipChecks)return e._zod.parse(l,c);if(c.direction==="backward"){const g=e._zod.parse({value:l.value,issues:[]},{...c,skipChecks:!0});return g instanceof Promise?g.then(m=>u(m,l,c)):u(g,l,c)}const p=e._zod.parse(l,c);if(p instanceof Promise){if(c.async===!1)throw new Rn;return p.then(g=>a(g,n,c))}return a(p,n,c)}}Le(e,"~standard",()=>({validate:a=>{var u;try{const l=kk(e,a);return l.success?{value:l.data}:{issues:(u=l.error)==null?void 0:u.issues}}catch{return Lk(e,a).then(c=>{var p;return c.success?{value:c.data}:{issues:(p=c.error)==null?void 0:p.issues}})}},vendor:"zod",version:1}))}),Bd=re("$ZodString",(e,t)=>{var r;Ye.init(e,t),e._zod.pattern=[...((r=e==null?void 0:e._zod.bag)==null?void 0:r.patterns)??[]].pop()??r2(e._zod.bag),e._zod.parse=(n,s)=>{if(t.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:e}),n}}),Ne=re("$ZodStringFormat",(e,t)=>{Jl.init(e,t),Bd.init(e,t)}),v2=re("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=$k),Ne.init(e,t)}),g2=re("$ZodUUID",(e,t)=>{if(t.version){const n={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(n===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=F_(n))}else t.pattern??(t.pattern=F_());Ne.init(e,t)}),y2=re("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=Zk),Ne.init(e,t)}),w2=re("$ZodURL",(e,t)=>{Ne.init(e,t),e._zod.check=r=>{try{const n=r.value.trim(),s=new URL(n);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(s.hostname)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:t.hostname.source,input:r.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(s.protocol.endsWith(":")?s.protocol.slice(0,-1):s.protocol)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:r.value,inst:e,continue:!t.abort})),t.normalize?r.value=s.href:r.value=n;return}catch{r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:e,continue:!t.abort})}}}),S2=re("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=Vk()),Ne.init(e,t)}),x2=re("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=Hk),Ne.init(e,t)}),b2=re("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=Ik),Ne.init(e,t)}),C2=re("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=Bk),Ne.init(e,t)}),E2=re("$ZodULID",(e,t)=>{t.pattern??(t.pattern=zk),Ne.init(e,t)}),k2=re("$ZodXID",(e,t)=>{t.pattern??(t.pattern=jk),Ne.init(e,t)}),L2=re("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=Fk),Ne.init(e,t)}),P2=re("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=t2(t)),Ne.init(e,t)}),T2=re("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=Qk),Ne.init(e,t)}),R2=re("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=e2(t)),Ne.init(e,t)}),O2=re("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=Uk),Ne.init(e,t)}),A2=re("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=Kk),Ne.init(e,t),e._zod.bag.format="ipv4"}),D2=re("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=qk),Ne.init(e,t),e._zod.bag.format="ipv6",e._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:e,continue:!t.abort})}}}),M2=re("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=Gk),Ne.init(e,t)}),N2=re("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=Jk),Ne.init(e,t),e._zod.check=r=>{const n=r.value.split("/");try{if(n.length!==2)throw new Error;const[s,a]=n;if(!a)throw new Error;const u=Number(a);if(`${u}`!==a)throw new Error;if(u<0||u>128)throw new Error;new URL(`http://[${s}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:e,continue:!t.abort})}}});function I0(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const I2=re("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=Xk),Ne.init(e,t),e._zod.bag.contentEncoding="base64",e._zod.check=r=>{I0(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:e,continue:!t.abort})}});function B2(e){if(!D0.test(e))return!1;const t=e.replace(/[-_]/g,n=>n==="-"?"+":"/"),r=t.padEnd(Math.ceil(t.length/4)*4,"=");return I0(r)}const z2=re("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=D0),Ne.init(e,t),e._zod.bag.contentEncoding="base64url",e._zod.check=r=>{B2(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:e,continue:!t.abort})}}),j2=re("$ZodE164",(e,t)=>{t.pattern??(t.pattern=Yk),Ne.init(e,t)});function F2(e,t=null){try{const r=e.split(".");if(r.length!==3)return!1;const[n]=r;if(!n)return!1;const s=JSON.parse(atob(n));return!("typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||t&&(!("alg"in s)||s.alg!==t))}catch{return!1}}const H2=re("$ZodJWT",(e,t)=>{Ne.init(e,t),e._zod.check=r=>{F2(r.value,t.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:e,continue:!t.abort})}}),U2=re("$ZodUnknown",(e,t)=>{Ye.init(e,t),e._zod.parse=r=>r}),$2=re("$ZodNever",(e,t)=>{Ye.init(e,t),e._zod.parse=(r,n)=>(r.issues.push({expected:"never",code:"invalid_type",input:r.value,inst:e}),r)});function H_(e,t,r){e.issues.length&&t.issues.push(...T0(r,e.issues)),t.value[r]=e.value}const Z2=re("$ZodArray",(e,t)=>{Ye.init(e,t),e._zod.parse=(r,n)=>{const s=r.value;if(!Array.isArray(s))return r.issues.push({expected:"array",code:"invalid_type",input:s,inst:e}),r;r.value=Array(s.length);const a=[];for(let u=0;u<s.length;u++){const l=s[u],c=t.element._zod.run({value:l,issues:[]},n);c instanceof Promise?a.push(c.then(p=>H_(p,r,u))):H_(c,r,u)}return a.length?Promise.all(a).then(()=>r):r}});function dl(e,t,r,n,s){if(e.issues.length){if(s&&!(r in n))return;t.issues.push(...T0(r,e.issues))}e.value===void 0?r in n&&(t.value[r]=void 0):t.value[r]=e.value}function B0(e){var n,s,a,u;const t=Object.keys(e.shape);for(const l of t)if(!((u=(a=(s=(n=e.shape)==null?void 0:n[l])==null?void 0:s._zod)==null?void 0:a.traits)!=null&&u.has("$ZodType")))throw new Error(`Invalid element at key "${l}": expected a Zod schema`);const r=mk(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(r)}}function z0(e,t,r,n,s,a){const u=[],l=s.keySet,c=s.catchall._zod,p=c.def.type,g=c.optout==="optional";for(const m in t){if(l.has(m))continue;if(p==="never"){u.push(m);continue}const y=c.run({value:t[m],issues:[]},n);y instanceof Promise?e.push(y.then(b=>dl(b,r,m,t,g))):dl(y,r,m,t,g)}return u.length&&r.issues.push({code:"unrecognized_keys",keys:u,input:t,inst:a}),e.length?Promise.all(e).then(()=>r):r}const W2=re("$ZodObject",(e,t)=>{Ye.init(e,t);const r=Object.getOwnPropertyDescriptor(t,"shape");if(!(r!=null&&r.get)){const l=t.shape;Object.defineProperty(t,"shape",{get:()=>{const c={...l};return Object.defineProperty(t,"shape",{value:c}),c}})}const n=Od(()=>B0(t));Le(e._zod,"propValues",()=>{const l=t.shape,c={};for(const p in l){const g=l[p]._zod;if(g.values){c[p]??(c[p]=new Set);for(const m of g.values)c[p].add(m)}}return c});const s=hl,a=t.catchall;let u;e._zod.parse=(l,c)=>{u??(u=n.value);const p=l.value;if(!s(p))return l.issues.push({expected:"object",code:"invalid_type",input:p,inst:e}),l;l.value={};const g=[],m=u.shape;for(const y of u.keys){const b=m[y],C=b._zod.optout==="optional",x=b._zod.run({value:p[y],issues:[]},c);x instanceof Promise?g.push(x.then(d=>dl(d,l,y,p,C))):dl(x,l,y,p,C)}return a?z0(g,p,l,c,n.value,e):g.length?Promise.all(g).then(()=>l):l}}),V2=re("$ZodObjectJIT",(e,t)=>{W2.init(e,t);const r=e._zod.parse,n=Od(()=>B0(t)),s=y=>{var v;const b=new _2(["shape","payload","ctx"]),C=n.value,x=S=>{const E=j_(S);return`shape[${E}]._zod.run({ value: input[${E}], issues: [] }, ctx)`};b.write("const input = payload.value;");const d=Object.create(null);let _=0;for(const S of C.keys)d[S]=`key_${_++}`;b.write("const newResult = {};");for(const S of C.keys){const E=d[S],R=j_(S),D=y[S],k=((v=D==null?void 0:D._zod)==null?void 0:v.optout)==="optional";b.write(`const ${E} = ${x(S)};`),k?b.write(`
        if (${E}.issues.length) {
          if (${R} in input) {
            payload.issues = payload.issues.concat(${E}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${R}, ...iss.path] : [${R}]
            })));
          }
        }
        
        if (${E}.value === undefined) {
          if (${R} in input) {
            newResult[${R}] = undefined;
          }
        } else {
          newResult[${R}] = ${E}.value;
        }
        
      `):b.write(`
        if (${E}.issues.length) {
          payload.issues = payload.issues.concat(${E}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${R}, ...iss.path] : [${R}]
          })));
        }
        
        if (${E}.value === undefined) {
          if (${R} in input) {
            newResult[${R}] = undefined;
          }
        } else {
          newResult[${R}] = ${E}.value;
        }
        
      `)}b.write("payload.value = newResult;"),b.write("return payload;");const f=b.compile();return(S,E)=>f(y,S,E)};let a;const u=hl,l=!E0.jitless,p=l&&pk.value,g=t.catchall;let m;e._zod.parse=(y,b)=>{m??(m=n.value);const C=y.value;return u(C)?l&&p&&(b==null?void 0:b.async)===!1&&b.jitless!==!0?(a||(a=s(t.shape)),y=a(y,b),g?z0([],C,y,b,m,e):y):r(y,b):(y.issues.push({expected:"object",code:"invalid_type",input:C,inst:e}),y)}});function U_(e,t,r,n){for(const a of e)if(a.issues.length===0)return t.value=a.value,t;const s=e.filter(a=>!xn(a));return s.length===1?(t.value=s[0].value,s[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:r,errors:e.map(a=>a.issues.map(u=>Zi(u,n,$i())))}),t)}const K2=re("$ZodUnion",(e,t)=>{Ye.init(e,t),Le(e._zod,"optin",()=>t.options.some(s=>s._zod.optin==="optional")?"optional":void 0),Le(e._zod,"optout",()=>t.options.some(s=>s._zod.optout==="optional")?"optional":void 0),Le(e._zod,"values",()=>{if(t.options.every(s=>s._zod.values))return new Set(t.options.flatMap(s=>Array.from(s._zod.values)))}),Le(e._zod,"pattern",()=>{if(t.options.every(s=>s._zod.pattern)){const s=t.options.map(a=>a._zod.pattern);return new RegExp(`^(${s.map(a=>Dd(a.source)).join("|")})$`)}});const r=t.options.length===1,n=t.options[0]._zod.run;e._zod.parse=(s,a)=>{if(r)return n(s,a);let u=!1;const l=[];for(const c of t.options){const p=c._zod.run({value:s.value,issues:[]},a);if(p instanceof Promise)l.push(p),u=!0;else{if(p.issues.length===0)return p;l.push(p)}}return u?Promise.all(l).then(c=>U_(c,s,e,a)):U_(l,s,e,a)}}),q2=re("$ZodIntersection",(e,t)=>{Ye.init(e,t),e._zod.parse=(r,n)=>{const s=r.value,a=t.left._zod.run({value:s,issues:[]},n),u=t.right._zod.run({value:s,issues:[]},n);return a instanceof Promise||u instanceof Promise?Promise.all([a,u]).then(([c,p])=>$_(r,c,p)):$_(r,a,u)}});function yh(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(oo(e)&&oo(t)){const r=Object.keys(t),n=Object.keys(e).filter(a=>r.indexOf(a)!==-1),s={...e,...t};for(const a of n){const u=yh(e[a],t[a]);if(!u.valid)return{valid:!1,mergeErrorPath:[a,...u.mergeErrorPath]};s[a]=u.data}return{valid:!0,data:s}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const r=[];for(let n=0;n<e.length;n++){const s=e[n],a=t[n],u=yh(s,a);if(!u.valid)return{valid:!1,mergeErrorPath:[n,...u.mergeErrorPath]};r.push(u.data)}return{valid:!0,data:r}}return{valid:!1,mergeErrorPath:[]}}function $_(e,t,r){const n=new Map;let s;for(const l of t.issues)if(l.code==="unrecognized_keys"){s??(s=l);for(const c of l.keys)n.has(c)||n.set(c,{}),n.get(c).l=!0}else e.issues.push(l);for(const l of r.issues)if(l.code==="unrecognized_keys")for(const c of l.keys)n.has(c)||n.set(c,{}),n.get(c).r=!0;else e.issues.push(l);const a=[...n].filter(([,l])=>l.l&&l.r).map(([l])=>l);if(a.length&&s&&e.issues.push({...s,keys:a}),xn(e))return e;const u=yh(t.value,r.value);if(!u.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(u.mergeErrorPath)}`);return e.value=u.data,e}const G2=re("$ZodEnum",(e,t)=>{Ye.init(e,t);const r=k0(t.entries),n=new Set(r);e._zod.values=n,e._zod.pattern=new RegExp(`^(${r.filter(s=>_k.has(typeof s)).map(s=>typeof s=="string"?Kl(s):s.toString()).join("|")})$`),e._zod.parse=(s,a)=>{const u=s.value;return n.has(u)||s.issues.push({code:"invalid_value",values:r,input:u,inst:e}),s}}),J2=re("$ZodTransform",(e,t)=>{Ye.init(e,t),e._zod.parse=(r,n)=>{if(n.direction==="backward")throw new C0(e.constructor.name);const s=t.transform(r.value,r);if(n.async)return(s instanceof Promise?s:Promise.resolve(s)).then(u=>(r.value=u,r));if(s instanceof Promise)throw new Rn;return r.value=s,r}});function Z_(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const j0=re("$ZodOptional",(e,t)=>{Ye.init(e,t),e._zod.optin="optional",e._zod.optout="optional",Le(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),Le(e._zod,"pattern",()=>{const r=t.innerType._zod.pattern;return r?new RegExp(`^(${Dd(r.source)})?$`):void 0}),e._zod.parse=(r,n)=>{if(t.innerType._zod.optin==="optional"){const s=t.innerType._zod.run(r,n);return s instanceof Promise?s.then(a=>Z_(a,r.value)):Z_(s,r.value)}return r.value===void 0?r:t.innerType._zod.run(r,n)}}),X2=re("$ZodExactOptional",(e,t)=>{j0.init(e,t),Le(e._zod,"values",()=>t.innerType._zod.values),Le(e._zod,"pattern",()=>t.innerType._zod.pattern),e._zod.parse=(r,n)=>t.innerType._zod.run(r,n)}),Y2=re("$ZodNullable",(e,t)=>{Ye.init(e,t),Le(e._zod,"optin",()=>t.innerType._zod.optin),Le(e._zod,"optout",()=>t.innerType._zod.optout),Le(e._zod,"pattern",()=>{const r=t.innerType._zod.pattern;return r?new RegExp(`^(${Dd(r.source)}|null)$`):void 0}),Le(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(r,n)=>r.value===null?r:t.innerType._zod.run(r,n)}),Q2=re("$ZodDefault",(e,t)=>{Ye.init(e,t),e._zod.optin="optional",Le(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);if(r.value===void 0)return r.value=t.defaultValue,r;const s=t.innerType._zod.run(r,n);return s instanceof Promise?s.then(a=>W_(a,t)):W_(s,t)}});function W_(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const eL=re("$ZodPrefault",(e,t)=>{Ye.init(e,t),e._zod.optin="optional",Le(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>(n.direction==="backward"||r.value===void 0&&(r.value=t.defaultValue),t.innerType._zod.run(r,n))}),tL=re("$ZodNonOptional",(e,t)=>{Ye.init(e,t),Le(e._zod,"values",()=>{const r=t.innerType._zod.values;return r?new Set([...r].filter(n=>n!==void 0)):void 0}),e._zod.parse=(r,n)=>{const s=t.innerType._zod.run(r,n);return s instanceof Promise?s.then(a=>V_(a,e)):V_(s,e)}});function V_(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const rL=re("$ZodCatch",(e,t)=>{Ye.init(e,t),Le(e._zod,"optin",()=>t.innerType._zod.optin),Le(e._zod,"optout",()=>t.innerType._zod.optout),Le(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);const s=t.innerType._zod.run(r,n);return s instanceof Promise?s.then(a=>(r.value=a.value,a.issues.length&&(r.value=t.catchValue({...r,error:{issues:a.issues.map(u=>Zi(u,n,$i()))},input:r.value}),r.issues=[]),r)):(r.value=s.value,s.issues.length&&(r.value=t.catchValue({...r,error:{issues:s.issues.map(a=>Zi(a,n,$i()))},input:r.value}),r.issues=[]),r)}}),iL=re("$ZodPipe",(e,t)=>{Ye.init(e,t),Le(e._zod,"values",()=>t.in._zod.values),Le(e._zod,"optin",()=>t.in._zod.optin),Le(e._zod,"optout",()=>t.out._zod.optout),Le(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(r,n)=>{if(n.direction==="backward"){const a=t.out._zod.run(r,n);return a instanceof Promise?a.then(u=>ha(u,t.in,n)):ha(a,t.in,n)}const s=t.in._zod.run(r,n);return s instanceof Promise?s.then(a=>ha(a,t.out,n)):ha(s,t.out,n)}});function ha(e,t,r){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},r)}const nL=re("$ZodReadonly",(e,t)=>{Ye.init(e,t),Le(e._zod,"propValues",()=>t.innerType._zod.propValues),Le(e._zod,"values",()=>t.innerType._zod.values),Le(e._zod,"optin",()=>{var r,n;return(n=(r=t.innerType)==null?void 0:r._zod)==null?void 0:n.optin}),Le(e._zod,"optout",()=>{var r,n;return(n=(r=t.innerType)==null?void 0:r._zod)==null?void 0:n.optout}),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);const s=t.innerType._zod.run(r,n);return s instanceof Promise?s.then(K_):K_(s)}});function K_(e){return e.value=Object.freeze(e.value),e}const sL=re("$ZodCustom",(e,t)=>{Sr.init(e,t),Ye.init(e,t),e._zod.parse=(r,n)=>r,e._zod.check=r=>{const n=r.value,s=t.fn(n);if(s instanceof Promise)return s.then(a=>q_(a,r,n,e));q_(s,r,n,e)}});function q_(e,t,r,n){if(!e){const s={code:"custom",input:r,inst:n,path:[...n._zod.def.path??[]],continue:!n._zod.def.abort};n._zod.def.params&&(s.params=n._zod.def.params),t.issues.push(ao(s))}}var G_;class oL{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...r){const n=r[0];return this._map.set(t,n),n&&typeof n=="object"&&"id"in n&&this._idmap.set(n.id,t),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const r=this._map.get(t);return r&&typeof r=="object"&&"id"in r&&this._idmap.delete(r.id),this._map.delete(t),this}get(t){const r=t._zod.parent;if(r){const n={...this.get(r)??{}};delete n.id;const s={...n,...this._map.get(t)};return Object.keys(s).length?s:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function aL(){return new oL}(G_=globalThis).__zod_globalRegistry??(G_.__zod_globalRegistry=aL());const ks=globalThis.__zod_globalRegistry;function lL(e,t){return new e({type:"string",..._e(t)})}function cL(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,..._e(t)})}function J_(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,..._e(t)})}function uL(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,..._e(t)})}function hL(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",..._e(t)})}function dL(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",..._e(t)})}function fL(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",..._e(t)})}function pL(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,..._e(t)})}function _L(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,..._e(t)})}function mL(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,..._e(t)})}function vL(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,..._e(t)})}function gL(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,..._e(t)})}function yL(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,..._e(t)})}function wL(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,..._e(t)})}function SL(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,..._e(t)})}function xL(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,..._e(t)})}function bL(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,..._e(t)})}function CL(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,..._e(t)})}function EL(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,..._e(t)})}function kL(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,..._e(t)})}function LL(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,..._e(t)})}function PL(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,..._e(t)})}function TL(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,..._e(t)})}function RL(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,..._e(t)})}function OL(e,t){return new e({type:"string",format:"date",check:"string_format",..._e(t)})}function AL(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,..._e(t)})}function DL(e,t){return new e({type:"string",format:"duration",check:"string_format",..._e(t)})}function ML(e){return new e({type:"unknown"})}function NL(e,t){return new e({type:"never",..._e(t)})}function F0(e,t){return new s2({check:"max_length",..._e(t),maximum:e})}function fl(e,t){return new o2({check:"min_length",..._e(t),minimum:e})}function H0(e,t){return new a2({check:"length_equals",..._e(t),length:e})}function IL(e,t){return new l2({check:"string_format",format:"regex",..._e(t),pattern:e})}function BL(e){return new c2({check:"string_format",format:"lowercase",..._e(e)})}function zL(e){return new u2({check:"string_format",format:"uppercase",..._e(e)})}function jL(e,t){return new h2({check:"string_format",format:"includes",..._e(t),includes:e})}function FL(e,t){return new d2({check:"string_format",format:"starts_with",..._e(t),prefix:e})}function HL(e,t){return new f2({check:"string_format",format:"ends_with",..._e(t),suffix:e})}function Vn(e){return new p2({check:"overwrite",tx:e})}function UL(e){return Vn(t=>t.normalize(e))}function $L(){return Vn(e=>e.trim())}function ZL(){return Vn(e=>e.toLowerCase())}function WL(){return Vn(e=>e.toUpperCase())}function VL(){return Vn(e=>fk(e))}function KL(e,t,r){return new e({type:"array",element:t,..._e(r)})}function qL(e,t,r){return new e({type:"custom",check:"custom",fn:t,..._e(r)})}function GL(e){const t=JL(r=>(r.addIssue=n=>{if(typeof n=="string")r.issues.push(ao(n,r.value,t._zod.def));else{const s=n;s.fatal&&(s.continue=!1),s.code??(s.code="custom"),s.input??(s.input=r.value),s.inst??(s.inst=t),s.continue??(s.continue=!t._zod.def.abort),r.issues.push(ao(s))}},e(r.value,r)));return t}function JL(e,t){const r=new Sr({check:"custom",..._e(t)});return r._zod.check=e,r}function U0(e){let t=(e==null?void 0:e.target)??"draft-2020-12";return t==="draft-4"&&(t="draft-04"),t==="draft-7"&&(t="draft-07"),{processors:e.processors??{},metadataRegistry:(e==null?void 0:e.metadata)??ks,target:t,unrepresentable:(e==null?void 0:e.unrepresentable)??"throw",override:(e==null?void 0:e.override)??(()=>{}),io:(e==null?void 0:e.io)??"output",counter:0,seen:new Map,cycles:(e==null?void 0:e.cycles)??"ref",reused:(e==null?void 0:e.reused)??"inline",external:(e==null?void 0:e.external)??void 0}}function ut(e,t,r={path:[],schemaPath:[]}){var g,m;var n;const s=e._zod.def,a=t.seen.get(e);if(a)return a.count++,r.schemaPath.includes(e)&&(a.cycle=r.path),a.schema;const u={schema:{},count:1,cycle:void 0,path:r.path};t.seen.set(e,u);const l=(m=(g=e._zod).toJSONSchema)==null?void 0:m.call(g);if(l)u.schema=l;else{const y={...r,schemaPath:[...r.schemaPath,e],path:r.path};if(e._zod.processJSONSchema)e._zod.processJSONSchema(t,u.schema,y);else{const C=u.schema,x=t.processors[s.type];if(!x)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${s.type}`);x(e,t,C,y)}const b=e._zod.parent;b&&(u.ref||(u.ref=b),ut(b,t,y),t.seen.get(b).isParent=!0)}const c=t.metadataRegistry.get(e);return c&&Object.assign(u.schema,c),t.io==="input"&&gt(e)&&(delete u.schema.examples,delete u.schema.default),t.io==="input"&&u.schema._prefault&&((n=u.schema).default??(n.default=u.schema._prefault)),delete u.schema._prefault,t.seen.get(e).schema}function $0(e,t){var u,l,c,p;const r=e.seen.get(t);if(!r)throw new Error("Unprocessed schema. This is a bug in Zod.");const n=new Map;for(const g of e.seen.entries()){const m=(u=e.metadataRegistry.get(g[0]))==null?void 0:u.id;if(m){const y=n.get(m);if(y&&y!==g[0])throw new Error(`Duplicate schema id "${m}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);n.set(m,g[0])}}const s=g=>{var x;const m=e.target==="draft-2020-12"?"$defs":"definitions";if(e.external){const d=(x=e.external.registry.get(g[0]))==null?void 0:x.id,_=e.external.uri??(v=>v);if(d)return{ref:_(d)};const f=g[1].defId??g[1].schema.id??`schema${e.counter++}`;return g[1].defId=f,{defId:f,ref:`${_("__shared")}#/${m}/${f}`}}if(g[1]===r)return{ref:"#"};const b=`#/${m}/`,C=g[1].schema.id??`__schema${e.counter++}`;return{defId:C,ref:b+C}},a=g=>{if(g[1].schema.$ref)return;const m=g[1],{ref:y,defId:b}=s(g);m.def={...m.schema},b&&(m.defId=b);const C=m.schema;for(const x in C)delete C[x];C.$ref=y};if(e.cycles==="throw")for(const g of e.seen.entries()){const m=g[1];if(m.cycle)throw new Error(`Cycle detected: #/${(l=m.cycle)==null?void 0:l.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const g of e.seen.entries()){const m=g[1];if(t===g[0]){a(g);continue}if(e.external){const b=(c=e.external.registry.get(g[0]))==null?void 0:c.id;if(t!==g[0]&&b){a(g);continue}}if((p=e.metadataRegistry.get(g[0]))==null?void 0:p.id){a(g);continue}if(m.cycle){a(g);continue}if(m.count>1&&e.reused==="ref"){a(g);continue}}}function Z0(e,t){var u,l,c;const r=e.seen.get(t);if(!r)throw new Error("Unprocessed schema. This is a bug in Zod.");const n=p=>{const g=e.seen.get(p);if(g.ref===null)return;const m=g.def??g.schema,y={...m},b=g.ref;if(g.ref=null,b){n(b);const x=e.seen.get(b),d=x.schema;if(d.$ref&&(e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0")?(m.allOf=m.allOf??[],m.allOf.push(d)):Object.assign(m,d),Object.assign(m,y),p._zod.parent===b)for(const f in m)f==="$ref"||f==="allOf"||f in y||delete m[f];if(d.$ref&&x.def)for(const f in m)f==="$ref"||f==="allOf"||f in x.def&&JSON.stringify(m[f])===JSON.stringify(x.def[f])&&delete m[f]}const C=p._zod.parent;if(C&&C!==b){n(C);const x=e.seen.get(C);if(x!=null&&x.schema.$ref&&(m.$ref=x.schema.$ref,x.def))for(const d in m)d==="$ref"||d==="allOf"||d in x.def&&JSON.stringify(m[d])===JSON.stringify(x.def[d])&&delete m[d]}e.override({zodSchema:p,jsonSchema:m,path:g.path??[]})};for(const p of[...e.seen.entries()].reverse())n(p[0]);const s={};if(e.target==="draft-2020-12"?s.$schema="https://json-schema.org/draft/2020-12/schema":e.target==="draft-07"?s.$schema="http://json-schema.org/draft-07/schema#":e.target==="draft-04"?s.$schema="http://json-schema.org/draft-04/schema#":e.target,(u=e.external)!=null&&u.uri){const p=(l=e.external.registry.get(t))==null?void 0:l.id;if(!p)throw new Error("Schema is missing an `id` property");s.$id=e.external.uri(p)}Object.assign(s,r.def??r.schema);const a=((c=e.external)==null?void 0:c.defs)??{};for(const p of e.seen.entries()){const g=p[1];g.def&&g.defId&&(a[g.defId]=g.def)}e.external||Object.keys(a).length>0&&(e.target==="draft-2020-12"?s.$defs=a:s.definitions=a);try{const p=JSON.parse(JSON.stringify(s));return Object.defineProperty(p,"~standard",{value:{...t["~standard"],jsonSchema:{input:pl(t,"input",e.processors),output:pl(t,"output",e.processors)}},enumerable:!1,writable:!1}),p}catch{throw new Error("Error converting schema to JSON.")}}function gt(e,t){const r=t??{seen:new Set};if(r.seen.has(e))return!1;r.seen.add(e);const n=e._zod.def;if(n.type==="transform")return!0;if(n.type==="array")return gt(n.element,r);if(n.type==="set")return gt(n.valueType,r);if(n.type==="lazy")return gt(n.getter(),r);if(n.type==="promise"||n.type==="optional"||n.type==="nonoptional"||n.type==="nullable"||n.type==="readonly"||n.type==="default"||n.type==="prefault")return gt(n.innerType,r);if(n.type==="intersection")return gt(n.left,r)||gt(n.right,r);if(n.type==="record"||n.type==="map")return gt(n.keyType,r)||gt(n.valueType,r);if(n.type==="pipe")return gt(n.in,r)||gt(n.out,r);if(n.type==="object"){for(const s in n.shape)if(gt(n.shape[s],r))return!0;return!1}if(n.type==="union"){for(const s of n.options)if(gt(s,r))return!0;return!1}if(n.type==="tuple"){for(const s of n.items)if(gt(s,r))return!0;return!!(n.rest&&gt(n.rest,r))}return!1}const XL=(e,t={})=>r=>{const n=U0({...r,processors:t});return ut(e,n),$0(n,e),Z0(n,e)},pl=(e,t,r={})=>n=>{const{libraryOptions:s,target:a}=n??{},u=U0({...s??{},target:a,io:t,processors:r});return ut(e,u),$0(u,e),Z0(u,e)},YL={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},QL=(e,t,r,n)=>{const s=r;s.type="string";const{minimum:a,maximum:u,format:l,patterns:c,contentEncoding:p}=e._zod.bag;if(typeof a=="number"&&(s.minLength=a),typeof u=="number"&&(s.maxLength=u),l&&(s.format=YL[l]??l,s.format===""&&delete s.format,l==="time"&&delete s.format),p&&(s.contentEncoding=p),c&&c.size>0){const g=[...c];g.length===1?s.pattern=g[0].source:g.length>1&&(s.allOf=[...g.map(m=>({...t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0"?{type:"string"}:{},pattern:m.source}))])}},eP=(e,t,r,n)=>{r.not={}},tP=(e,t,r,n)=>{},rP=(e,t,r,n)=>{const s=e._zod.def,a=k0(s.entries);a.every(u=>typeof u=="number")&&(r.type="number"),a.every(u=>typeof u=="string")&&(r.type="string"),r.enum=a},iP=(e,t,r,n)=>{if(t.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},nP=(e,t,r,n)=>{if(t.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},sP=(e,t,r,n)=>{const s=r,a=e._zod.def,{minimum:u,maximum:l}=e._zod.bag;typeof u=="number"&&(s.minItems=u),typeof l=="number"&&(s.maxItems=l),s.type="array",s.items=ut(a.element,t,{...n,path:[...n.path,"items"]})},oP=(e,t,r,n)=>{var p;const s=r,a=e._zod.def;s.type="object",s.properties={};const u=a.shape;for(const g in u)s.properties[g]=ut(u[g],t,{...n,path:[...n.path,"properties",g]});const l=new Set(Object.keys(u)),c=new Set([...l].filter(g=>{const m=a.shape[g]._zod;return t.io==="input"?m.optin===void 0:m.optout===void 0}));c.size>0&&(s.required=Array.from(c)),((p=a.catchall)==null?void 0:p._zod.def.type)==="never"?s.additionalProperties=!1:a.catchall?a.catchall&&(s.additionalProperties=ut(a.catchall,t,{...n,path:[...n.path,"additionalProperties"]})):t.io==="output"&&(s.additionalProperties=!1)},aP=(e,t,r,n)=>{const s=e._zod.def,a=s.inclusive===!1,u=s.options.map((l,c)=>ut(l,t,{...n,path:[...n.path,a?"oneOf":"anyOf",c]}));a?r.oneOf=u:r.anyOf=u},lP=(e,t,r,n)=>{const s=e._zod.def,a=ut(s.left,t,{...n,path:[...n.path,"allOf",0]}),u=ut(s.right,t,{...n,path:[...n.path,"allOf",1]}),l=p=>"allOf"in p&&Object.keys(p).length===1,c=[...l(a)?a.allOf:[a],...l(u)?u.allOf:[u]];r.allOf=c},cP=(e,t,r,n)=>{const s=e._zod.def,a=ut(s.innerType,t,n),u=t.seen.get(e);t.target==="openapi-3.0"?(u.ref=s.innerType,r.nullable=!0):r.anyOf=[a,{type:"null"}]},uP=(e,t,r,n)=>{const s=e._zod.def;ut(s.innerType,t,n);const a=t.seen.get(e);a.ref=s.innerType},hP=(e,t,r,n)=>{const s=e._zod.def;ut(s.innerType,t,n);const a=t.seen.get(e);a.ref=s.innerType,r.default=JSON.parse(JSON.stringify(s.defaultValue))},dP=(e,t,r,n)=>{const s=e._zod.def;ut(s.innerType,t,n);const a=t.seen.get(e);a.ref=s.innerType,t.io==="input"&&(r._prefault=JSON.parse(JSON.stringify(s.defaultValue)))},fP=(e,t,r,n)=>{const s=e._zod.def;ut(s.innerType,t,n);const a=t.seen.get(e);a.ref=s.innerType;let u;try{u=s.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}r.default=u},pP=(e,t,r,n)=>{const s=e._zod.def,a=t.io==="input"?s.in._zod.def.type==="transform"?s.out:s.in:s.out;ut(a,t,n);const u=t.seen.get(e);u.ref=a},_P=(e,t,r,n)=>{const s=e._zod.def;ut(s.innerType,t,n);const a=t.seen.get(e);a.ref=s.innerType,r.readOnly=!0},W0=(e,t,r,n)=>{const s=e._zod.def;ut(s.innerType,t,n);const a=t.seen.get(e);a.ref=s.innerType},mP=re("ZodISODateTime",(e,t)=>{P2.init(e,t),He.init(e,t)});function vP(e){return RL(mP,e)}const gP=re("ZodISODate",(e,t)=>{T2.init(e,t),He.init(e,t)});function yP(e){return OL(gP,e)}const wP=re("ZodISOTime",(e,t)=>{R2.init(e,t),He.init(e,t)});function SP(e){return AL(wP,e)}const xP=re("ZodISODuration",(e,t)=>{O2.init(e,t),He.init(e,t)});function bP(e){return DL(xP,e)}const CP=(e,t)=>{O0.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:r=>Ek(e,r)},flatten:{value:r=>Ck(e,r)},addIssue:{value:r=>{e.issues.push(r),e.message=JSON.stringify(e.issues,gh,2)}},addIssues:{value:r=>{e.issues.push(...r),e.message=JSON.stringify(e.issues,gh,2)}},isEmpty:{get(){return e.issues.length===0}}})},Gt=re("ZodError",CP,{Parent:Error}),EP=Nd(Gt),kP=Id(Gt),LP=ql(Gt),PP=Gl(Gt),TP=Pk(Gt),RP=Tk(Gt),OP=Rk(Gt),AP=Ok(Gt),DP=Ak(Gt),MP=Dk(Gt),NP=Mk(Gt),IP=Nk(Gt),Qe=re("ZodType",(e,t)=>(Ye.init(e,t),Object.assign(e["~standard"],{jsonSchema:{input:pl(e,"input"),output:pl(e,"output")}}),e.toJSONSchema=XL(e,{}),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...r)=>e.clone(vi(t,{checks:[...t.checks??[],...r.map(n=>typeof n=="function"?{_zod:{check:n,def:{check:"custom"},onattach:[]}}:n)]}),{parent:!0}),e.with=e.check,e.clone=(r,n)=>gi(e,r,n),e.brand=()=>e,e.register=(r,n)=>(r.add(e,n),e),e.parse=(r,n)=>EP(e,r,n,{callee:e.parse}),e.safeParse=(r,n)=>LP(e,r,n),e.parseAsync=async(r,n)=>kP(e,r,n,{callee:e.parseAsync}),e.safeParseAsync=async(r,n)=>PP(e,r,n),e.spa=e.safeParseAsync,e.encode=(r,n)=>TP(e,r,n),e.decode=(r,n)=>RP(e,r,n),e.encodeAsync=async(r,n)=>OP(e,r,n),e.decodeAsync=async(r,n)=>AP(e,r,n),e.safeEncode=(r,n)=>DP(e,r,n),e.safeDecode=(r,n)=>MP(e,r,n),e.safeEncodeAsync=async(r,n)=>NP(e,r,n),e.safeDecodeAsync=async(r,n)=>IP(e,r,n),e.refine=(r,n)=>e.check(RT(r,n)),e.superRefine=r=>e.check(OT(r)),e.overwrite=r=>e.check(Vn(r)),e.optional=()=>Q_(e),e.exactOptional=()=>vT(e),e.nullable=()=>em(e),e.nullish=()=>Q_(em(e)),e.nonoptional=r=>bT(e,r),e.array=()=>sT(e),e.or=r=>cT([e,r]),e.and=r=>hT(e,r),e.transform=r=>tm(e,_T(r)),e.default=r=>wT(e,r),e.prefault=r=>xT(e,r),e.catch=r=>ET(e,r),e.pipe=r=>tm(e,r),e.readonly=()=>PT(e),e.describe=r=>{const n=e.clone();return ks.add(n,{description:r}),n},Object.defineProperty(e,"description",{get(){var r;return(r=ks.get(e))==null?void 0:r.description},configurable:!0}),e.meta=(...r)=>{if(r.length===0)return ks.get(e);const n=e.clone();return ks.add(n,r[0]),n},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e.apply=r=>r(e),e)),V0=re("_ZodString",(e,t)=>{Bd.init(e,t),Qe.init(e,t),e._zod.processJSONSchema=(n,s,a)=>QL(e,n,s);const r=e._zod.bag;e.format=r.format??null,e.minLength=r.minimum??null,e.maxLength=r.maximum??null,e.regex=(...n)=>e.check(IL(...n)),e.includes=(...n)=>e.check(jL(...n)),e.startsWith=(...n)=>e.check(FL(...n)),e.endsWith=(...n)=>e.check(HL(...n)),e.min=(...n)=>e.check(fl(...n)),e.max=(...n)=>e.check(F0(...n)),e.length=(...n)=>e.check(H0(...n)),e.nonempty=(...n)=>e.check(fl(1,...n)),e.lowercase=n=>e.check(BL(n)),e.uppercase=n=>e.check(zL(n)),e.trim=()=>e.check($L()),e.normalize=(...n)=>e.check(UL(...n)),e.toLowerCase=()=>e.check(ZL()),e.toUpperCase=()=>e.check(WL()),e.slugify=()=>e.check(VL())}),BP=re("ZodString",(e,t)=>{Bd.init(e,t),V0.init(e,t),e.email=r=>e.check(cL(zP,r)),e.url=r=>e.check(pL(jP,r)),e.jwt=r=>e.check(TL(eT,r)),e.emoji=r=>e.check(_L(FP,r)),e.guid=r=>e.check(J_(X_,r)),e.uuid=r=>e.check(uL(fa,r)),e.uuidv4=r=>e.check(hL(fa,r)),e.uuidv6=r=>e.check(dL(fa,r)),e.uuidv7=r=>e.check(fL(fa,r)),e.nanoid=r=>e.check(mL(HP,r)),e.guid=r=>e.check(J_(X_,r)),e.cuid=r=>e.check(vL(UP,r)),e.cuid2=r=>e.check(gL($P,r)),e.ulid=r=>e.check(yL(ZP,r)),e.base64=r=>e.check(kL(XP,r)),e.base64url=r=>e.check(LL(YP,r)),e.xid=r=>e.check(wL(WP,r)),e.ksuid=r=>e.check(SL(VP,r)),e.ipv4=r=>e.check(xL(KP,r)),e.ipv6=r=>e.check(bL(qP,r)),e.cidrv4=r=>e.check(CL(GP,r)),e.cidrv6=r=>e.check(EL(JP,r)),e.e164=r=>e.check(PL(QP,r)),e.datetime=r=>e.check(vP(r)),e.date=r=>e.check(yP(r)),e.time=r=>e.check(SP(r)),e.duration=r=>e.check(bP(r))});function da(e){return lL(BP,e)}const He=re("ZodStringFormat",(e,t)=>{Ne.init(e,t),V0.init(e,t)}),zP=re("ZodEmail",(e,t)=>{y2.init(e,t),He.init(e,t)}),X_=re("ZodGUID",(e,t)=>{v2.init(e,t),He.init(e,t)}),fa=re("ZodUUID",(e,t)=>{g2.init(e,t),He.init(e,t)}),jP=re("ZodURL",(e,t)=>{w2.init(e,t),He.init(e,t)}),FP=re("ZodEmoji",(e,t)=>{S2.init(e,t),He.init(e,t)}),HP=re("ZodNanoID",(e,t)=>{x2.init(e,t),He.init(e,t)}),UP=re("ZodCUID",(e,t)=>{b2.init(e,t),He.init(e,t)}),$P=re("ZodCUID2",(e,t)=>{C2.init(e,t),He.init(e,t)}),ZP=re("ZodULID",(e,t)=>{E2.init(e,t),He.init(e,t)}),WP=re("ZodXID",(e,t)=>{k2.init(e,t),He.init(e,t)}),VP=re("ZodKSUID",(e,t)=>{L2.init(e,t),He.init(e,t)}),KP=re("ZodIPv4",(e,t)=>{A2.init(e,t),He.init(e,t)}),qP=re("ZodIPv6",(e,t)=>{D2.init(e,t),He.init(e,t)}),GP=re("ZodCIDRv4",(e,t)=>{M2.init(e,t),He.init(e,t)}),JP=re("ZodCIDRv6",(e,t)=>{N2.init(e,t),He.init(e,t)}),XP=re("ZodBase64",(e,t)=>{I2.init(e,t),He.init(e,t)}),YP=re("ZodBase64URL",(e,t)=>{z2.init(e,t),He.init(e,t)}),QP=re("ZodE164",(e,t)=>{j2.init(e,t),He.init(e,t)}),eT=re("ZodJWT",(e,t)=>{H2.init(e,t),He.init(e,t)}),tT=re("ZodUnknown",(e,t)=>{U2.init(e,t),Qe.init(e,t),e._zod.processJSONSchema=(r,n,s)=>tP()});function Y_(){return ML(tT)}const rT=re("ZodNever",(e,t)=>{$2.init(e,t),Qe.init(e,t),e._zod.processJSONSchema=(r,n,s)=>eP(e,r,n)});function iT(e){return NL(rT,e)}const nT=re("ZodArray",(e,t)=>{Z2.init(e,t),Qe.init(e,t),e._zod.processJSONSchema=(r,n,s)=>sP(e,r,n,s),e.element=t.element,e.min=(r,n)=>e.check(fl(r,n)),e.nonempty=r=>e.check(fl(1,r)),e.max=(r,n)=>e.check(F0(r,n)),e.length=(r,n)=>e.check(H0(r,n)),e.unwrap=()=>e.element});function sT(e,t){return KL(nT,e,t)}const oT=re("ZodObject",(e,t)=>{V2.init(e,t),Qe.init(e,t),e._zod.processJSONSchema=(r,n,s)=>oP(e,r,n,s),Le(e,"shape",()=>t.shape),e.keyof=()=>dT(Object.keys(e._zod.def.shape)),e.catchall=r=>e.clone({...e._zod.def,catchall:r}),e.passthrough=()=>e.clone({...e._zod.def,catchall:Y_()}),e.loose=()=>e.clone({...e._zod.def,catchall:Y_()}),e.strict=()=>e.clone({...e._zod.def,catchall:iT()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=r=>yk(e,r),e.safeExtend=r=>wk(e,r),e.merge=r=>Sk(e,r),e.pick=r=>vk(e,r),e.omit=r=>gk(e,r),e.partial=(...r)=>xk(K0,e,r[0]),e.required=(...r)=>bk(q0,e,r[0])});function aT(e,t){const r={type:"object",shape:e??{},..._e(t)};return new oT(r)}const lT=re("ZodUnion",(e,t)=>{K2.init(e,t),Qe.init(e,t),e._zod.processJSONSchema=(r,n,s)=>aP(e,r,n,s),e.options=t.options});function cT(e,t){return new lT({type:"union",options:e,..._e(t)})}const uT=re("ZodIntersection",(e,t)=>{q2.init(e,t),Qe.init(e,t),e._zod.processJSONSchema=(r,n,s)=>lP(e,r,n,s)});function hT(e,t){return new uT({type:"intersection",left:e,right:t})}const _l=re("ZodEnum",(e,t)=>{G2.init(e,t),Qe.init(e,t),e._zod.processJSONSchema=(n,s,a)=>rP(e,n,s),e.enum=t.entries,e.options=Object.values(t.entries);const r=new Set(Object.keys(t.entries));e.extract=(n,s)=>{const a={};for(const u of n)if(r.has(u))a[u]=t.entries[u];else throw new Error(`Key ${u} not found in enum`);return new _l({...t,checks:[],..._e(s),entries:a})},e.exclude=(n,s)=>{const a={...t.entries};for(const u of n)if(r.has(u))delete a[u];else throw new Error(`Key ${u} not found in enum`);return new _l({...t,checks:[],..._e(s),entries:a})}});function dT(e,t){const r=Array.isArray(e)?Object.fromEntries(e.map(n=>[n,n])):e;return new _l({type:"enum",entries:r,..._e(t)})}function fT(e,t){return new _l({type:"enum",entries:e,..._e(t)})}const pT=re("ZodTransform",(e,t)=>{J2.init(e,t),Qe.init(e,t),e._zod.processJSONSchema=(r,n,s)=>nP(e,r),e._zod.parse=(r,n)=>{if(n.direction==="backward")throw new C0(e.constructor.name);r.addIssue=a=>{if(typeof a=="string")r.issues.push(ao(a,r.value,t));else{const u=a;u.fatal&&(u.continue=!1),u.code??(u.code="custom"),u.input??(u.input=r.value),u.inst??(u.inst=e),r.issues.push(ao(u))}};const s=t.transform(r.value,r);return s instanceof Promise?s.then(a=>(r.value=a,r)):(r.value=s,r)}});function _T(e){return new pT({type:"transform",transform:e})}const K0=re("ZodOptional",(e,t)=>{j0.init(e,t),Qe.init(e,t),e._zod.processJSONSchema=(r,n,s)=>W0(e,r,n,s),e.unwrap=()=>e._zod.def.innerType});function Q_(e){return new K0({type:"optional",innerType:e})}const mT=re("ZodExactOptional",(e,t)=>{X2.init(e,t),Qe.init(e,t),e._zod.processJSONSchema=(r,n,s)=>W0(e,r,n,s),e.unwrap=()=>e._zod.def.innerType});function vT(e){return new mT({type:"optional",innerType:e})}const gT=re("ZodNullable",(e,t)=>{Y2.init(e,t),Qe.init(e,t),e._zod.processJSONSchema=(r,n,s)=>cP(e,r,n,s),e.unwrap=()=>e._zod.def.innerType});function em(e){return new gT({type:"nullable",innerType:e})}const yT=re("ZodDefault",(e,t)=>{Q2.init(e,t),Qe.init(e,t),e._zod.processJSONSchema=(r,n,s)=>hP(e,r,n,s),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function wT(e,t){return new yT({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():P0(t)}})}const ST=re("ZodPrefault",(e,t)=>{eL.init(e,t),Qe.init(e,t),e._zod.processJSONSchema=(r,n,s)=>dP(e,r,n,s),e.unwrap=()=>e._zod.def.innerType});function xT(e,t){return new ST({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():P0(t)}})}const q0=re("ZodNonOptional",(e,t)=>{tL.init(e,t),Qe.init(e,t),e._zod.processJSONSchema=(r,n,s)=>uP(e,r,n,s),e.unwrap=()=>e._zod.def.innerType});function bT(e,t){return new q0({type:"nonoptional",innerType:e,..._e(t)})}const CT=re("ZodCatch",(e,t)=>{rL.init(e,t),Qe.init(e,t),e._zod.processJSONSchema=(r,n,s)=>fP(e,r,n,s),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function ET(e,t){return new CT({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const kT=re("ZodPipe",(e,t)=>{iL.init(e,t),Qe.init(e,t),e._zod.processJSONSchema=(r,n,s)=>pP(e,r,n,s),e.in=t.in,e.out=t.out});function tm(e,t){return new kT({type:"pipe",in:e,out:t})}const LT=re("ZodReadonly",(e,t)=>{nL.init(e,t),Qe.init(e,t),e._zod.processJSONSchema=(r,n,s)=>_P(e,r,n,s),e.unwrap=()=>e._zod.def.innerType});function PT(e){return new LT({type:"readonly",innerType:e})}const TT=re("ZodCustom",(e,t)=>{sL.init(e,t),Qe.init(e,t),e._zod.processJSONSchema=(r,n,s)=>iP(e,r)});function RT(e,t={}){return qL(TT,e,t)}function OT(e){return GL(e)}var at=(e=>(e.OFFERER="OFFERER",e.SEEKER="SEEKER",e.ADMIN="ADMIN",e))(at||{});aT({email:da().email("Invalid email address"),password:da().min(8,"Password must be at least 8 characters"),name:da().optional(),companyName:da().min(2,"Company name is required"),role:fT(at)});const AT=({onSubmit:e})=>{const[t,r]=V.useState({email:"",password:"",name:"",companyName:"",role:at.SEEKER}),n="w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all";return T.jsxs("form",{onSubmit:s=>{s.preventDefault(),e(t)},className:"space-y-4",children:[T.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1 ml-1 uppercase tracking-wider",children:"Full Name"}),T.jsx("input",{type:"text",placeholder:"Aasim Mistry",className:n,onChange:s=>r({...t,name:s.target.value})})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1 ml-1 uppercase tracking-wider",children:"Company"}),T.jsx("input",{type:"text",placeholder:"DataGreen",className:n,onChange:s=>r({...t,companyName:s.target.value}),required:!0})]})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1 ml-1 uppercase tracking-wider",children:"Email"}),T.jsx("input",{type:"email",placeholder:"aasim@datagreen.cloud",className:n,onChange:s=>r({...t,email:s.target.value}),required:!0})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1 ml-1 uppercase tracking-wider",children:"Password"}),T.jsx("input",{type:"password",placeholder:"Min. 8 characters",className:n,onChange:s=>r({...t,password:s.target.value}),required:!0})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1 ml-1 uppercase tracking-wider",children:"I am a..."}),T.jsxs("select",{className:`${n} appearance-none cursor-pointer`,value:t.role,onChange:s=>r({...t,role:s.target.value}),children:[T.jsx("option",{value:at.SEEKER,className:"bg-slate-800 text-white",children:"Resource Seeker"}),T.jsx("option",{value:at.OFFERER,className:"bg-slate-800 text-white",children:"Resource Offerer"})]})]}),T.jsx("button",{type:"submit",className:"w-full mt-2 py-3 px-4 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-500 hover:to-indigo-500 text-white font-bold rounded-xl shadow-xl transition-all active:scale-[0.98]",children:"Create Account"})]})};function G0(e,t){const r=V.useRef(t);V.useEffect(function(){t!==r.current&&e.attributionControl!=null&&(r.current!=null&&e.attributionControl.removeAttribution(r.current),t!=null&&e.attributionControl.addAttribution(t)),r.current=t},[e,t])}const DT=1;function MT(e){return Object.freeze({__version:DT,map:e})}function NT(e,t){return Object.freeze({...e,...t})}const J0=V.createContext(null),X0=J0.Provider;function Y0(){const e=V.useContext(J0);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function IT(e){function t(r,n){const{instance:s,context:a}=e(r).current;return V.useImperativeHandle(n,()=>s),r.children==null?null:Bs.createElement(X0,{value:a},r.children)}return V.forwardRef(t)}function BT(e){function t(r,n){const[s,a]=V.useState(!1),{instance:u}=e(r,a).current;V.useImperativeHandle(n,()=>u),V.useEffect(function(){s&&u.update()},[u,s,r.children]);const l=u._contentNode;return l?Sg.createPortal(r.children,l):null}return V.forwardRef(t)}function zT(e){function t(r,n){const{instance:s}=e(r).current;return V.useImperativeHandle(n,()=>s),null}return V.forwardRef(t)}function Q0(e,t){const r=V.useRef();V.useEffect(function(){return t!=null&&e.instance.on(t),r.current=t,function(){r.current!=null&&e.instance.off(r.current),r.current=null}},[e,t])}function zd(e,t){const r=e.pane??t.pane;return r?{...e,pane:r}:e}function jT(e,t){return function(n,s){const a=Y0(),u=e(zd(n,a),a);return G0(a.map,n.attribution),Q0(u.current,n.eventHandlers),t(u.current,a,n,s),u}}var wh={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(r,n){n(t)})(Iw,function(r){var n="1.9.4";function s(i){var o,h,w,P;for(h=1,w=arguments.length;h<w;h++){P=arguments[h];for(o in P)i[o]=P[o]}return i}var a=Object.create||function(){function i(){}return function(o){return i.prototype=o,new i}}();function u(i,o){var h=Array.prototype.slice;if(i.bind)return i.bind.apply(i,h.call(arguments,1));var w=h.call(arguments,2);return function(){return i.apply(o,w.length?w.concat(h.call(arguments)):arguments)}}var l=0;function c(i){return"_leaflet_id"in i||(i._leaflet_id=++l),i._leaflet_id}function p(i,o,h){var w,P,M,U;return U=function(){w=!1,P&&(M.apply(h,P),P=!1)},M=function(){w?P=arguments:(i.apply(h,arguments),setTimeout(U,o),w=!0)},M}function g(i,o,h){var w=o[1],P=o[0],M=w-P;return i===w&&h?i:((i-P)%M+M)%M+P}function m(){return!1}function y(i,o){if(o===!1)return i;var h=Math.pow(10,o===void 0?6:o);return Math.round(i*h)/h}function b(i){return i.trim?i.trim():i.replace(/^\s+|\s+$/g,"")}function C(i){return b(i).split(/\s+/)}function x(i,o){Object.prototype.hasOwnProperty.call(i,"options")||(i.options=i.options?a(i.options):{});for(var h in o)i.options[h]=o[h];return i.options}function d(i,o,h){var w=[];for(var P in i)w.push(encodeURIComponent(h?P.toUpperCase():P)+"="+encodeURIComponent(i[P]));return(!o||o.indexOf("?")===-1?"?":"&")+w.join("&")}var _=/\{ *([\w_ -]+) *\}/g;function f(i,o){return i.replace(_,function(h,w){var P=o[w];if(P===void 0)throw new Error("No value provided for variable "+h);return typeof P=="function"&&(P=P(o)),P})}var v=Array.isArray||function(i){return Object.prototype.toString.call(i)==="[object Array]"};function S(i,o){for(var h=0;h<i.length;h++)if(i[h]===o)return h;return-1}var E="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function R(i){return window["webkit"+i]||window["moz"+i]||window["ms"+i]}var D=0;function k(i){var o=+new Date,h=Math.max(0,16-(o-D));return D=o+h,window.setTimeout(i,h)}var A=window.requestAnimationFrame||R("RequestAnimationFrame")||k,B=window.cancelAnimationFrame||R("CancelAnimationFrame")||R("CancelRequestAnimationFrame")||function(i){window.clearTimeout(i)};function H(i,o,h){if(h&&A===k)i.call(o);else return A.call(window,u(i,o))}function j(i){i&&B.call(window,i)}var $={__proto__:null,extend:s,create:a,bind:u,get lastId(){return l},stamp:c,throttle:p,wrapNum:g,falseFn:m,formatNum:y,trim:b,splitWords:C,setOptions:x,getParamString:d,template:f,isArray:v,indexOf:S,emptyImageUrl:E,requestFn:A,cancelFn:B,requestAnimFrame:H,cancelAnimFrame:j};function q(){}q.extend=function(i){var o=function(){x(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},h=o.__super__=this.prototype,w=a(h);w.constructor=o,o.prototype=w;for(var P in this)Object.prototype.hasOwnProperty.call(this,P)&&P!=="prototype"&&P!=="__super__"&&(o[P]=this[P]);return i.statics&&s(o,i.statics),i.includes&&(Q(i.includes),s.apply(null,[w].concat(i.includes))),s(w,i),delete w.statics,delete w.includes,w.options&&(w.options=h.options?a(h.options):{},s(w.options,i.options)),w._initHooks=[],w.callInitHooks=function(){if(!this._initHooksCalled){h.callInitHooks&&h.callInitHooks.call(this),this._initHooksCalled=!0;for(var M=0,U=w._initHooks.length;M<U;M++)w._initHooks[M].call(this)}},o},q.include=function(i){var o=this.prototype.options;return s(this.prototype,i),i.options&&(this.prototype.options=o,this.mergeOptions(i.options)),this},q.mergeOptions=function(i){return s(this.prototype.options,i),this},q.addInitHook=function(i){var o=Array.prototype.slice.call(arguments,1),h=typeof i=="function"?i:function(){this[i].apply(this,o)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(h),this};function Q(i){if(!(typeof L>"u"||!L||!L.Mixin)){i=v(i)?i:[i];for(var o=0;o<i.length;o++)i[o]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var X={on:function(i,o,h){if(typeof i=="object")for(var w in i)this._on(w,i[w],o);else{i=C(i);for(var P=0,M=i.length;P<M;P++)this._on(i[P],o,h)}return this},off:function(i,o,h){if(!arguments.length)delete this._events;else if(typeof i=="object")for(var w in i)this._off(w,i[w],o);else{i=C(i);for(var P=arguments.length===1,M=0,U=i.length;M<U;M++)P?this._off(i[M]):this._off(i[M],o,h)}return this},_on:function(i,o,h,w){if(typeof o!="function"){console.warn("wrong listener type: "+typeof o);return}if(this._listens(i,o,h)===!1){h===this&&(h=void 0);var P={fn:o,ctx:h};w&&(P.once=!0),this._events=this._events||{},this._events[i]=this._events[i]||[],this._events[i].push(P)}},_off:function(i,o,h){var w,P,M;if(this._events&&(w=this._events[i],!!w)){if(arguments.length===1){if(this._firingCount)for(P=0,M=w.length;P<M;P++)w[P].fn=m;delete this._events[i];return}if(typeof o!="function"){console.warn("wrong listener type: "+typeof o);return}var U=this._listens(i,o,h);if(U!==!1){var Z=w[U];this._firingCount&&(Z.fn=m,this._events[i]=w=w.slice()),w.splice(U,1)}}},fire:function(i,o,h){if(!this.listens(i,h))return this;var w=s({},o,{type:i,target:this,sourceTarget:o&&o.sourceTarget||this});if(this._events){var P=this._events[i];if(P){this._firingCount=this._firingCount+1||1;for(var M=0,U=P.length;M<U;M++){var Z=P[M],K=Z.fn;Z.once&&this.off(i,K,Z.ctx),K.call(Z.ctx||this,w)}this._firingCount--}}return h&&this._propagateEvent(w),this},listens:function(i,o,h,w){typeof i!="string"&&console.warn('"string" type argument expected');var P=o;typeof o!="function"&&(w=!!o,P=void 0,h=void 0);var M=this._events&&this._events[i];if(M&&M.length&&this._listens(i,P,h)!==!1)return!0;if(w){for(var U in this._eventParents)if(this._eventParents[U].listens(i,o,h,w))return!0}return!1},_listens:function(i,o,h){if(!this._events)return!1;var w=this._events[i]||[];if(!o)return!!w.length;h===this&&(h=void 0);for(var P=0,M=w.length;P<M;P++)if(w[P].fn===o&&w[P].ctx===h)return P;return!1},once:function(i,o,h){if(typeof i=="object")for(var w in i)this._on(w,i[w],o,!0);else{i=C(i);for(var P=0,M=i.length;P<M;P++)this._on(i[P],o,h,!0)}return this},addEventParent:function(i){return this._eventParents=this._eventParents||{},this._eventParents[c(i)]=i,this},removeEventParent:function(i){return this._eventParents&&delete this._eventParents[c(i)],this},_propagateEvent:function(i){for(var o in this._eventParents)this._eventParents[o].fire(i.type,s({layer:i.target,propagatedFrom:i.target},i),!0)}};X.addEventListener=X.on,X.removeEventListener=X.clearAllEventListeners=X.off,X.addOneTimeEventListener=X.once,X.fireEvent=X.fire,X.hasEventListeners=X.listens;var ee=q.extend(X);function O(i,o,h){this.x=h?Math.round(i):i,this.y=h?Math.round(o):o}var z=Math.trunc||function(i){return i>0?Math.floor(i):Math.ceil(i)};O.prototype={clone:function(){return new O(this.x,this.y)},add:function(i){return this.clone()._add(I(i))},_add:function(i){return this.x+=i.x,this.y+=i.y,this},subtract:function(i){return this.clone()._subtract(I(i))},_subtract:function(i){return this.x-=i.x,this.y-=i.y,this},divideBy:function(i){return this.clone()._divideBy(i)},_divideBy:function(i){return this.x/=i,this.y/=i,this},multiplyBy:function(i){return this.clone()._multiplyBy(i)},_multiplyBy:function(i){return this.x*=i,this.y*=i,this},scaleBy:function(i){return new O(this.x*i.x,this.y*i.y)},unscaleBy:function(i){return new O(this.x/i.x,this.y/i.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=z(this.x),this.y=z(this.y),this},distanceTo:function(i){i=I(i);var o=i.x-this.x,h=i.y-this.y;return Math.sqrt(o*o+h*h)},equals:function(i){return i=I(i),i.x===this.x&&i.y===this.y},contains:function(i){return i=I(i),Math.abs(i.x)<=Math.abs(this.x)&&Math.abs(i.y)<=Math.abs(this.y)},toString:function(){return"Point("+y(this.x)+", "+y(this.y)+")"}};function I(i,o,h){return i instanceof O?i:v(i)?new O(i[0],i[1]):i==null?i:typeof i=="object"&&"x"in i&&"y"in i?new O(i.x,i.y):new O(i,o,h)}function F(i,o){if(i)for(var h=o?[i,o]:i,w=0,P=h.length;w<P;w++)this.extend(h[w])}F.prototype={extend:function(i){var o,h;if(!i)return this;if(i instanceof O||typeof i[0]=="number"||"x"in i)o=h=I(i);else if(i=J(i),o=i.min,h=i.max,!o||!h)return this;return!this.min&&!this.max?(this.min=o.clone(),this.max=h.clone()):(this.min.x=Math.min(o.x,this.min.x),this.max.x=Math.max(h.x,this.max.x),this.min.y=Math.min(o.y,this.min.y),this.max.y=Math.max(h.y,this.max.y)),this},getCenter:function(i){return I((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,i)},getBottomLeft:function(){return I(this.min.x,this.max.y)},getTopRight:function(){return I(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(i){var o,h;return typeof i[0]=="number"||i instanceof O?i=I(i):i=J(i),i instanceof F?(o=i.min,h=i.max):o=h=i,o.x>=this.min.x&&h.x<=this.max.x&&o.y>=this.min.y&&h.y<=this.max.y},intersects:function(i){i=J(i);var o=this.min,h=this.max,w=i.min,P=i.max,M=P.x>=o.x&&w.x<=h.x,U=P.y>=o.y&&w.y<=h.y;return M&&U},overlaps:function(i){i=J(i);var o=this.min,h=this.max,w=i.min,P=i.max,M=P.x>o.x&&w.x<h.x,U=P.y>o.y&&w.y<h.y;return M&&U},isValid:function(){return!!(this.min&&this.max)},pad:function(i){var o=this.min,h=this.max,w=Math.abs(o.x-h.x)*i,P=Math.abs(o.y-h.y)*i;return J(I(o.x-w,o.y-P),I(h.x+w,h.y+P))},equals:function(i){return i?(i=J(i),this.min.equals(i.getTopLeft())&&this.max.equals(i.getBottomRight())):!1}};function J(i,o){return!i||i instanceof F?i:new F(i,o)}function ne(i,o){if(i)for(var h=o?[i,o]:i,w=0,P=h.length;w<P;w++)this.extend(h[w])}ne.prototype={extend:function(i){var o=this._southWest,h=this._northEast,w,P;if(i instanceof se)w=i,P=i;else if(i instanceof ne){if(w=i._southWest,P=i._northEast,!w||!P)return this}else return i?this.extend(ue(i)||ae(i)):this;return!o&&!h?(this._southWest=new se(w.lat,w.lng),this._northEast=new se(P.lat,P.lng)):(o.lat=Math.min(w.lat,o.lat),o.lng=Math.min(w.lng,o.lng),h.lat=Math.max(P.lat,h.lat),h.lng=Math.max(P.lng,h.lng)),this},pad:function(i){var o=this._southWest,h=this._northEast,w=Math.abs(o.lat-h.lat)*i,P=Math.abs(o.lng-h.lng)*i;return new ne(new se(o.lat-w,o.lng-P),new se(h.lat+w,h.lng+P))},getCenter:function(){return new se((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new se(this.getNorth(),this.getWest())},getSouthEast:function(){return new se(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(i){typeof i[0]=="number"||i instanceof se||"lat"in i?i=ue(i):i=ae(i);var o=this._southWest,h=this._northEast,w,P;return i instanceof ne?(w=i.getSouthWest(),P=i.getNorthEast()):w=P=i,w.lat>=o.lat&&P.lat<=h.lat&&w.lng>=o.lng&&P.lng<=h.lng},intersects:function(i){i=ae(i);var o=this._southWest,h=this._northEast,w=i.getSouthWest(),P=i.getNorthEast(),M=P.lat>=o.lat&&w.lat<=h.lat,U=P.lng>=o.lng&&w.lng<=h.lng;return M&&U},overlaps:function(i){i=ae(i);var o=this._southWest,h=this._northEast,w=i.getSouthWest(),P=i.getNorthEast(),M=P.lat>o.lat&&w.lat<h.lat,U=P.lng>o.lng&&w.lng<h.lng;return M&&U},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(i,o){return i?(i=ae(i),this._southWest.equals(i.getSouthWest(),o)&&this._northEast.equals(i.getNorthEast(),o)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ae(i,o){return i instanceof ne?i:new ne(i,o)}function se(i,o,h){if(isNaN(i)||isNaN(o))throw new Error("Invalid LatLng object: ("+i+", "+o+")");this.lat=+i,this.lng=+o,h!==void 0&&(this.alt=+h)}se.prototype={equals:function(i,o){if(!i)return!1;i=ue(i);var h=Math.max(Math.abs(this.lat-i.lat),Math.abs(this.lng-i.lng));return h<=(o===void 0?1e-9:o)},toString:function(i){return"LatLng("+y(this.lat,i)+", "+y(this.lng,i)+")"},distanceTo:function(i){return W.distance(this,ue(i))},wrap:function(){return W.wrapLatLng(this)},toBounds:function(i){var o=180*i/40075017,h=o/Math.cos(Math.PI/180*this.lat);return ae([this.lat-o,this.lng-h],[this.lat+o,this.lng+h])},clone:function(){return new se(this.lat,this.lng,this.alt)}};function ue(i,o,h){return i instanceof se?i:v(i)&&typeof i[0]!="object"?i.length===3?new se(i[0],i[1],i[2]):i.length===2?new se(i[0],i[1]):null:i==null?i:typeof i=="object"&&"lat"in i?new se(i.lat,"lng"in i?i.lng:i.lon,i.alt):o===void 0?null:new se(i,o,h)}var N={latLngToPoint:function(i,o){var h=this.projection.project(i),w=this.scale(o);return this.transformation._transform(h,w)},pointToLatLng:function(i,o){var h=this.scale(o),w=this.transformation.untransform(i,h);return this.projection.unproject(w)},project:function(i){return this.projection.project(i)},unproject:function(i){return this.projection.unproject(i)},scale:function(i){return 256*Math.pow(2,i)},zoom:function(i){return Math.log(i/256)/Math.LN2},getProjectedBounds:function(i){if(this.infinite)return null;var o=this.projection.bounds,h=this.scale(i),w=this.transformation.transform(o.min,h),P=this.transformation.transform(o.max,h);return new F(w,P)},infinite:!1,wrapLatLng:function(i){var o=this.wrapLng?g(i.lng,this.wrapLng,!0):i.lng,h=this.wrapLat?g(i.lat,this.wrapLat,!0):i.lat,w=i.alt;return new se(h,o,w)},wrapLatLngBounds:function(i){var o=i.getCenter(),h=this.wrapLatLng(o),w=o.lat-h.lat,P=o.lng-h.lng;if(w===0&&P===0)return i;var M=i.getSouthWest(),U=i.getNorthEast(),Z=new se(M.lat-w,M.lng-P),K=new se(U.lat-w,U.lng-P);return new ne(Z,K)}},W=s({},N,{wrapLng:[-180,180],R:6371e3,distance:function(i,o){var h=Math.PI/180,w=i.lat*h,P=o.lat*h,M=Math.sin((o.lat-i.lat)*h/2),U=Math.sin((o.lng-i.lng)*h/2),Z=M*M+Math.cos(w)*Math.cos(P)*U*U,K=2*Math.atan2(Math.sqrt(Z),Math.sqrt(1-Z));return this.R*K}}),te=6378137,Y={R:te,MAX_LATITUDE:85.0511287798,project:function(i){var o=Math.PI/180,h=this.MAX_LATITUDE,w=Math.max(Math.min(h,i.lat),-h),P=Math.sin(w*o);return new O(this.R*i.lng*o,this.R*Math.log((1+P)/(1-P))/2)},unproject:function(i){var o=180/Math.PI;return new se((2*Math.atan(Math.exp(i.y/this.R))-Math.PI/2)*o,i.x*o/this.R)},bounds:function(){var i=te*Math.PI;return new F([-i,-i],[i,i])}()};function me(i,o,h,w){if(v(i)){this._a=i[0],this._b=i[1],this._c=i[2],this._d=i[3];return}this._a=i,this._b=o,this._c=h,this._d=w}me.prototype={transform:function(i,o){return this._transform(i.clone(),o)},_transform:function(i,o){return o=o||1,i.x=o*(this._a*i.x+this._b),i.y=o*(this._c*i.y+this._d),i},untransform:function(i,o){return o=o||1,new O((i.x/o-this._b)/this._a,(i.y/o-this._d)/this._c)}};function le(i,o,h,w){return new me(i,o,h,w)}var Ce=s({},W,{code:"EPSG:3857",projection:Y,transformation:function(){var i=.5/(Math.PI*Y.R);return le(i,.5,-i,.5)}()}),Ge=s({},Ce,{code:"EPSG:900913"});function it(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function xr(i,o){var h="",w,P,M,U,Z,K;for(w=0,M=i.length;w<M;w++){for(Z=i[w],P=0,U=Z.length;P<U;P++)K=Z[P],h+=(P?"L":"M")+K.x+" "+K.y;h+=o?de.svg?"z":"x":""}return h||"M0 0"}var ge=document.documentElement.style,ur="ActiveXObject"in window,Kn=ur&&!document.addEventListener,Gi="msLaunchUri"in navigator&&!("documentMode"in document),yi=hr("webkit"),wi=hr("android"),mt=hr("android 2")||hr("android 3"),Si=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),jt=wi&&hr("Google")&&Si<537&&!("AudioNode"in window),br=!!window.opera,Ji=!Gi&&hr("chrome"),Jt=hr("gecko")&&!yi&&!br&&!ur,qn=!Ji&&hr("safari"),Xt=hr("phantom"),Zr="OTransition"in ge,Oe=navigator.platform.indexOf("Win")===0,Co=ur&&"transition"in ge,Xl="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!mt,Ud="MozPerspective"in ge,_y=!window.L_DISABLE_3D&&(Co||Xl||Ud)&&!Zr&&!Xt,Gn=typeof orientation<"u"||hr("mobile"),my=Gn&&yi,vy=Gn&&Xl,$d=!window.PointerEvent&&window.MSPointerEvent,Zd=!!(window.PointerEvent||$d),Wd="ontouchstart"in window||!!window.TouchEvent,gy=!window.L_NO_TOUCH&&(Wd||Zd),yy=Gn&&br,wy=Gn&&Jt,Sy=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,xy=function(){var i=!1;try{var o=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("testPassiveEventSupport",m,o),window.removeEventListener("testPassiveEventSupport",m,o)}catch{}return i}(),by=function(){return!!document.createElement("canvas").getContext}(),Yl=!!(document.createElementNS&&it("svg").createSVGRect),Cy=!!Yl&&function(){var i=document.createElement("div");return i.innerHTML="<svg/>",(i.firstChild&&i.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Ey=!Yl&&function(){try{var i=document.createElement("div");i.innerHTML='<v:shape adj="1"/>';var o=i.firstChild;return o.style.behavior="url(#default#VML)",o&&typeof o.adj=="object"}catch{return!1}}(),ky=navigator.platform.indexOf("Mac")===0,Ly=navigator.platform.indexOf("Linux")===0;function hr(i){return navigator.userAgent.toLowerCase().indexOf(i)>=0}var de={ie:ur,ielt9:Kn,edge:Gi,webkit:yi,android:wi,android23:mt,androidStock:jt,opera:br,chrome:Ji,gecko:Jt,safari:qn,phantom:Xt,opera12:Zr,win:Oe,ie3d:Co,webkit3d:Xl,gecko3d:Ud,any3d:_y,mobile:Gn,mobileWebkit:my,mobileWebkit3d:vy,msPointer:$d,pointer:Zd,touch:gy,touchNative:Wd,mobileOpera:yy,mobileGecko:wy,retina:Sy,passiveEvents:xy,canvas:by,svg:Yl,vml:Ey,inlineSvg:Cy,mac:ky,linux:Ly},Vd=de.msPointer?"MSPointerDown":"pointerdown",Kd=de.msPointer?"MSPointerMove":"pointermove",qd=de.msPointer?"MSPointerUp":"pointerup",Gd=de.msPointer?"MSPointerCancel":"pointercancel",Ql={touchstart:Vd,touchmove:Kd,touchend:qd,touchcancel:Gd},Jd={touchstart:Dy,touchmove:Eo,touchend:Eo,touchcancel:Eo},Xi={},Xd=!1;function Py(i,o,h){return o==="touchstart"&&Ay(),Jd[o]?(h=Jd[o].bind(this,h),i.addEventListener(Ql[o],h,!1),h):(console.warn("wrong event specified:",o),m)}function Ty(i,o,h){if(!Ql[o]){console.warn("wrong event specified:",o);return}i.removeEventListener(Ql[o],h,!1)}function Ry(i){Xi[i.pointerId]=i}function Oy(i){Xi[i.pointerId]&&(Xi[i.pointerId]=i)}function Yd(i){delete Xi[i.pointerId]}function Ay(){Xd||(document.addEventListener(Vd,Ry,!0),document.addEventListener(Kd,Oy,!0),document.addEventListener(qd,Yd,!0),document.addEventListener(Gd,Yd,!0),Xd=!0)}function Eo(i,o){if(o.pointerType!==(o.MSPOINTER_TYPE_MOUSE||"mouse")){o.touches=[];for(var h in Xi)o.touches.push(Xi[h]);o.changedTouches=[o],i(o)}}function Dy(i,o){o.MSPOINTER_TYPE_TOUCH&&o.pointerType===o.MSPOINTER_TYPE_TOUCH&&nt(o),Eo(i,o)}function My(i){var o={},h,w;for(w in i)h=i[w],o[w]=h&&h.bind?h.bind(i):h;return i=o,o.type="dblclick",o.detail=2,o.isTrusted=!1,o._simulated=!0,o}var Ny=200;function Iy(i,o){i.addEventListener("dblclick",o);var h=0,w;function P(M){if(M.detail!==1){w=M.detail;return}if(!(M.pointerType==="mouse"||M.sourceCapabilities&&!M.sourceCapabilities.firesTouchEvents)){var U=nf(M);if(!(U.some(function(K){return K instanceof HTMLLabelElement&&K.attributes.for})&&!U.some(function(K){return K instanceof HTMLInputElement||K instanceof HTMLSelectElement}))){var Z=Date.now();Z-h<=Ny?(w++,w===2&&o(My(M))):w=1,h=Z}}}return i.addEventListener("click",P),{dblclick:o,simDblclick:P}}function By(i,o){i.removeEventListener("dblclick",o.dblclick),i.removeEventListener("click",o.simDblclick)}var ec=Po(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Jn=Po(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Qd=Jn==="webkitTransition"||Jn==="OTransition"?Jn+"End":"transitionend";function ef(i){return typeof i=="string"?document.getElementById(i):i}function Xn(i,o){var h=i.style[o]||i.currentStyle&&i.currentStyle[o];if((!h||h==="auto")&&document.defaultView){var w=document.defaultView.getComputedStyle(i,null);h=w?w[o]:null}return h==="auto"?null:h}function ke(i,o,h){var w=document.createElement(i);return w.className=o||"",h&&h.appendChild(w),w}function Be(i){var o=i.parentNode;o&&o.removeChild(i)}function ko(i){for(;i.firstChild;)i.removeChild(i.firstChild)}function Yi(i){var o=i.parentNode;o&&o.lastChild!==i&&o.appendChild(i)}function Qi(i){var o=i.parentNode;o&&o.firstChild!==i&&o.insertBefore(i,o.firstChild)}function tc(i,o){if(i.classList!==void 0)return i.classList.contains(o);var h=Lo(i);return h.length>0&&new RegExp("(^|\\s)"+o+"(\\s|$)").test(h)}function ye(i,o){if(i.classList!==void 0)for(var h=C(o),w=0,P=h.length;w<P;w++)i.classList.add(h[w]);else if(!tc(i,o)){var M=Lo(i);rc(i,(M?M+" ":"")+o)}}function $e(i,o){i.classList!==void 0?i.classList.remove(o):rc(i,b((" "+Lo(i)+" ").replace(" "+o+" "," ")))}function rc(i,o){i.className.baseVal===void 0?i.className=o:i.className.baseVal=o}function Lo(i){return i.correspondingElement&&(i=i.correspondingElement),i.className.baseVal===void 0?i.className:i.className.baseVal}function Ft(i,o){"opacity"in i.style?i.style.opacity=o:"filter"in i.style&&zy(i,o)}function zy(i,o){var h=!1,w="DXImageTransform.Microsoft.Alpha";try{h=i.filters.item(w)}catch{if(o===1)return}o=Math.round(o*100),h?(h.Enabled=o!==100,h.Opacity=o):i.style.filter+=" progid:"+w+"(opacity="+o+")"}function Po(i){for(var o=document.documentElement.style,h=0;h<i.length;h++)if(i[h]in o)return i[h];return!1}function xi(i,o,h){var w=o||new O(0,0);i.style[ec]=(de.ie3d?"translate("+w.x+"px,"+w.y+"px)":"translate3d("+w.x+"px,"+w.y+"px,0)")+(h?" scale("+h+")":"")}function Ve(i,o){i._leaflet_pos=o,de.any3d?xi(i,o):(i.style.left=o.x+"px",i.style.top=o.y+"px")}function bi(i){return i._leaflet_pos||new O(0,0)}var Yn,Qn,ic;if("onselectstart"in document)Yn=function(){ve(window,"selectstart",nt)},Qn=function(){Te(window,"selectstart",nt)};else{var es=Po(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Yn=function(){if(es){var i=document.documentElement.style;ic=i[es],i[es]="none"}},Qn=function(){es&&(document.documentElement.style[es]=ic,ic=void 0)}}function nc(){ve(window,"dragstart",nt)}function sc(){Te(window,"dragstart",nt)}var To,oc;function ac(i){for(;i.tabIndex===-1;)i=i.parentNode;i.style&&(Ro(),To=i,oc=i.style.outlineStyle,i.style.outlineStyle="none",ve(window,"keydown",Ro))}function Ro(){To&&(To.style.outlineStyle=oc,To=void 0,oc=void 0,Te(window,"keydown",Ro))}function tf(i){do i=i.parentNode;while((!i.offsetWidth||!i.offsetHeight)&&i!==document.body);return i}function lc(i){var o=i.getBoundingClientRect();return{x:o.width/i.offsetWidth||1,y:o.height/i.offsetHeight||1,boundingClientRect:o}}var jy={__proto__:null,TRANSFORM:ec,TRANSITION:Jn,TRANSITION_END:Qd,get:ef,getStyle:Xn,create:ke,remove:Be,empty:ko,toFront:Yi,toBack:Qi,hasClass:tc,addClass:ye,removeClass:$e,setClass:rc,getClass:Lo,setOpacity:Ft,testProp:Po,setTransform:xi,setPosition:Ve,getPosition:bi,get disableTextSelection(){return Yn},get enableTextSelection(){return Qn},disableImageDrag:nc,enableImageDrag:sc,preventOutline:ac,restoreOutline:Ro,getSizedParentNode:tf,getScale:lc};function ve(i,o,h,w){if(o&&typeof o=="object")for(var P in o)uc(i,P,o[P],h);else{o=C(o);for(var M=0,U=o.length;M<U;M++)uc(i,o[M],h,w)}return this}var dr="_leaflet_events";function Te(i,o,h,w){if(arguments.length===1)rf(i),delete i[dr];else if(o&&typeof o=="object")for(var P in o)hc(i,P,o[P],h);else if(o=C(o),arguments.length===2)rf(i,function(Z){return S(o,Z)!==-1});else for(var M=0,U=o.length;M<U;M++)hc(i,o[M],h,w);return this}function rf(i,o){for(var h in i[dr]){var w=h.split(/\d/)[0];(!o||o(w))&&hc(i,w,null,null,h)}}var cc={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function uc(i,o,h,w){var P=o+c(h)+(w?"_"+c(w):"");if(i[dr]&&i[dr][P])return this;var M=function(Z){return h.call(w||i,Z||window.event)},U=M;!de.touchNative&&de.pointer&&o.indexOf("touch")===0?M=Py(i,o,M):de.touch&&o==="dblclick"?M=Iy(i,M):"addEventListener"in i?o==="touchstart"||o==="touchmove"||o==="wheel"||o==="mousewheel"?i.addEventListener(cc[o]||o,M,de.passiveEvents?{passive:!1}:!1):o==="mouseenter"||o==="mouseleave"?(M=function(Z){Z=Z||window.event,fc(i,Z)&&U(Z)},i.addEventListener(cc[o],M,!1)):i.addEventListener(o,U,!1):i.attachEvent("on"+o,M),i[dr]=i[dr]||{},i[dr][P]=M}function hc(i,o,h,w,P){P=P||o+c(h)+(w?"_"+c(w):"");var M=i[dr]&&i[dr][P];if(!M)return this;!de.touchNative&&de.pointer&&o.indexOf("touch")===0?Ty(i,o,M):de.touch&&o==="dblclick"?By(i,M):"removeEventListener"in i?i.removeEventListener(cc[o]||o,M,!1):i.detachEvent("on"+o,M),i[dr][P]=null}function Ci(i){return i.stopPropagation?i.stopPropagation():i.originalEvent?i.originalEvent._stopped=!0:i.cancelBubble=!0,this}function dc(i){return uc(i,"wheel",Ci),this}function ts(i){return ve(i,"mousedown touchstart dblclick contextmenu",Ci),i._leaflet_disable_click=!0,this}function nt(i){return i.preventDefault?i.preventDefault():i.returnValue=!1,this}function Ei(i){return nt(i),Ci(i),this}function nf(i){if(i.composedPath)return i.composedPath();for(var o=[],h=i.target;h;)o.push(h),h=h.parentNode;return o}function sf(i,o){if(!o)return new O(i.clientX,i.clientY);var h=lc(o),w=h.boundingClientRect;return new O((i.clientX-w.left)/h.x-o.clientLeft,(i.clientY-w.top)/h.y-o.clientTop)}var Fy=de.linux&&de.chrome?window.devicePixelRatio:de.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function of(i){return de.edge?i.wheelDeltaY/2:i.deltaY&&i.deltaMode===0?-i.deltaY/Fy:i.deltaY&&i.deltaMode===1?-i.deltaY*20:i.deltaY&&i.deltaMode===2?-i.deltaY*60:i.deltaX||i.deltaZ?0:i.wheelDelta?(i.wheelDeltaY||i.wheelDelta)/2:i.detail&&Math.abs(i.detail)<32765?-i.detail*20:i.detail?i.detail/-32765*60:0}function fc(i,o){var h=o.relatedTarget;if(!h)return!0;try{for(;h&&h!==i;)h=h.parentNode}catch{return!1}return h!==i}var Hy={__proto__:null,on:ve,off:Te,stopPropagation:Ci,disableScrollPropagation:dc,disableClickPropagation:ts,preventDefault:nt,stop:Ei,getPropagationPath:nf,getMousePosition:sf,getWheelDelta:of,isExternalTarget:fc,addListener:ve,removeListener:Te},af=ee.extend({run:function(i,o,h,w){this.stop(),this._el=i,this._inProgress=!0,this._duration=h||.25,this._easeOutPower=1/Math.max(w||.5,.2),this._startPos=bi(i),this._offset=o.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=H(this._animate,this),this._step()},_step:function(i){var o=+new Date-this._startTime,h=this._duration*1e3;o<h?this._runFrame(this._easeOut(o/h),i):(this._runFrame(1),this._complete())},_runFrame:function(i,o){var h=this._startPos.add(this._offset.multiplyBy(i));o&&h._round(),Ve(this._el,h),this.fire("step")},_complete:function(){j(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(i){return 1-Math.pow(1-i,this._easeOutPower)}}),be=ee.extend({options:{crs:Ce,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(i,o){o=x(this,o),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(i),this._initLayout(),this._onResize=u(this._onResize,this),this._initEvents(),o.maxBounds&&this.setMaxBounds(o.maxBounds),o.zoom!==void 0&&(this._zoom=this._limitZoom(o.zoom)),o.center&&o.zoom!==void 0&&this.setView(ue(o.center),o.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Jn&&de.any3d&&!de.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ve(this._proxy,Qd,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(i,o,h){if(o=o===void 0?this._zoom:this._limitZoom(o),i=this._limitCenter(ue(i),o,this.options.maxBounds),h=h||{},this._stop(),this._loaded&&!h.reset&&h!==!0){h.animate!==void 0&&(h.zoom=s({animate:h.animate},h.zoom),h.pan=s({animate:h.animate,duration:h.duration},h.pan));var w=this._zoom!==o?this._tryAnimatedZoom&&this._tryAnimatedZoom(i,o,h.zoom):this._tryAnimatedPan(i,h.pan);if(w)return clearTimeout(this._sizeTimer),this}return this._resetView(i,o,h.pan&&h.pan.noMoveStart),this},setZoom:function(i,o){return this._loaded?this.setView(this.getCenter(),i,{zoom:o}):(this._zoom=i,this)},zoomIn:function(i,o){return i=i||(de.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+i,o)},zoomOut:function(i,o){return i=i||(de.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-i,o)},setZoomAround:function(i,o,h){var w=this.getZoomScale(o),P=this.getSize().divideBy(2),M=i instanceof O?i:this.latLngToContainerPoint(i),U=M.subtract(P).multiplyBy(1-1/w),Z=this.containerPointToLatLng(P.add(U));return this.setView(Z,o,{zoom:h})},_getBoundsCenterZoom:function(i,o){o=o||{},i=i.getBounds?i.getBounds():ae(i);var h=I(o.paddingTopLeft||o.padding||[0,0]),w=I(o.paddingBottomRight||o.padding||[0,0]),P=this.getBoundsZoom(i,!1,h.add(w));if(P=typeof o.maxZoom=="number"?Math.min(o.maxZoom,P):P,P===1/0)return{center:i.getCenter(),zoom:P};var M=w.subtract(h).divideBy(2),U=this.project(i.getSouthWest(),P),Z=this.project(i.getNorthEast(),P),K=this.unproject(U.add(Z).divideBy(2).add(M),P);return{center:K,zoom:P}},fitBounds:function(i,o){if(i=ae(i),!i.isValid())throw new Error("Bounds are not valid.");var h=this._getBoundsCenterZoom(i,o);return this.setView(h.center,h.zoom,o)},fitWorld:function(i){return this.fitBounds([[-90,-180],[90,180]],i)},panTo:function(i,o){return this.setView(i,this._zoom,{pan:o})},panBy:function(i,o){if(i=I(i).round(),o=o||{},!i.x&&!i.y)return this.fire("moveend");if(o.animate!==!0&&!this.getSize().contains(i))return this._resetView(this.unproject(this.project(this.getCenter()).add(i)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new af,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),o.noMoveStart||this.fire("movestart"),o.animate!==!1){ye(this._mapPane,"leaflet-pan-anim");var h=this._getMapPanePos().subtract(i).round();this._panAnim.run(this._mapPane,h,o.duration||.25,o.easeLinearity)}else this._rawPanBy(i),this.fire("move").fire("moveend");return this},flyTo:function(i,o,h){if(h=h||{},h.animate===!1||!de.any3d)return this.setView(i,o,h);this._stop();var w=this.project(this.getCenter()),P=this.project(i),M=this.getSize(),U=this._zoom;i=ue(i),o=o===void 0?U:o;var Z=Math.max(M.x,M.y),K=Z*this.getZoomScale(U,o),ie=P.distanceTo(w)||1,ce=1.42,fe=ce*ce;function we(Ke){var Uo=Ke?-1:1,Tw=Ke?K:Z,Rw=K*K-Z*Z+Uo*fe*fe*ie*ie,Ow=2*Tw*fe*ie,Cc=Rw/Ow,Hf=Math.sqrt(Cc*Cc+1)-Cc,Aw=Hf<1e-9?-18:Math.log(Hf);return Aw}function vt(Ke){return(Math.exp(Ke)-Math.exp(-Ke))/2}function et(Ke){return(Math.exp(Ke)+Math.exp(-Ke))/2}function Ut(Ke){return vt(Ke)/et(Ke)}var Ct=we(0);function on(Ke){return Z*(et(Ct)/et(Ct+ce*Ke))}function Ew(Ke){return Z*(et(Ct)*Ut(Ct+ce*Ke)-vt(Ct))/fe}function kw(Ke){return 1-Math.pow(1-Ke,1.5)}var Lw=Date.now(),jf=(we(1)-Ct)/ce,Pw=h.duration?1e3*h.duration:1e3*jf*.8;function Ff(){var Ke=(Date.now()-Lw)/Pw,Uo=kw(Ke)*jf;Ke<=1?(this._flyToFrame=H(Ff,this),this._move(this.unproject(w.add(P.subtract(w).multiplyBy(Ew(Uo)/ie)),U),this.getScaleZoom(Z/on(Uo),U),{flyTo:!0})):this._move(i,o)._moveEnd(!0)}return this._moveStart(!0,h.noMoveStart),Ff.call(this),this},flyToBounds:function(i,o){var h=this._getBoundsCenterZoom(i,o);return this.flyTo(h.center,h.zoom,o)},setMaxBounds:function(i){return i=ae(i),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),i.isValid()?(this.options.maxBounds=i,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(i){var o=this.options.minZoom;return this.options.minZoom=i,this._loaded&&o!==i&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(i):this},setMaxZoom:function(i){var o=this.options.maxZoom;return this.options.maxZoom=i,this._loaded&&o!==i&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(i):this},panInsideBounds:function(i,o){this._enforcingBounds=!0;var h=this.getCenter(),w=this._limitCenter(h,this._zoom,ae(i));return h.equals(w)||this.panTo(w,o),this._enforcingBounds=!1,this},panInside:function(i,o){o=o||{};var h=I(o.paddingTopLeft||o.padding||[0,0]),w=I(o.paddingBottomRight||o.padding||[0,0]),P=this.project(this.getCenter()),M=this.project(i),U=this.getPixelBounds(),Z=J([U.min.add(h),U.max.subtract(w)]),K=Z.getSize();if(!Z.contains(M)){this._enforcingBounds=!0;var ie=M.subtract(Z.getCenter()),ce=Z.extend(M).getSize().subtract(K);P.x+=ie.x<0?-ce.x:ce.x,P.y+=ie.y<0?-ce.y:ce.y,this.panTo(this.unproject(P),o),this._enforcingBounds=!1}return this},invalidateSize:function(i){if(!this._loaded)return this;i=s({animate:!1,pan:!0},i===!0?{animate:!0}:i);var o=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var h=this.getSize(),w=o.divideBy(2).round(),P=h.divideBy(2).round(),M=w.subtract(P);return!M.x&&!M.y?this:(i.animate&&i.pan?this.panBy(M):(i.pan&&this._rawPanBy(M),this.fire("move"),i.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(u(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:o,newSize:h}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(i){if(i=this._locateOptions=s({timeout:1e4,watch:!1},i),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var o=u(this._handleGeolocationResponse,this),h=u(this._handleGeolocationError,this);return i.watch?this._locationWatchId=navigator.geolocation.watchPosition(o,h,i):navigator.geolocation.getCurrentPosition(o,h,i),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(i){if(this._container._leaflet_id){var o=i.code,h=i.message||(o===1?"permission denied":o===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:o,message:"Geolocation error: "+h+"."})}},_handleGeolocationResponse:function(i){if(this._container._leaflet_id){var o=i.coords.latitude,h=i.coords.longitude,w=new se(o,h),P=w.toBounds(i.coords.accuracy*2),M=this._locateOptions;if(M.setView){var U=this.getBoundsZoom(P);this.setView(w,M.maxZoom?Math.min(U,M.maxZoom):U)}var Z={latlng:w,bounds:P,timestamp:i.timestamp};for(var K in i.coords)typeof i.coords[K]=="number"&&(Z[K]=i.coords[K]);this.fire("locationfound",Z)}},addHandler:function(i,o){if(!o)return this;var h=this[i]=new o(this);return this._handlers.push(h),this.options[i]&&h.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Be(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(j(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var i;for(i in this._layers)this._layers[i].remove();for(i in this._panes)Be(this._panes[i]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(i,o){var h="leaflet-pane"+(i?" leaflet-"+i.replace("Pane","")+"-pane":""),w=ke("div",h,o||this._mapPane);return i&&(this._panes[i]=w),w},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var i=this.getPixelBounds(),o=this.unproject(i.getBottomLeft()),h=this.unproject(i.getTopRight());return new ne(o,h)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(i,o,h){i=ae(i),h=I(h||[0,0]);var w=this.getZoom()||0,P=this.getMinZoom(),M=this.getMaxZoom(),U=i.getNorthWest(),Z=i.getSouthEast(),K=this.getSize().subtract(h),ie=J(this.project(Z,w),this.project(U,w)).getSize(),ce=de.any3d?this.options.zoomSnap:1,fe=K.x/ie.x,we=K.y/ie.y,vt=o?Math.max(fe,we):Math.min(fe,we);return w=this.getScaleZoom(vt,w),ce&&(w=Math.round(w/(ce/100))*(ce/100),w=o?Math.ceil(w/ce)*ce:Math.floor(w/ce)*ce),Math.max(P,Math.min(M,w))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new O(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(i,o){var h=this._getTopLeftPoint(i,o);return new F(h,h.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(i){return this.options.crs.getProjectedBounds(i===void 0?this.getZoom():i)},getPane:function(i){return typeof i=="string"?this._panes[i]:i},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(i,o){var h=this.options.crs;return o=o===void 0?this._zoom:o,h.scale(i)/h.scale(o)},getScaleZoom:function(i,o){var h=this.options.crs;o=o===void 0?this._zoom:o;var w=h.zoom(i*h.scale(o));return isNaN(w)?1/0:w},project:function(i,o){return o=o===void 0?this._zoom:o,this.options.crs.latLngToPoint(ue(i),o)},unproject:function(i,o){return o=o===void 0?this._zoom:o,this.options.crs.pointToLatLng(I(i),o)},layerPointToLatLng:function(i){var o=I(i).add(this.getPixelOrigin());return this.unproject(o)},latLngToLayerPoint:function(i){var o=this.project(ue(i))._round();return o._subtract(this.getPixelOrigin())},wrapLatLng:function(i){return this.options.crs.wrapLatLng(ue(i))},wrapLatLngBounds:function(i){return this.options.crs.wrapLatLngBounds(ae(i))},distance:function(i,o){return this.options.crs.distance(ue(i),ue(o))},containerPointToLayerPoint:function(i){return I(i).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(i){return I(i).add(this._getMapPanePos())},containerPointToLatLng:function(i){var o=this.containerPointToLayerPoint(I(i));return this.layerPointToLatLng(o)},latLngToContainerPoint:function(i){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ue(i)))},mouseEventToContainerPoint:function(i){return sf(i,this._container)},mouseEventToLayerPoint:function(i){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(i))},mouseEventToLatLng:function(i){return this.layerPointToLatLng(this.mouseEventToLayerPoint(i))},_initContainer:function(i){var o=this._container=ef(i);if(o){if(o._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ve(o,"scroll",this._onScroll,this),this._containerId=c(o)},_initLayout:function(){var i=this._container;this._fadeAnimated=this.options.fadeAnimation&&de.any3d,ye(i,"leaflet-container"+(de.touch?" leaflet-touch":"")+(de.retina?" leaflet-retina":"")+(de.ielt9?" leaflet-oldie":"")+(de.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var o=Xn(i,"position");o!=="absolute"&&o!=="relative"&&o!=="fixed"&&o!=="sticky"&&(i.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var i=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ve(this._mapPane,new O(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ye(i.markerPane,"leaflet-zoom-hide"),ye(i.shadowPane,"leaflet-zoom-hide"))},_resetView:function(i,o,h){Ve(this._mapPane,new O(0,0));var w=!this._loaded;this._loaded=!0,o=this._limitZoom(o),this.fire("viewprereset");var P=this._zoom!==o;this._moveStart(P,h)._move(i,o)._moveEnd(P),this.fire("viewreset"),w&&this.fire("load")},_moveStart:function(i,o){return i&&this.fire("zoomstart"),o||this.fire("movestart"),this},_move:function(i,o,h,w){o===void 0&&(o=this._zoom);var P=this._zoom!==o;return this._zoom=o,this._lastCenter=i,this._pixelOrigin=this._getNewPixelOrigin(i),w?h&&h.pinch&&this.fire("zoom",h):((P||h&&h.pinch)&&this.fire("zoom",h),this.fire("move",h)),this},_moveEnd:function(i){return i&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return j(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(i){Ve(this._mapPane,this._getMapPanePos().subtract(i))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(i){this._targets={},this._targets[c(this._container)]=this;var o=i?Te:ve;o(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&o(window,"resize",this._onResize,this),de.any3d&&this.options.transform3DLimit&&(i?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){j(this._resizeRequest),this._resizeRequest=H(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var i=this._getMapPanePos();Math.max(Math.abs(i.x),Math.abs(i.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(i,o){for(var h=[],w,P=o==="mouseout"||o==="mouseover",M=i.target||i.srcElement,U=!1;M;){if(w=this._targets[c(M)],w&&(o==="click"||o==="preclick")&&this._draggableMoved(w)){U=!0;break}if(w&&w.listens(o,!0)&&(P&&!fc(M,i)||(h.push(w),P))||M===this._container)break;M=M.parentNode}return!h.length&&!U&&!P&&this.listens(o,!0)&&(h=[this]),h},_isClickDisabled:function(i){for(;i&&i!==this._container;){if(i._leaflet_disable_click)return!0;i=i.parentNode}},_handleDOMEvent:function(i){var o=i.target||i.srcElement;if(!(!this._loaded||o._leaflet_disable_events||i.type==="click"&&this._isClickDisabled(o))){var h=i.type;h==="mousedown"&&ac(o),this._fireDOMEvent(i,h)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(i,o,h){if(i.type==="click"){var w=s({},i);w.type="preclick",this._fireDOMEvent(w,w.type,h)}var P=this._findEventTargets(i,o);if(h){for(var M=[],U=0;U<h.length;U++)h[U].listens(o,!0)&&M.push(h[U]);P=M.concat(P)}if(P.length){o==="contextmenu"&&nt(i);var Z=P[0],K={originalEvent:i};if(i.type!=="keypress"&&i.type!=="keydown"&&i.type!=="keyup"){var ie=Z.getLatLng&&(!Z._radius||Z._radius<=10);K.containerPoint=ie?this.latLngToContainerPoint(Z.getLatLng()):this.mouseEventToContainerPoint(i),K.layerPoint=this.containerPointToLayerPoint(K.containerPoint),K.latlng=ie?Z.getLatLng():this.layerPointToLatLng(K.layerPoint)}for(U=0;U<P.length;U++)if(P[U].fire(o,K,!0),K.originalEvent._stopped||P[U].options.bubblingMouseEvents===!1&&S(this._mouseEvents,o)!==-1)return}},_draggableMoved:function(i){return i=i.dragging&&i.dragging.enabled()?i:this,i.dragging&&i.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var i=0,o=this._handlers.length;i<o;i++)this._handlers[i].disable()},whenReady:function(i,o){return this._loaded?i.call(o||this,{target:this}):this.on("load",i,o),this},_getMapPanePos:function(){return bi(this._mapPane)||new O(0,0)},_moved:function(){var i=this._getMapPanePos();return i&&!i.equals([0,0])},_getTopLeftPoint:function(i,o){var h=i&&o!==void 0?this._getNewPixelOrigin(i,o):this.getPixelOrigin();return h.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(i,o){var h=this.getSize()._divideBy(2);return this.project(i,o)._subtract(h)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(i,o,h){var w=this._getNewPixelOrigin(h,o);return this.project(i,o)._subtract(w)},_latLngBoundsToNewLayerBounds:function(i,o,h){var w=this._getNewPixelOrigin(h,o);return J([this.project(i.getSouthWest(),o)._subtract(w),this.project(i.getNorthWest(),o)._subtract(w),this.project(i.getSouthEast(),o)._subtract(w),this.project(i.getNorthEast(),o)._subtract(w)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(i){return this.latLngToLayerPoint(i).subtract(this._getCenterLayerPoint())},_limitCenter:function(i,o,h){if(!h)return i;var w=this.project(i,o),P=this.getSize().divideBy(2),M=new F(w.subtract(P),w.add(P)),U=this._getBoundsOffset(M,h,o);return Math.abs(U.x)<=1&&Math.abs(U.y)<=1?i:this.unproject(w.add(U),o)},_limitOffset:function(i,o){if(!o)return i;var h=this.getPixelBounds(),w=new F(h.min.add(i),h.max.add(i));return i.add(this._getBoundsOffset(w,o))},_getBoundsOffset:function(i,o,h){var w=J(this.project(o.getNorthEast(),h),this.project(o.getSouthWest(),h)),P=w.min.subtract(i.min),M=w.max.subtract(i.max),U=this._rebound(P.x,-M.x),Z=this._rebound(P.y,-M.y);return new O(U,Z)},_rebound:function(i,o){return i+o>0?Math.round(i-o)/2:Math.max(0,Math.ceil(i))-Math.max(0,Math.floor(o))},_limitZoom:function(i){var o=this.getMinZoom(),h=this.getMaxZoom(),w=de.any3d?this.options.zoomSnap:1;return w&&(i=Math.round(i/w)*w),Math.max(o,Math.min(h,i))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){$e(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(i,o){var h=this._getCenterOffset(i)._trunc();return(o&&o.animate)!==!0&&!this.getSize().contains(h)?!1:(this.panBy(h,o),!0)},_createAnimProxy:function(){var i=this._proxy=ke("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(i),this.on("zoomanim",function(o){var h=ec,w=this._proxy.style[h];xi(this._proxy,this.project(o.center,o.zoom),this.getZoomScale(o.zoom,1)),w===this._proxy.style[h]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Be(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var i=this.getCenter(),o=this.getZoom();xi(this._proxy,this.project(i,o),this.getZoomScale(o,1))},_catchTransitionEnd:function(i){this._animatingZoom&&i.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(i,o,h){if(this._animatingZoom)return!0;if(h=h||{},!this._zoomAnimated||h.animate===!1||this._nothingToAnimate()||Math.abs(o-this._zoom)>this.options.zoomAnimationThreshold)return!1;var w=this.getZoomScale(o),P=this._getCenterOffset(i)._divideBy(1-1/w);return h.animate!==!0&&!this.getSize().contains(P)?!1:(H(function(){this._moveStart(!0,h.noMoveStart||!1)._animateZoom(i,o,!0)},this),!0)},_animateZoom:function(i,o,h,w){this._mapPane&&(h&&(this._animatingZoom=!0,this._animateToCenter=i,this._animateToZoom=o,ye(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:i,zoom:o,noUpdate:w}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(u(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&$e(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Uy(i,o){return new be(i,o)}var Yt=q.extend({options:{position:"topright"},initialize:function(i){x(this,i)},getPosition:function(){return this.options.position},setPosition:function(i){var o=this._map;return o&&o.removeControl(this),this.options.position=i,o&&o.addControl(this),this},getContainer:function(){return this._container},addTo:function(i){this.remove(),this._map=i;var o=this._container=this.onAdd(i),h=this.getPosition(),w=i._controlCorners[h];return ye(o,"leaflet-control"),h.indexOf("bottom")!==-1?w.insertBefore(o,w.firstChild):w.appendChild(o),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Be(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(i){this._map&&i&&i.screenX>0&&i.screenY>0&&this._map.getContainer().focus()}}),rs=function(i){return new Yt(i)};be.include({addControl:function(i){return i.addTo(this),this},removeControl:function(i){return i.remove(),this},_initControlPos:function(){var i=this._controlCorners={},o="leaflet-",h=this._controlContainer=ke("div",o+"control-container",this._container);function w(P,M){var U=o+P+" "+o+M;i[P+M]=ke("div",U,h)}w("top","left"),w("top","right"),w("bottom","left"),w("bottom","right")},_clearControlPos:function(){for(var i in this._controlCorners)Be(this._controlCorners[i]);Be(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var lf=Yt.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(i,o,h,w){return h<w?-1:w<h?1:0}},initialize:function(i,o,h){x(this,h),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var w in i)this._addLayer(i[w],w);for(w in o)this._addLayer(o[w],w,!0)},onAdd:function(i){this._initLayout(),this._update(),this._map=i,i.on("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(i){return Yt.prototype.addTo.call(this,i),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var i=0;i<this._layers.length;i++)this._layers[i].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(i,o){return this._addLayer(i,o),this._map?this._update():this},addOverlay:function(i,o){return this._addLayer(i,o,!0),this._map?this._update():this},removeLayer:function(i){i.off("add remove",this._onLayerChange,this);var o=this._getLayer(c(i));return o&&this._layers.splice(this._layers.indexOf(o),1),this._map?this._update():this},expand:function(){ye(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var i=this._map.getSize().y-(this._container.offsetTop+50);return i<this._section.clientHeight?(ye(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=i+"px"):$e(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return $e(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var i="leaflet-control-layers",o=this._container=ke("div",i),h=this.options.collapsed;o.setAttribute("aria-haspopup",!0),ts(o),dc(o);var w=this._section=ke("section",i+"-list");h&&(this._map.on("click",this.collapse,this),ve(o,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var P=this._layersLink=ke("a",i+"-toggle",o);P.href="#",P.title="Layers",P.setAttribute("role","button"),ve(P,{keydown:function(M){M.keyCode===13&&this._expandSafely()},click:function(M){nt(M),this._expandSafely()}},this),h||this.expand(),this._baseLayersList=ke("div",i+"-base",w),this._separator=ke("div",i+"-separator",w),this._overlaysList=ke("div",i+"-overlays",w),o.appendChild(w)},_getLayer:function(i){for(var o=0;o<this._layers.length;o++)if(this._layers[o]&&c(this._layers[o].layer)===i)return this._layers[o]},_addLayer:function(i,o,h){this._map&&i.on("add remove",this._onLayerChange,this),this._layers.push({layer:i,name:o,overlay:h}),this.options.sortLayers&&this._layers.sort(u(function(w,P){return this.options.sortFunction(w.layer,P.layer,w.name,P.name)},this)),this.options.autoZIndex&&i.setZIndex&&(this._lastZIndex++,i.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ko(this._baseLayersList),ko(this._overlaysList),this._layerControlInputs=[];var i,o,h,w,P=0;for(h=0;h<this._layers.length;h++)w=this._layers[h],this._addItem(w),o=o||w.overlay,i=i||!w.overlay,P+=w.overlay?0:1;return this.options.hideSingleBase&&(i=i&&P>1,this._baseLayersList.style.display=i?"":"none"),this._separator.style.display=o&&i?"":"none",this},_onLayerChange:function(i){this._handlingClick||this._update();var o=this._getLayer(c(i.target)),h=o.overlay?i.type==="add"?"overlayadd":"overlayremove":i.type==="add"?"baselayerchange":null;h&&this._map.fire(h,o)},_createRadioElement:function(i,o){var h='<input type="radio" class="leaflet-control-layers-selector" name="'+i+'"'+(o?' checked="checked"':"")+"/>",w=document.createElement("div");return w.innerHTML=h,w.firstChild},_addItem:function(i){var o=document.createElement("label"),h=this._map.hasLayer(i.layer),w;i.overlay?(w=document.createElement("input"),w.type="checkbox",w.className="leaflet-control-layers-selector",w.defaultChecked=h):w=this._createRadioElement("leaflet-base-layers_"+c(this),h),this._layerControlInputs.push(w),w.layerId=c(i.layer),ve(w,"click",this._onInputClick,this);var P=document.createElement("span");P.innerHTML=" "+i.name;var M=document.createElement("span");o.appendChild(M),M.appendChild(w),M.appendChild(P);var U=i.overlay?this._overlaysList:this._baseLayersList;return U.appendChild(o),this._checkDisabledLayers(),o},_onInputClick:function(){if(!this._preventClick){var i=this._layerControlInputs,o,h,w=[],P=[];this._handlingClick=!0;for(var M=i.length-1;M>=0;M--)o=i[M],h=this._getLayer(o.layerId).layer,o.checked?w.push(h):o.checked||P.push(h);for(M=0;M<P.length;M++)this._map.hasLayer(P[M])&&this._map.removeLayer(P[M]);for(M=0;M<w.length;M++)this._map.hasLayer(w[M])||this._map.addLayer(w[M]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var i=this._layerControlInputs,o,h,w=this._map.getZoom(),P=i.length-1;P>=0;P--)o=i[P],h=this._getLayer(o.layerId).layer,o.disabled=h.options.minZoom!==void 0&&w<h.options.minZoom||h.options.maxZoom!==void 0&&w>h.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var i=this._section;this._preventClick=!0,ve(i,"click",nt),this.expand();var o=this;setTimeout(function(){Te(i,"click",nt),o._preventClick=!1})}}),$y=function(i,o,h){return new lf(i,o,h)},pc=Yt.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(i){var o="leaflet-control-zoom",h=ke("div",o+" leaflet-bar"),w=this.options;return this._zoomInButton=this._createButton(w.zoomInText,w.zoomInTitle,o+"-in",h,this._zoomIn),this._zoomOutButton=this._createButton(w.zoomOutText,w.zoomOutTitle,o+"-out",h,this._zoomOut),this._updateDisabled(),i.on("zoomend zoomlevelschange",this._updateDisabled,this),h},onRemove:function(i){i.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(i){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(i.shiftKey?3:1))},_zoomOut:function(i){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(i.shiftKey?3:1))},_createButton:function(i,o,h,w,P){var M=ke("a",h,w);return M.innerHTML=i,M.href="#",M.title=o,M.setAttribute("role","button"),M.setAttribute("aria-label",o),ts(M),ve(M,"click",Ei),ve(M,"click",P,this),ve(M,"click",this._refocusOnMap,this),M},_updateDisabled:function(){var i=this._map,o="leaflet-disabled";$e(this._zoomInButton,o),$e(this._zoomOutButton,o),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||i._zoom===i.getMinZoom())&&(ye(this._zoomOutButton,o),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||i._zoom===i.getMaxZoom())&&(ye(this._zoomInButton,o),this._zoomInButton.setAttribute("aria-disabled","true"))}});be.mergeOptions({zoomControl:!0}),be.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new pc,this.addControl(this.zoomControl))});var Zy=function(i){return new pc(i)},cf=Yt.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(i){var o="leaflet-control-scale",h=ke("div",o),w=this.options;return this._addScales(w,o+"-line",h),i.on(w.updateWhenIdle?"moveend":"move",this._update,this),i.whenReady(this._update,this),h},onRemove:function(i){i.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(i,o,h){i.metric&&(this._mScale=ke("div",o,h)),i.imperial&&(this._iScale=ke("div",o,h))},_update:function(){var i=this._map,o=i.getSize().y/2,h=i.distance(i.containerPointToLatLng([0,o]),i.containerPointToLatLng([this.options.maxWidth,o]));this._updateScales(h)},_updateScales:function(i){this.options.metric&&i&&this._updateMetric(i),this.options.imperial&&i&&this._updateImperial(i)},_updateMetric:function(i){var o=this._getRoundNum(i),h=o<1e3?o+" m":o/1e3+" km";this._updateScale(this._mScale,h,o/i)},_updateImperial:function(i){var o=i*3.2808399,h,w,P;o>5280?(h=o/5280,w=this._getRoundNum(h),this._updateScale(this._iScale,w+" mi",w/h)):(P=this._getRoundNum(o),this._updateScale(this._iScale,P+" ft",P/o))},_updateScale:function(i,o,h){i.style.width=Math.round(this.options.maxWidth*h)+"px",i.innerHTML=o},_getRoundNum:function(i){var o=Math.pow(10,(Math.floor(i)+"").length-1),h=i/o;return h=h>=10?10:h>=5?5:h>=3?3:h>=2?2:1,o*h}}),Wy=function(i){return new cf(i)},Vy='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',_c=Yt.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(de.inlineSvg?Vy+" ":"")+"Leaflet</a>"},initialize:function(i){x(this,i),this._attributions={}},onAdd:function(i){i.attributionControl=this,this._container=ke("div","leaflet-control-attribution"),ts(this._container);for(var o in i._layers)i._layers[o].getAttribution&&this.addAttribution(i._layers[o].getAttribution());return this._update(),i.on("layeradd",this._addAttribution,this),this._container},onRemove:function(i){i.off("layeradd",this._addAttribution,this)},_addAttribution:function(i){i.layer.getAttribution&&(this.addAttribution(i.layer.getAttribution()),i.layer.once("remove",function(){this.removeAttribution(i.layer.getAttribution())},this))},setPrefix:function(i){return this.options.prefix=i,this._update(),this},addAttribution:function(i){return i?(this._attributions[i]||(this._attributions[i]=0),this._attributions[i]++,this._update(),this):this},removeAttribution:function(i){return i?(this._attributions[i]&&(this._attributions[i]--,this._update()),this):this},_update:function(){if(this._map){var i=[];for(var o in this._attributions)this._attributions[o]&&i.push(o);var h=[];this.options.prefix&&h.push(this.options.prefix),i.length&&h.push(i.join(", ")),this._container.innerHTML=h.join(' <span aria-hidden="true">|</span> ')}}});be.mergeOptions({attributionControl:!0}),be.addInitHook(function(){this.options.attributionControl&&new _c().addTo(this)});var Ky=function(i){return new _c(i)};Yt.Layers=lf,Yt.Zoom=pc,Yt.Scale=cf,Yt.Attribution=_c,rs.layers=$y,rs.zoom=Zy,rs.scale=Wy,rs.attribution=Ky;var fr=q.extend({initialize:function(i){this._map=i},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});fr.addTo=function(i,o){return i.addHandler(o,this),this};var qy={Events:X},uf=de.touch?"touchstart mousedown":"mousedown",Wr=ee.extend({options:{clickTolerance:3},initialize:function(i,o,h,w){x(this,w),this._element=i,this._dragStartTarget=o||i,this._preventOutline=h},enable:function(){this._enabled||(ve(this._dragStartTarget,uf,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Wr._dragging===this&&this.finishDrag(!0),Te(this._dragStartTarget,uf,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(i){if(this._enabled&&(this._moved=!1,!tc(this._element,"leaflet-zoom-anim"))){if(i.touches&&i.touches.length!==1){Wr._dragging===this&&this.finishDrag();return}if(!(Wr._dragging||i.shiftKey||i.which!==1&&i.button!==1&&!i.touches)&&(Wr._dragging=this,this._preventOutline&&ac(this._element),nc(),Yn(),!this._moving)){this.fire("down");var o=i.touches?i.touches[0]:i,h=tf(this._element);this._startPoint=new O(o.clientX,o.clientY),this._startPos=bi(this._element),this._parentScale=lc(h);var w=i.type==="mousedown";ve(document,w?"mousemove":"touchmove",this._onMove,this),ve(document,w?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(i){if(this._enabled){if(i.touches&&i.touches.length>1){this._moved=!0;return}var o=i.touches&&i.touches.length===1?i.touches[0]:i,h=new O(o.clientX,o.clientY)._subtract(this._startPoint);!h.x&&!h.y||Math.abs(h.x)+Math.abs(h.y)<this.options.clickTolerance||(h.x/=this._parentScale.x,h.y/=this._parentScale.y,nt(i),this._moved||(this.fire("dragstart"),this._moved=!0,ye(document.body,"leaflet-dragging"),this._lastTarget=i.target||i.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ye(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(h),this._moving=!0,this._lastEvent=i,this._updatePosition())}},_updatePosition:function(){var i={originalEvent:this._lastEvent};this.fire("predrag",i),Ve(this._element,this._newPos),this.fire("drag",i)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(i){$e(document.body,"leaflet-dragging"),this._lastTarget&&($e(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Te(document,"mousemove touchmove",this._onMove,this),Te(document,"mouseup touchend touchcancel",this._onUp,this),sc(),Qn();var o=this._moved&&this._moving;this._moving=!1,Wr._dragging=!1,o&&this.fire("dragend",{noInertia:i,distance:this._newPos.distanceTo(this._startPos)})}});function hf(i,o,h){var w,P=[1,4,2,8],M,U,Z,K,ie,ce,fe,we;for(M=0,ce=i.length;M<ce;M++)i[M]._code=ki(i[M],o);for(Z=0;Z<4;Z++){for(fe=P[Z],w=[],M=0,ce=i.length,U=ce-1;M<ce;U=M++)K=i[M],ie=i[U],K._code&fe?ie._code&fe||(we=Oo(ie,K,fe,o,h),we._code=ki(we,o),w.push(we)):(ie._code&fe&&(we=Oo(ie,K,fe,o,h),we._code=ki(we,o),w.push(we)),w.push(K));i=w}return i}function df(i,o){var h,w,P,M,U,Z,K,ie,ce;if(!i||i.length===0)throw new Error("latlngs not passed");Ht(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var fe=ue([0,0]),we=ae(i),vt=we.getNorthWest().distanceTo(we.getSouthWest())*we.getNorthEast().distanceTo(we.getNorthWest());vt<1700&&(fe=mc(i));var et=i.length,Ut=[];for(h=0;h<et;h++){var Ct=ue(i[h]);Ut.push(o.project(ue([Ct.lat-fe.lat,Ct.lng-fe.lng])))}for(Z=K=ie=0,h=0,w=et-1;h<et;w=h++)P=Ut[h],M=Ut[w],U=P.y*M.x-M.y*P.x,K+=(P.x+M.x)*U,ie+=(P.y+M.y)*U,Z+=U*3;Z===0?ce=Ut[0]:ce=[K/Z,ie/Z];var on=o.unproject(I(ce));return ue([on.lat+fe.lat,on.lng+fe.lng])}function mc(i){for(var o=0,h=0,w=0,P=0;P<i.length;P++){var M=ue(i[P]);o+=M.lat,h+=M.lng,w++}return ue([o/w,h/w])}var Gy={__proto__:null,clipPolygon:hf,polygonCenter:df,centroid:mc};function ff(i,o){if(!o||!i.length)return i.slice();var h=o*o;return i=Yy(i,h),i=Xy(i,h),i}function pf(i,o,h){return Math.sqrt(is(i,o,h,!0))}function Jy(i,o,h){return is(i,o,h)}function Xy(i,o){var h=i.length,w=typeof Uint8Array<"u"?Uint8Array:Array,P=new w(h);P[0]=P[h-1]=1,vc(i,P,o,0,h-1);var M,U=[];for(M=0;M<h;M++)P[M]&&U.push(i[M]);return U}function vc(i,o,h,w,P){var M=0,U,Z,K;for(Z=w+1;Z<=P-1;Z++)K=is(i[Z],i[w],i[P],!0),K>M&&(U=Z,M=K);M>h&&(o[U]=1,vc(i,o,h,w,U),vc(i,o,h,U,P))}function Yy(i,o){for(var h=[i[0]],w=1,P=0,M=i.length;w<M;w++)Qy(i[w],i[P])>o&&(h.push(i[w]),P=w);return P<M-1&&h.push(i[M-1]),h}var _f;function mf(i,o,h,w,P){var M=w?_f:ki(i,h),U=ki(o,h),Z,K,ie;for(_f=U;;){if(!(M|U))return[i,o];if(M&U)return!1;Z=M||U,K=Oo(i,o,Z,h,P),ie=ki(K,h),Z===M?(i=K,M=ie):(o=K,U=ie)}}function Oo(i,o,h,w,P){var M=o.x-i.x,U=o.y-i.y,Z=w.min,K=w.max,ie,ce;return h&8?(ie=i.x+M*(K.y-i.y)/U,ce=K.y):h&4?(ie=i.x+M*(Z.y-i.y)/U,ce=Z.y):h&2?(ie=K.x,ce=i.y+U*(K.x-i.x)/M):h&1&&(ie=Z.x,ce=i.y+U*(Z.x-i.x)/M),new O(ie,ce,P)}function ki(i,o){var h=0;return i.x<o.min.x?h|=1:i.x>o.max.x&&(h|=2),i.y<o.min.y?h|=4:i.y>o.max.y&&(h|=8),h}function Qy(i,o){var h=o.x-i.x,w=o.y-i.y;return h*h+w*w}function is(i,o,h,w){var P=o.x,M=o.y,U=h.x-P,Z=h.y-M,K=U*U+Z*Z,ie;return K>0&&(ie=((i.x-P)*U+(i.y-M)*Z)/K,ie>1?(P=h.x,M=h.y):ie>0&&(P+=U*ie,M+=Z*ie)),U=i.x-P,Z=i.y-M,w?U*U+Z*Z:new O(P,M)}function Ht(i){return!v(i[0])||typeof i[0][0]!="object"&&typeof i[0][0]<"u"}function vf(i){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Ht(i)}function gf(i,o){var h,w,P,M,U,Z,K,ie;if(!i||i.length===0)throw new Error("latlngs not passed");Ht(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var ce=ue([0,0]),fe=ae(i),we=fe.getNorthWest().distanceTo(fe.getSouthWest())*fe.getNorthEast().distanceTo(fe.getNorthWest());we<1700&&(ce=mc(i));var vt=i.length,et=[];for(h=0;h<vt;h++){var Ut=ue(i[h]);et.push(o.project(ue([Ut.lat-ce.lat,Ut.lng-ce.lng])))}for(h=0,w=0;h<vt-1;h++)w+=et[h].distanceTo(et[h+1])/2;if(w===0)ie=et[0];else for(h=0,M=0;h<vt-1;h++)if(U=et[h],Z=et[h+1],P=U.distanceTo(Z),M+=P,M>w){K=(M-w)/P,ie=[Z.x-K*(Z.x-U.x),Z.y-K*(Z.y-U.y)];break}var Ct=o.unproject(I(ie));return ue([Ct.lat+ce.lat,Ct.lng+ce.lng])}var ew={__proto__:null,simplify:ff,pointToSegmentDistance:pf,closestPointOnSegment:Jy,clipSegment:mf,_getEdgeIntersection:Oo,_getBitCode:ki,_sqClosestPointOnSegment:is,isFlat:Ht,_flat:vf,polylineCenter:gf},gc={project:function(i){return new O(i.lng,i.lat)},unproject:function(i){return new se(i.y,i.x)},bounds:new F([-180,-90],[180,90])},yc={R:6378137,R_MINOR:6356752314245179e-9,bounds:new F([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(i){var o=Math.PI/180,h=this.R,w=i.lat*o,P=this.R_MINOR/h,M=Math.sqrt(1-P*P),U=M*Math.sin(w),Z=Math.tan(Math.PI/4-w/2)/Math.pow((1-U)/(1+U),M/2);return w=-h*Math.log(Math.max(Z,1e-10)),new O(i.lng*o*h,w)},unproject:function(i){for(var o=180/Math.PI,h=this.R,w=this.R_MINOR/h,P=Math.sqrt(1-w*w),M=Math.exp(-i.y/h),U=Math.PI/2-2*Math.atan(M),Z=0,K=.1,ie;Z<15&&Math.abs(K)>1e-7;Z++)ie=P*Math.sin(U),ie=Math.pow((1-ie)/(1+ie),P/2),K=Math.PI/2-2*Math.atan(M*ie)-U,U+=K;return new se(U*o,i.x*o/h)}},tw={__proto__:null,LonLat:gc,Mercator:yc,SphericalMercator:Y},rw=s({},W,{code:"EPSG:3395",projection:yc,transformation:function(){var i=.5/(Math.PI*yc.R);return le(i,.5,-i,.5)}()}),yf=s({},W,{code:"EPSG:4326",projection:gc,transformation:le(1/180,1,-1/180,.5)}),iw=s({},N,{projection:gc,transformation:le(1,0,-1,0),scale:function(i){return Math.pow(2,i)},zoom:function(i){return Math.log(i)/Math.LN2},distance:function(i,o){var h=o.lng-i.lng,w=o.lat-i.lat;return Math.sqrt(h*h+w*w)},infinite:!0});N.Earth=W,N.EPSG3395=rw,N.EPSG3857=Ce,N.EPSG900913=Ge,N.EPSG4326=yf,N.Simple=iw;var Qt=ee.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(i){return i.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(i){return i&&i.removeLayer(this),this},getPane:function(i){return this._map.getPane(i?this.options[i]||i:this.options.pane)},addInteractiveTarget:function(i){return this._map._targets[c(i)]=this,this},removeInteractiveTarget:function(i){return delete this._map._targets[c(i)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(i){var o=i.target;if(o.hasLayer(this)){if(this._map=o,this._zoomAnimated=o._zoomAnimated,this.getEvents){var h=this.getEvents();o.on(h,this),this.once("remove",function(){o.off(h,this)},this)}this.onAdd(o),this.fire("add"),o.fire("layeradd",{layer:this})}}});be.include({addLayer:function(i){if(!i._layerAdd)throw new Error("The provided object is not a Layer.");var o=c(i);return this._layers[o]?this:(this._layers[o]=i,i._mapToAdd=this,i.beforeAdd&&i.beforeAdd(this),this.whenReady(i._layerAdd,i),this)},removeLayer:function(i){var o=c(i);return this._layers[o]?(this._loaded&&i.onRemove(this),delete this._layers[o],this._loaded&&(this.fire("layerremove",{layer:i}),i.fire("remove")),i._map=i._mapToAdd=null,this):this},hasLayer:function(i){return c(i)in this._layers},eachLayer:function(i,o){for(var h in this._layers)i.call(o,this._layers[h]);return this},_addLayers:function(i){i=i?v(i)?i:[i]:[];for(var o=0,h=i.length;o<h;o++)this.addLayer(i[o])},_addZoomLimit:function(i){(!isNaN(i.options.maxZoom)||!isNaN(i.options.minZoom))&&(this._zoomBoundLayers[c(i)]=i,this._updateZoomLevels())},_removeZoomLimit:function(i){var o=c(i);this._zoomBoundLayers[o]&&(delete this._zoomBoundLayers[o],this._updateZoomLevels())},_updateZoomLevels:function(){var i=1/0,o=-1/0,h=this._getZoomSpan();for(var w in this._zoomBoundLayers){var P=this._zoomBoundLayers[w].options;i=P.minZoom===void 0?i:Math.min(i,P.minZoom),o=P.maxZoom===void 0?o:Math.max(o,P.maxZoom)}this._layersMaxZoom=o===-1/0?void 0:o,this._layersMinZoom=i===1/0?void 0:i,h!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var en=Qt.extend({initialize:function(i,o){x(this,o),this._layers={};var h,w;if(i)for(h=0,w=i.length;h<w;h++)this.addLayer(i[h])},addLayer:function(i){var o=this.getLayerId(i);return this._layers[o]=i,this._map&&this._map.addLayer(i),this},removeLayer:function(i){var o=i in this._layers?i:this.getLayerId(i);return this._map&&this._layers[o]&&this._map.removeLayer(this._layers[o]),delete this._layers[o],this},hasLayer:function(i){var o=typeof i=="number"?i:this.getLayerId(i);return o in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(i){var o=Array.prototype.slice.call(arguments,1),h,w;for(h in this._layers)w=this._layers[h],w[i]&&w[i].apply(w,o);return this},onAdd:function(i){this.eachLayer(i.addLayer,i)},onRemove:function(i){this.eachLayer(i.removeLayer,i)},eachLayer:function(i,o){for(var h in this._layers)i.call(o,this._layers[h]);return this},getLayer:function(i){return this._layers[i]},getLayers:function(){var i=[];return this.eachLayer(i.push,i),i},setZIndex:function(i){return this.invoke("setZIndex",i)},getLayerId:function(i){return c(i)}}),nw=function(i,o){return new en(i,o)},Cr=en.extend({addLayer:function(i){return this.hasLayer(i)?this:(i.addEventParent(this),en.prototype.addLayer.call(this,i),this.fire("layeradd",{layer:i}))},removeLayer:function(i){return this.hasLayer(i)?(i in this._layers&&(i=this._layers[i]),i.removeEventParent(this),en.prototype.removeLayer.call(this,i),this.fire("layerremove",{layer:i})):this},setStyle:function(i){return this.invoke("setStyle",i)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var i=new ne;for(var o in this._layers){var h=this._layers[o];i.extend(h.getBounds?h.getBounds():h.getLatLng())}return i}}),sw=function(i,o){return new Cr(i,o)},tn=q.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(i){x(this,i)},createIcon:function(i){return this._createIcon("icon",i)},createShadow:function(i){return this._createIcon("shadow",i)},_createIcon:function(i,o){var h=this._getIconUrl(i);if(!h){if(i==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var w=this._createImg(h,o&&o.tagName==="IMG"?o:null);return this._setIconStyles(w,i),(this.options.crossOrigin||this.options.crossOrigin==="")&&(w.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),w},_setIconStyles:function(i,o){var h=this.options,w=h[o+"Size"];typeof w=="number"&&(w=[w,w]);var P=I(w),M=I(o==="shadow"&&h.shadowAnchor||h.iconAnchor||P&&P.divideBy(2,!0));i.className="leaflet-marker-"+o+" "+(h.className||""),M&&(i.style.marginLeft=-M.x+"px",i.style.marginTop=-M.y+"px"),P&&(i.style.width=P.x+"px",i.style.height=P.y+"px")},_createImg:function(i,o){return o=o||document.createElement("img"),o.src=i,o},_getIconUrl:function(i){return de.retina&&this.options[i+"RetinaUrl"]||this.options[i+"Url"]}});function ow(i){return new tn(i)}var ns=tn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(i){return typeof ns.imagePath!="string"&&(ns.imagePath=this._detectIconPath()),(this.options.imagePath||ns.imagePath)+tn.prototype._getIconUrl.call(this,i)},_stripUrl:function(i){var o=function(h,w,P){var M=w.exec(h);return M&&M[P]};return i=o(i,/^url\((['"])?(.+)\1\)$/,2),i&&o(i,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var i=ke("div","leaflet-default-icon-path",document.body),o=Xn(i,"background-image")||Xn(i,"backgroundImage");if(document.body.removeChild(i),o=this._stripUrl(o),o)return o;var h=document.querySelector('link[href$="leaflet.css"]');return h?h.href.substring(0,h.href.length-11-1):""}}),wf=fr.extend({initialize:function(i){this._marker=i},addHooks:function(){var i=this._marker._icon;this._draggable||(this._draggable=new Wr(i,i,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ye(i,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&$e(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(i){var o=this._marker,h=o._map,w=this._marker.options.autoPanSpeed,P=this._marker.options.autoPanPadding,M=bi(o._icon),U=h.getPixelBounds(),Z=h.getPixelOrigin(),K=J(U.min._subtract(Z).add(P),U.max._subtract(Z).subtract(P));if(!K.contains(M)){var ie=I((Math.max(K.max.x,M.x)-K.max.x)/(U.max.x-K.max.x)-(Math.min(K.min.x,M.x)-K.min.x)/(U.min.x-K.min.x),(Math.max(K.max.y,M.y)-K.max.y)/(U.max.y-K.max.y)-(Math.min(K.min.y,M.y)-K.min.y)/(U.min.y-K.min.y)).multiplyBy(w);h.panBy(ie,{animate:!1}),this._draggable._newPos._add(ie),this._draggable._startPos._add(ie),Ve(o._icon,this._draggable._newPos),this._onDrag(i),this._panRequest=H(this._adjustPan.bind(this,i))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(i){this._marker.options.autoPan&&(j(this._panRequest),this._panRequest=H(this._adjustPan.bind(this,i)))},_onDrag:function(i){var o=this._marker,h=o._shadow,w=bi(o._icon),P=o._map.layerPointToLatLng(w);h&&Ve(h,w),o._latlng=P,i.latlng=P,i.oldLatLng=this._oldLatLng,o.fire("move",i).fire("drag",i)},_onDragEnd:function(i){j(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",i)}}),Ao=Qt.extend({options:{icon:new ns,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(i,o){x(this,o),this._latlng=ue(i)},onAdd:function(i){this._zoomAnimated=this._zoomAnimated&&i.options.markerZoomAnimation,this._zoomAnimated&&i.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(i){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&i.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(i){var o=this._latlng;return this._latlng=ue(i),this.update(),this.fire("move",{oldLatLng:o,latlng:this._latlng})},setZIndexOffset:function(i){return this.options.zIndexOffset=i,this.update()},getIcon:function(){return this.options.icon},setIcon:function(i){return this.options.icon=i,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var i=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(i)}return this},_initIcon:function(){var i=this.options,o="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),h=i.icon.createIcon(this._icon),w=!1;h!==this._icon&&(this._icon&&this._removeIcon(),w=!0,i.title&&(h.title=i.title),h.tagName==="IMG"&&(h.alt=i.alt||"")),ye(h,o),i.keyboard&&(h.tabIndex="0",h.setAttribute("role","button")),this._icon=h,i.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ve(h,"focus",this._panOnFocus,this);var P=i.icon.createShadow(this._shadow),M=!1;P!==this._shadow&&(this._removeShadow(),M=!0),P&&(ye(P,o),P.alt=""),this._shadow=P,i.opacity<1&&this._updateOpacity(),w&&this.getPane().appendChild(this._icon),this._initInteraction(),P&&M&&this.getPane(i.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Te(this._icon,"focus",this._panOnFocus,this),Be(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Be(this._shadow),this._shadow=null},_setPos:function(i){this._icon&&Ve(this._icon,i),this._shadow&&Ve(this._shadow,i),this._zIndex=i.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(i){this._icon&&(this._icon.style.zIndex=this._zIndex+i)},_animateZoom:function(i){var o=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center).round();this._setPos(o)},_initInteraction:function(){if(this.options.interactive&&(ye(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),wf)){var i=this.options.draggable;this.dragging&&(i=this.dragging.enabled(),this.dragging.disable()),this.dragging=new wf(this),i&&this.dragging.enable()}},setOpacity:function(i){return this.options.opacity=i,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var i=this.options.opacity;this._icon&&Ft(this._icon,i),this._shadow&&Ft(this._shadow,i)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var i=this._map;if(i){var o=this.options.icon.options,h=o.iconSize?I(o.iconSize):I(0,0),w=o.iconAnchor?I(o.iconAnchor):I(0,0);i.panInside(this._latlng,{paddingTopLeft:w,paddingBottomRight:h.subtract(w)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function aw(i,o){return new Ao(i,o)}var Vr=Qt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(i){this._renderer=i.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(i){return x(this,i),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&i&&Object.prototype.hasOwnProperty.call(i,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Do=Vr.extend({options:{fill:!0,radius:10},initialize:function(i,o){x(this,o),this._latlng=ue(i),this._radius=this.options.radius},setLatLng:function(i){var o=this._latlng;return this._latlng=ue(i),this.redraw(),this.fire("move",{oldLatLng:o,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(i){return this.options.radius=this._radius=i,this.redraw()},getRadius:function(){return this._radius},setStyle:function(i){var o=i&&i.radius||this._radius;return Vr.prototype.setStyle.call(this,i),this.setRadius(o),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var i=this._radius,o=this._radiusY||i,h=this._clickTolerance(),w=[i+h,o+h];this._pxBounds=new F(this._point.subtract(w),this._point.add(w))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(i){return i.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function lw(i,o){return new Do(i,o)}var wc=Do.extend({initialize:function(i,o,h){if(typeof o=="number"&&(o=s({},h,{radius:o})),x(this,o),this._latlng=ue(i),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(i){return this._mRadius=i,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var i=[this._radius,this._radiusY||this._radius];return new ne(this._map.layerPointToLatLng(this._point.subtract(i)),this._map.layerPointToLatLng(this._point.add(i)))},setStyle:Vr.prototype.setStyle,_project:function(){var i=this._latlng.lng,o=this._latlng.lat,h=this._map,w=h.options.crs;if(w.distance===W.distance){var P=Math.PI/180,M=this._mRadius/W.R/P,U=h.project([o+M,i]),Z=h.project([o-M,i]),K=U.add(Z).divideBy(2),ie=h.unproject(K).lat,ce=Math.acos((Math.cos(M*P)-Math.sin(o*P)*Math.sin(ie*P))/(Math.cos(o*P)*Math.cos(ie*P)))/P;(isNaN(ce)||ce===0)&&(ce=M/Math.cos(Math.PI/180*o)),this._point=K.subtract(h.getPixelOrigin()),this._radius=isNaN(ce)?0:K.x-h.project([ie,i-ce]).x,this._radiusY=K.y-U.y}else{var fe=w.unproject(w.project(this._latlng).subtract([this._mRadius,0]));this._point=h.latLngToLayerPoint(this._latlng),this._radius=this._point.x-h.latLngToLayerPoint(fe).x}this._updateBounds()}});function cw(i,o,h){return new wc(i,o,h)}var Er=Vr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(i,o){x(this,o),this._setLatLngs(i)},getLatLngs:function(){return this._latlngs},setLatLngs:function(i){return this._setLatLngs(i),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(i){for(var o=1/0,h=null,w=is,P,M,U=0,Z=this._parts.length;U<Z;U++)for(var K=this._parts[U],ie=1,ce=K.length;ie<ce;ie++){P=K[ie-1],M=K[ie];var fe=w(i,P,M,!0);fe<o&&(o=fe,h=w(i,P,M))}return h&&(h.distance=Math.sqrt(o)),h},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return gf(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(i,o){return o=o||this._defaultShape(),i=ue(i),o.push(i),this._bounds.extend(i),this.redraw()},_setLatLngs:function(i){this._bounds=new ne,this._latlngs=this._convertLatLngs(i)},_defaultShape:function(){return Ht(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(i){for(var o=[],h=Ht(i),w=0,P=i.length;w<P;w++)h?(o[w]=ue(i[w]),this._bounds.extend(o[w])):o[w]=this._convertLatLngs(i[w]);return o},_project:function(){var i=new F;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,i),this._bounds.isValid()&&i.isValid()&&(this._rawPxBounds=i,this._updateBounds())},_updateBounds:function(){var i=this._clickTolerance(),o=new O(i,i);this._rawPxBounds&&(this._pxBounds=new F([this._rawPxBounds.min.subtract(o),this._rawPxBounds.max.add(o)]))},_projectLatlngs:function(i,o,h){var w=i[0]instanceof se,P=i.length,M,U;if(w){for(U=[],M=0;M<P;M++)U[M]=this._map.latLngToLayerPoint(i[M]),h.extend(U[M]);o.push(U)}else for(M=0;M<P;M++)this._projectLatlngs(i[M],o,h)},_clipPoints:function(){var i=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}var o=this._parts,h,w,P,M,U,Z,K;for(h=0,P=0,M=this._rings.length;h<M;h++)for(K=this._rings[h],w=0,U=K.length;w<U-1;w++)Z=mf(K[w],K[w+1],i,w,!0),Z&&(o[P]=o[P]||[],o[P].push(Z[0]),(Z[1]!==K[w+1]||w===U-2)&&(o[P].push(Z[1]),P++))}},_simplifyPoints:function(){for(var i=this._parts,o=this.options.smoothFactor,h=0,w=i.length;h<w;h++)i[h]=ff(i[h],o)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(i,o){var h,w,P,M,U,Z,K=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(h=0,M=this._parts.length;h<M;h++)for(Z=this._parts[h],w=0,U=Z.length,P=U-1;w<U;P=w++)if(!(!o&&w===0)&&pf(i,Z[P],Z[w])<=K)return!0;return!1}});function uw(i,o){return new Er(i,o)}Er._flat=vf;var rn=Er.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return df(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(i){var o=Er.prototype._convertLatLngs.call(this,i),h=o.length;return h>=2&&o[0]instanceof se&&o[0].equals(o[h-1])&&o.pop(),o},_setLatLngs:function(i){Er.prototype._setLatLngs.call(this,i),Ht(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Ht(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var i=this._renderer._bounds,o=this.options.weight,h=new O(o,o);if(i=new F(i.min.subtract(h),i.max.add(h)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}for(var w=0,P=this._rings.length,M;w<P;w++)M=hf(this._rings[w],i,!0),M.length&&this._parts.push(M)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(i){var o=!1,h,w,P,M,U,Z,K,ie;if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(M=0,K=this._parts.length;M<K;M++)for(h=this._parts[M],U=0,ie=h.length,Z=ie-1;U<ie;Z=U++)w=h[U],P=h[Z],w.y>i.y!=P.y>i.y&&i.x<(P.x-w.x)*(i.y-w.y)/(P.y-w.y)+w.x&&(o=!o);return o||Er.prototype._containsPoint.call(this,i,!0)}});function hw(i,o){return new rn(i,o)}var kr=Cr.extend({initialize:function(i,o){x(this,o),this._layers={},i&&this.addData(i)},addData:function(i){var o=v(i)?i:i.features,h,w,P;if(o){for(h=0,w=o.length;h<w;h++)P=o[h],(P.geometries||P.geometry||P.features||P.coordinates)&&this.addData(P);return this}var M=this.options;if(M.filter&&!M.filter(i))return this;var U=Mo(i,M);return U?(U.feature=Bo(i),U.defaultOptions=U.options,this.resetStyle(U),M.onEachFeature&&M.onEachFeature(i,U),this.addLayer(U)):this},resetStyle:function(i){return i===void 0?this.eachLayer(this.resetStyle,this):(i.options=s({},i.defaultOptions),this._setLayerStyle(i,this.options.style),this)},setStyle:function(i){return this.eachLayer(function(o){this._setLayerStyle(o,i)},this)},_setLayerStyle:function(i,o){i.setStyle&&(typeof o=="function"&&(o=o(i.feature)),i.setStyle(o))}});function Mo(i,o){var h=i.type==="Feature"?i.geometry:i,w=h?h.coordinates:null,P=[],M=o&&o.pointToLayer,U=o&&o.coordsToLatLng||Sc,Z,K,ie,ce;if(!w&&!h)return null;switch(h.type){case"Point":return Z=U(w),Sf(M,i,Z,o);case"MultiPoint":for(ie=0,ce=w.length;ie<ce;ie++)Z=U(w[ie]),P.push(Sf(M,i,Z,o));return new Cr(P);case"LineString":case"MultiLineString":return K=No(w,h.type==="LineString"?0:1,U),new Er(K,o);case"Polygon":case"MultiPolygon":return K=No(w,h.type==="Polygon"?1:2,U),new rn(K,o);case"GeometryCollection":for(ie=0,ce=h.geometries.length;ie<ce;ie++){var fe=Mo({geometry:h.geometries[ie],type:"Feature",properties:i.properties},o);fe&&P.push(fe)}return new Cr(P);case"FeatureCollection":for(ie=0,ce=h.features.length;ie<ce;ie++){var we=Mo(h.features[ie],o);we&&P.push(we)}return new Cr(P);default:throw new Error("Invalid GeoJSON object.")}}function Sf(i,o,h,w){return i?i(o,h):new Ao(h,w&&w.markersInheritOptions&&w)}function Sc(i){return new se(i[1],i[0],i[2])}function No(i,o,h){for(var w=[],P=0,M=i.length,U;P<M;P++)U=o?No(i[P],o-1,h):(h||Sc)(i[P]),w.push(U);return w}function xc(i,o){return i=ue(i),i.alt!==void 0?[y(i.lng,o),y(i.lat,o),y(i.alt,o)]:[y(i.lng,o),y(i.lat,o)]}function Io(i,o,h,w){for(var P=[],M=0,U=i.length;M<U;M++)P.push(o?Io(i[M],Ht(i[M])?0:o-1,h,w):xc(i[M],w));return!o&&h&&P.length>0&&P.push(P[0].slice()),P}function nn(i,o){return i.feature?s({},i.feature,{geometry:o}):Bo(o)}function Bo(i){return i.type==="Feature"||i.type==="FeatureCollection"?i:{type:"Feature",properties:{},geometry:i}}var bc={toGeoJSON:function(i){return nn(this,{type:"Point",coordinates:xc(this.getLatLng(),i)})}};Ao.include(bc),wc.include(bc),Do.include(bc),Er.include({toGeoJSON:function(i){var o=!Ht(this._latlngs),h=Io(this._latlngs,o?1:0,!1,i);return nn(this,{type:(o?"Multi":"")+"LineString",coordinates:h})}}),rn.include({toGeoJSON:function(i){var o=!Ht(this._latlngs),h=o&&!Ht(this._latlngs[0]),w=Io(this._latlngs,h?2:o?1:0,!0,i);return o||(w=[w]),nn(this,{type:(h?"Multi":"")+"Polygon",coordinates:w})}}),en.include({toMultiPoint:function(i){var o=[];return this.eachLayer(function(h){o.push(h.toGeoJSON(i).geometry.coordinates)}),nn(this,{type:"MultiPoint",coordinates:o})},toGeoJSON:function(i){var o=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(o==="MultiPoint")return this.toMultiPoint(i);var h=o==="GeometryCollection",w=[];return this.eachLayer(function(P){if(P.toGeoJSON){var M=P.toGeoJSON(i);if(h)w.push(M.geometry);else{var U=Bo(M);U.type==="FeatureCollection"?w.push.apply(w,U.features):w.push(U)}}}),h?nn(this,{geometries:w,type:"GeometryCollection"}):{type:"FeatureCollection",features:w}}});function xf(i,o){return new kr(i,o)}var dw=xf,zo=Qt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(i,o,h){this._url=i,this._bounds=ae(o),x(this,h)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ye(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Be(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(i){return this.options.opacity=i,this._image&&this._updateOpacity(),this},setStyle:function(i){return i.opacity&&this.setOpacity(i.opacity),this},bringToFront:function(){return this._map&&Yi(this._image),this},bringToBack:function(){return this._map&&Qi(this._image),this},setUrl:function(i){return this._url=i,this._image&&(this._image.src=i),this},setBounds:function(i){return this._bounds=ae(i),this._map&&this._reset(),this},getEvents:function(){var i={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var i=this._url.tagName==="IMG",o=this._image=i?this._url:ke("img");if(ye(o,"leaflet-image-layer"),this._zoomAnimated&&ye(o,"leaflet-zoom-animated"),this.options.className&&ye(o,this.options.className),o.onselectstart=m,o.onmousemove=m,o.onload=u(this.fire,this,"load"),o.onerror=u(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(o.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),i){this._url=o.src;return}o.src=this._url,o.alt=this.options.alt},_animateZoom:function(i){var o=this._map.getZoomScale(i.zoom),h=this._map._latLngBoundsToNewLayerBounds(this._bounds,i.zoom,i.center).min;xi(this._image,h,o)},_reset:function(){var i=this._image,o=new F(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),h=o.getSize();Ve(i,o.min),i.style.width=h.x+"px",i.style.height=h.y+"px"},_updateOpacity:function(){Ft(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var i=this.options.errorOverlayUrl;i&&this._url!==i&&(this._url=i,this._image.src=i)},getCenter:function(){return this._bounds.getCenter()}}),fw=function(i,o,h){return new zo(i,o,h)},bf=zo.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var i=this._url.tagName==="VIDEO",o=this._image=i?this._url:ke("video");if(ye(o,"leaflet-image-layer"),this._zoomAnimated&&ye(o,"leaflet-zoom-animated"),this.options.className&&ye(o,this.options.className),o.onselectstart=m,o.onmousemove=m,o.onloadeddata=u(this.fire,this,"load"),i){for(var h=o.getElementsByTagName("source"),w=[],P=0;P<h.length;P++)w.push(h[P].src);this._url=h.length>0?w:[o.src];return}v(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(o.style,"objectFit")&&(o.style.objectFit="fill"),o.autoplay=!!this.options.autoplay,o.loop=!!this.options.loop,o.muted=!!this.options.muted,o.playsInline=!!this.options.playsInline;for(var M=0;M<this._url.length;M++){var U=ke("source");U.src=this._url[M],o.appendChild(U)}}});function pw(i,o,h){return new bf(i,o,h)}var Cf=zo.extend({_initImage:function(){var i=this._image=this._url;ye(i,"leaflet-image-layer"),this._zoomAnimated&&ye(i,"leaflet-zoom-animated"),this.options.className&&ye(i,this.options.className),i.onselectstart=m,i.onmousemove=m}});function _w(i,o,h){return new Cf(i,o,h)}var pr=Qt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(i,o){i&&(i instanceof se||v(i))?(this._latlng=ue(i),x(this,o)):(x(this,i),this._source=o),this.options.content&&(this._content=this.options.content)},openOn:function(i){return i=arguments.length?i:this._source._map,i.hasLayer(this)||i.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(i){return this._map?this.close():(arguments.length?this._source=i:i=this._source,this._prepareOpen(),this.openOn(i._map)),this},onAdd:function(i){this._zoomAnimated=i._zoomAnimated,this._container||this._initLayout(),i._fadeAnimated&&Ft(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),i._fadeAnimated&&Ft(this._container,1),this.bringToFront(),this.options.interactive&&(ye(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(i){i._fadeAnimated?(Ft(this._container,0),this._removeTimeout=setTimeout(u(Be,void 0,this._container),200)):Be(this._container),this.options.interactive&&($e(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(i){return this._latlng=ue(i),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(i){return this._content=i,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var i={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Yi(this._container),this},bringToBack:function(){return this._map&&Qi(this._container),this},_prepareOpen:function(i){var o=this._source;if(!o._map)return!1;if(o instanceof Cr){o=null;var h=this._source._layers;for(var w in h)if(h[w]._map){o=h[w];break}if(!o)return!1;this._source=o}if(!i)if(o.getCenter)i=o.getCenter();else if(o.getLatLng)i=o.getLatLng();else if(o.getBounds)i=o.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(i),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var i=this._contentNode,o=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof o=="string")i.innerHTML=o;else{for(;i.hasChildNodes();)i.removeChild(i.firstChild);i.appendChild(o)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var i=this._map.latLngToLayerPoint(this._latlng),o=I(this.options.offset),h=this._getAnchor();this._zoomAnimated?Ve(this._container,i.add(h)):o=o.add(i).add(h);var w=this._containerBottom=-o.y,P=this._containerLeft=-Math.round(this._containerWidth/2)+o.x;this._container.style.bottom=w+"px",this._container.style.left=P+"px"}},_getAnchor:function(){return[0,0]}});be.include({_initOverlay:function(i,o,h,w){var P=o;return P instanceof i||(P=new i(w).setContent(o)),h&&P.setLatLng(h),P}}),Qt.include({_initOverlay:function(i,o,h,w){var P=h;return P instanceof i?(x(P,w),P._source=this):(P=o&&!w?o:new i(w,this),P.setContent(h)),P}});var jo=pr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(i){return i=arguments.length?i:this._source._map,!i.hasLayer(this)&&i._popup&&i._popup.options.autoClose&&i.removeLayer(i._popup),i._popup=this,pr.prototype.openOn.call(this,i)},onAdd:function(i){pr.prototype.onAdd.call(this,i),i.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Vr||this._source.on("preclick",Ci))},onRemove:function(i){pr.prototype.onRemove.call(this,i),i.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Vr||this._source.off("preclick",Ci))},getEvents:function(){var i=pr.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(i.preclick=this.close),this.options.keepInView&&(i.moveend=this._adjustPan),i},_initLayout:function(){var i="leaflet-popup",o=this._container=ke("div",i+" "+(this.options.className||"")+" leaflet-zoom-animated"),h=this._wrapper=ke("div",i+"-content-wrapper",o);if(this._contentNode=ke("div",i+"-content",h),ts(o),dc(this._contentNode),ve(o,"contextmenu",Ci),this._tipContainer=ke("div",i+"-tip-container",o),this._tip=ke("div",i+"-tip",this._tipContainer),this.options.closeButton){var w=this._closeButton=ke("a",i+"-close-button",o);w.setAttribute("role","button"),w.setAttribute("aria-label","Close popup"),w.href="#close",w.innerHTML='<span aria-hidden="true">&#215;</span>',ve(w,"click",function(P){nt(P),this.close()},this)}},_updateLayout:function(){var i=this._contentNode,o=i.style;o.width="",o.whiteSpace="nowrap";var h=i.offsetWidth;h=Math.min(h,this.options.maxWidth),h=Math.max(h,this.options.minWidth),o.width=h+1+"px",o.whiteSpace="",o.height="";var w=i.offsetHeight,P=this.options.maxHeight,M="leaflet-popup-scrolled";P&&w>P?(o.height=P+"px",ye(i,M)):$e(i,M),this._containerWidth=this._container.offsetWidth},_animateZoom:function(i){var o=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center),h=this._getAnchor();Ve(this._container,o.add(h))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var i=this._map,o=parseInt(Xn(this._container,"marginBottom"),10)||0,h=this._container.offsetHeight+o,w=this._containerWidth,P=new O(this._containerLeft,-h-this._containerBottom);P._add(bi(this._container));var M=i.layerPointToContainerPoint(P),U=I(this.options.autoPanPadding),Z=I(this.options.autoPanPaddingTopLeft||U),K=I(this.options.autoPanPaddingBottomRight||U),ie=i.getSize(),ce=0,fe=0;M.x+w+K.x>ie.x&&(ce=M.x+w-ie.x+K.x),M.x-ce-Z.x<0&&(ce=M.x-Z.x),M.y+h+K.y>ie.y&&(fe=M.y+h-ie.y+K.y),M.y-fe-Z.y<0&&(fe=M.y-Z.y),(ce||fe)&&(this.options.keepInView&&(this._autopanning=!0),i.fire("autopanstart").panBy([ce,fe]))}},_getAnchor:function(){return I(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),mw=function(i,o){return new jo(i,o)};be.mergeOptions({closePopupOnClick:!0}),be.include({openPopup:function(i,o,h){return this._initOverlay(jo,i,o,h).openOn(this),this},closePopup:function(i){return i=arguments.length?i:this._popup,i&&i.close(),this}}),Qt.include({bindPopup:function(i,o){return this._popup=this._initOverlay(jo,this._popup,i,o),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(i){return this._popup&&(this instanceof Cr||(this._popup._source=this),this._popup._prepareOpen(i||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(i){return this._popup&&this._popup.setContent(i),this},getPopup:function(){return this._popup},_openPopup:function(i){if(!(!this._popup||!this._map)){Ei(i);var o=i.layer||i.target;if(this._popup._source===o&&!(o instanceof Vr)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(i.latlng);return}this._popup._source=o,this.openPopup(i.latlng)}},_movePopup:function(i){this._popup.setLatLng(i.latlng)},_onKeyPress:function(i){i.originalEvent.keyCode===13&&this._openPopup(i)}});var Fo=pr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(i){pr.prototype.onAdd.call(this,i),this.setOpacity(this.options.opacity),i.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(i){pr.prototype.onRemove.call(this,i),i.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var i=pr.prototype.getEvents.call(this);return this.options.permanent||(i.preclick=this.close),i},_initLayout:function(){var i="leaflet-tooltip",o=i+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ke("div",o),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+c(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(i){var o,h,w=this._map,P=this._container,M=w.latLngToContainerPoint(w.getCenter()),U=w.layerPointToContainerPoint(i),Z=this.options.direction,K=P.offsetWidth,ie=P.offsetHeight,ce=I(this.options.offset),fe=this._getAnchor();Z==="top"?(o=K/2,h=ie):Z==="bottom"?(o=K/2,h=0):Z==="center"?(o=K/2,h=ie/2):Z==="right"?(o=0,h=ie/2):Z==="left"?(o=K,h=ie/2):U.x<M.x?(Z="right",o=0,h=ie/2):(Z="left",o=K+(ce.x+fe.x)*2,h=ie/2),i=i.subtract(I(o,h,!0)).add(ce).add(fe),$e(P,"leaflet-tooltip-right"),$e(P,"leaflet-tooltip-left"),$e(P,"leaflet-tooltip-top"),$e(P,"leaflet-tooltip-bottom"),ye(P,"leaflet-tooltip-"+Z),Ve(P,i)},_updatePosition:function(){var i=this._map.latLngToLayerPoint(this._latlng);this._setPosition(i)},setOpacity:function(i){this.options.opacity=i,this._container&&Ft(this._container,i)},_animateZoom:function(i){var o=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center);this._setPosition(o)},_getAnchor:function(){return I(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),vw=function(i,o){return new Fo(i,o)};be.include({openTooltip:function(i,o,h){return this._initOverlay(Fo,i,o,h).openOn(this),this},closeTooltip:function(i){return i.close(),this}}),Qt.include({bindTooltip:function(i,o){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Fo,this._tooltip,i,o),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(i){if(!(!i&&this._tooltipHandlersAdded)){var o=i?"off":"on",h={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?h.add=this._openTooltip:(h.mouseover=this._openTooltip,h.mouseout=this.closeTooltip,h.click=this._openTooltip,this._map?this._addFocusListeners():h.add=this._addFocusListeners),this._tooltip.options.sticky&&(h.mousemove=this._moveTooltip),this[o](h),this._tooltipHandlersAdded=!i}},openTooltip:function(i){return this._tooltip&&(this instanceof Cr||(this._tooltip._source=this),this._tooltip._prepareOpen(i)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(i){return this._tooltip&&this._tooltip.setContent(i),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(i){var o=typeof i.getElement=="function"&&i.getElement();o&&(ve(o,"focus",function(){this._tooltip._source=i,this.openTooltip()},this),ve(o,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(i){var o=typeof i.getElement=="function"&&i.getElement();o&&o.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(i){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var o=this;this._map.once("moveend",function(){o._openOnceFlag=!1,o._openTooltip(i)});return}this._tooltip._source=i.layer||i.target,this.openTooltip(this._tooltip.options.sticky?i.latlng:void 0)}},_moveTooltip:function(i){var o=i.latlng,h,w;this._tooltip.options.sticky&&i.originalEvent&&(h=this._map.mouseEventToContainerPoint(i.originalEvent),w=this._map.containerPointToLayerPoint(h),o=this._map.layerPointToLatLng(w)),this._tooltip.setLatLng(o)}});var Ef=tn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(i){var o=i&&i.tagName==="DIV"?i:document.createElement("div"),h=this.options;if(h.html instanceof Element?(ko(o),o.appendChild(h.html)):o.innerHTML=h.html!==!1?h.html:"",h.bgPos){var w=I(h.bgPos);o.style.backgroundPosition=-w.x+"px "+-w.y+"px"}return this._setIconStyles(o,"icon"),o},createShadow:function(){return null}});function gw(i){return new Ef(i)}tn.Default=ns;var ss=Qt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:de.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(i){x(this,i)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(i){i._addZoomLimit(this)},onRemove:function(i){this._removeAllTiles(),Be(this._container),i._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Yi(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Qi(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(i){return this.options.opacity=i,this._updateOpacity(),this},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var i=this._clampZoom(this._map.getZoom());i!==this._tileZoom&&(this._tileZoom=i,this._updateLevels()),this._update()}return this},getEvents:function(){var i={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=p(this._onMoveEnd,this.options.updateInterval,this)),i.move=this._onMove),this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},createTile:function(){return document.createElement("div")},getTileSize:function(){var i=this.options.tileSize;return i instanceof O?i:new O(i,i)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(i){for(var o=this.getPane().children,h=-i(-1/0,1/0),w=0,P=o.length,M;w<P;w++)M=o[w].style.zIndex,o[w]!==this._container&&M&&(h=i(h,+M));isFinite(h)&&(this.options.zIndex=h+i(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!de.ielt9){Ft(this._container,this.options.opacity);var i=+new Date,o=!1,h=!1;for(var w in this._tiles){var P=this._tiles[w];if(!(!P.current||!P.loaded)){var M=Math.min(1,(i-P.loaded)/200);Ft(P.el,M),M<1?o=!0:(P.active?h=!0:this._onOpaqueTile(P),P.active=!0)}}h&&!this._noPrune&&this._pruneTiles(),o&&(j(this._fadeFrame),this._fadeFrame=H(this._updateOpacity,this))}},_onOpaqueTile:m,_initContainer:function(){this._container||(this._container=ke("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var i=this._tileZoom,o=this.options.maxZoom;if(i!==void 0){for(var h in this._levels)h=Number(h),this._levels[h].el.children.length||h===i?(this._levels[h].el.style.zIndex=o-Math.abs(i-h),this._onUpdateLevel(h)):(Be(this._levels[h].el),this._removeTilesAtZoom(h),this._onRemoveLevel(h),delete this._levels[h]);var w=this._levels[i],P=this._map;return w||(w=this._levels[i]={},w.el=ke("div","leaflet-tile-container leaflet-zoom-animated",this._container),w.el.style.zIndex=o,w.origin=P.project(P.unproject(P.getPixelOrigin()),i).round(),w.zoom=i,this._setZoomTransform(w,P.getCenter(),P.getZoom()),m(w.el.offsetWidth),this._onCreateLevel(w)),this._level=w,w}},_onUpdateLevel:m,_onRemoveLevel:m,_onCreateLevel:m,_pruneTiles:function(){if(this._map){var i,o,h=this._map.getZoom();if(h>this.options.maxZoom||h<this.options.minZoom){this._removeAllTiles();return}for(i in this._tiles)o=this._tiles[i],o.retain=o.current;for(i in this._tiles)if(o=this._tiles[i],o.current&&!o.active){var w=o.coords;this._retainParent(w.x,w.y,w.z,w.z-5)||this._retainChildren(w.x,w.y,w.z,w.z+2)}for(i in this._tiles)this._tiles[i].retain||this._removeTile(i)}},_removeTilesAtZoom:function(i){for(var o in this._tiles)this._tiles[o].coords.z===i&&this._removeTile(o)},_removeAllTiles:function(){for(var i in this._tiles)this._removeTile(i)},_invalidateAll:function(){for(var i in this._levels)Be(this._levels[i].el),this._onRemoveLevel(Number(i)),delete this._levels[i];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(i,o,h,w){var P=Math.floor(i/2),M=Math.floor(o/2),U=h-1,Z=new O(+P,+M);Z.z=+U;var K=this._tileCoordsToKey(Z),ie=this._tiles[K];return ie&&ie.active?(ie.retain=!0,!0):(ie&&ie.loaded&&(ie.retain=!0),U>w?this._retainParent(P,M,U,w):!1)},_retainChildren:function(i,o,h,w){for(var P=2*i;P<2*i+2;P++)for(var M=2*o;M<2*o+2;M++){var U=new O(P,M);U.z=h+1;var Z=this._tileCoordsToKey(U),K=this._tiles[Z];if(K&&K.active){K.retain=!0;continue}else K&&K.loaded&&(K.retain=!0);h+1<w&&this._retainChildren(P,M,h+1,w)}},_resetView:function(i){var o=i&&(i.pinch||i.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),o,o)},_animateZoom:function(i){this._setView(i.center,i.zoom,!0,i.noUpdate)},_clampZoom:function(i){var o=this.options;return o.minNativeZoom!==void 0&&i<o.minNativeZoom?o.minNativeZoom:o.maxNativeZoom!==void 0&&o.maxNativeZoom<i?o.maxNativeZoom:i},_setView:function(i,o,h,w){var P=Math.round(o);this.options.maxZoom!==void 0&&P>this.options.maxZoom||this.options.minZoom!==void 0&&P<this.options.minZoom?P=void 0:P=this._clampZoom(P);var M=this.options.updateWhenZooming&&P!==this._tileZoom;(!w||M)&&(this._tileZoom=P,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),P!==void 0&&this._update(i),h||this._pruneTiles(),this._noPrune=!!h),this._setZoomTransforms(i,o)},_setZoomTransforms:function(i,o){for(var h in this._levels)this._setZoomTransform(this._levels[h],i,o)},_setZoomTransform:function(i,o,h){var w=this._map.getZoomScale(h,i.zoom),P=i.origin.multiplyBy(w).subtract(this._map._getNewPixelOrigin(o,h)).round();de.any3d?xi(i.el,P,w):Ve(i.el,P)},_resetGrid:function(){var i=this._map,o=i.options.crs,h=this._tileSize=this.getTileSize(),w=this._tileZoom,P=this._map.getPixelWorldBounds(this._tileZoom);P&&(this._globalTileRange=this._pxBoundsToTileRange(P)),this._wrapX=o.wrapLng&&!this.options.noWrap&&[Math.floor(i.project([0,o.wrapLng[0]],w).x/h.x),Math.ceil(i.project([0,o.wrapLng[1]],w).x/h.y)],this._wrapY=o.wrapLat&&!this.options.noWrap&&[Math.floor(i.project([o.wrapLat[0],0],w).y/h.x),Math.ceil(i.project([o.wrapLat[1],0],w).y/h.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(i){var o=this._map,h=o._animatingZoom?Math.max(o._animateToZoom,o.getZoom()):o.getZoom(),w=o.getZoomScale(h,this._tileZoom),P=o.project(i,this._tileZoom).floor(),M=o.getSize().divideBy(w*2);return new F(P.subtract(M),P.add(M))},_update:function(i){var o=this._map;if(o){var h=this._clampZoom(o.getZoom());if(i===void 0&&(i=o.getCenter()),this._tileZoom!==void 0){var w=this._getTiledPixelBounds(i),P=this._pxBoundsToTileRange(w),M=P.getCenter(),U=[],Z=this.options.keepBuffer,K=new F(P.getBottomLeft().subtract([Z,-Z]),P.getTopRight().add([Z,-Z]));if(!(isFinite(P.min.x)&&isFinite(P.min.y)&&isFinite(P.max.x)&&isFinite(P.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ie in this._tiles){var ce=this._tiles[ie].coords;(ce.z!==this._tileZoom||!K.contains(new O(ce.x,ce.y)))&&(this._tiles[ie].current=!1)}if(Math.abs(h-this._tileZoom)>1){this._setView(i,h);return}for(var fe=P.min.y;fe<=P.max.y;fe++)for(var we=P.min.x;we<=P.max.x;we++){var vt=new O(we,fe);if(vt.z=this._tileZoom,!!this._isValidTile(vt)){var et=this._tiles[this._tileCoordsToKey(vt)];et?et.current=!0:U.push(vt)}}if(U.sort(function(Ct,on){return Ct.distanceTo(M)-on.distanceTo(M)}),U.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Ut=document.createDocumentFragment();for(we=0;we<U.length;we++)this._addTile(U[we],Ut);this._level.el.appendChild(Ut)}}}},_isValidTile:function(i){var o=this._map.options.crs;if(!o.infinite){var h=this._globalTileRange;if(!o.wrapLng&&(i.x<h.min.x||i.x>h.max.x)||!o.wrapLat&&(i.y<h.min.y||i.y>h.max.y))return!1}if(!this.options.bounds)return!0;var w=this._tileCoordsToBounds(i);return ae(this.options.bounds).overlaps(w)},_keyToBounds:function(i){return this._tileCoordsToBounds(this._keyToTileCoords(i))},_tileCoordsToNwSe:function(i){var o=this._map,h=this.getTileSize(),w=i.scaleBy(h),P=w.add(h),M=o.unproject(w,i.z),U=o.unproject(P,i.z);return[M,U]},_tileCoordsToBounds:function(i){var o=this._tileCoordsToNwSe(i),h=new ne(o[0],o[1]);return this.options.noWrap||(h=this._map.wrapLatLngBounds(h)),h},_tileCoordsToKey:function(i){return i.x+":"+i.y+":"+i.z},_keyToTileCoords:function(i){var o=i.split(":"),h=new O(+o[0],+o[1]);return h.z=+o[2],h},_removeTile:function(i){var o=this._tiles[i];o&&(Be(o.el),delete this._tiles[i],this.fire("tileunload",{tile:o.el,coords:this._keyToTileCoords(i)}))},_initTile:function(i){ye(i,"leaflet-tile");var o=this.getTileSize();i.style.width=o.x+"px",i.style.height=o.y+"px",i.onselectstart=m,i.onmousemove=m,de.ielt9&&this.options.opacity<1&&Ft(i,this.options.opacity)},_addTile:function(i,o){var h=this._getTilePos(i),w=this._tileCoordsToKey(i),P=this.createTile(this._wrapCoords(i),u(this._tileReady,this,i));this._initTile(P),this.createTile.length<2&&H(u(this._tileReady,this,i,null,P)),Ve(P,h),this._tiles[w]={el:P,coords:i,current:!0},o.appendChild(P),this.fire("tileloadstart",{tile:P,coords:i})},_tileReady:function(i,o,h){o&&this.fire("tileerror",{error:o,tile:h,coords:i});var w=this._tileCoordsToKey(i);h=this._tiles[w],h&&(h.loaded=+new Date,this._map._fadeAnimated?(Ft(h.el,0),j(this._fadeFrame),this._fadeFrame=H(this._updateOpacity,this)):(h.active=!0,this._pruneTiles()),o||(ye(h.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:h.el,coords:i})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),de.ielt9||!this._map._fadeAnimated?H(this._pruneTiles,this):setTimeout(u(this._pruneTiles,this),250)))},_getTilePos:function(i){return i.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(i){var o=new O(this._wrapX?g(i.x,this._wrapX):i.x,this._wrapY?g(i.y,this._wrapY):i.y);return o.z=i.z,o},_pxBoundsToTileRange:function(i){var o=this.getTileSize();return new F(i.min.unscaleBy(o).floor(),i.max.unscaleBy(o).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var i in this._tiles)if(!this._tiles[i].loaded)return!1;return!0}});function yw(i){return new ss(i)}var sn=ss.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(i,o){this._url=i,o=x(this,o),o.detectRetina&&de.retina&&o.maxZoom>0?(o.tileSize=Math.floor(o.tileSize/2),o.zoomReverse?(o.zoomOffset--,o.minZoom=Math.min(o.maxZoom,o.minZoom+1)):(o.zoomOffset++,o.maxZoom=Math.max(o.minZoom,o.maxZoom-1)),o.minZoom=Math.max(0,o.minZoom)):o.zoomReverse?o.minZoom=Math.min(o.maxZoom,o.minZoom):o.maxZoom=Math.max(o.minZoom,o.maxZoom),typeof o.subdomains=="string"&&(o.subdomains=o.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(i,o){return this._url===i&&o===void 0&&(o=!0),this._url=i,o||this.redraw(),this},createTile:function(i,o){var h=document.createElement("img");return ve(h,"load",u(this._tileOnLoad,this,o,h)),ve(h,"error",u(this._tileOnError,this,o,h)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(h.referrerPolicy=this.options.referrerPolicy),h.alt="",h.src=this.getTileUrl(i),h},getTileUrl:function(i){var o={r:de.retina?"@2x":"",s:this._getSubdomain(i),x:i.x,y:i.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var h=this._globalTileRange.max.y-i.y;this.options.tms&&(o.y=h),o["-y"]=h}return f(this._url,s(o,this.options))},_tileOnLoad:function(i,o){de.ielt9?setTimeout(u(i,this,null,o),0):i(null,o)},_tileOnError:function(i,o,h){var w=this.options.errorTileUrl;w&&o.getAttribute("src")!==w&&(o.src=w),i(h,o)},_onTileRemove:function(i){i.tile.onload=null},_getZoomForUrl:function(){var i=this._tileZoom,o=this.options.maxZoom,h=this.options.zoomReverse,w=this.options.zoomOffset;return h&&(i=o-i),i+w},_getSubdomain:function(i){var o=Math.abs(i.x+i.y)%this.options.subdomains.length;return this.options.subdomains[o]},_abortLoading:function(){var i,o;for(i in this._tiles)if(this._tiles[i].coords.z!==this._tileZoom&&(o=this._tiles[i].el,o.onload=m,o.onerror=m,!o.complete)){o.src=E;var h=this._tiles[i].coords;Be(o),delete this._tiles[i],this.fire("tileabort",{tile:o,coords:h})}},_removeTile:function(i){var o=this._tiles[i];if(o)return o.el.setAttribute("src",E),ss.prototype._removeTile.call(this,i)},_tileReady:function(i,o,h){if(!(!this._map||h&&h.getAttribute("src")===E))return ss.prototype._tileReady.call(this,i,o,h)}});function kf(i,o){return new sn(i,o)}var Lf=sn.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(i,o){this._url=i;var h=s({},this.defaultWmsParams);for(var w in o)w in this.options||(h[w]=o[w]);o=x(this,o);var P=o.detectRetina&&de.retina?2:1,M=this.getTileSize();h.width=M.x*P,h.height=M.y*P,this.wmsParams=h},onAdd:function(i){this._crs=this.options.crs||i.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var o=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[o]=this._crs.code,sn.prototype.onAdd.call(this,i)},getTileUrl:function(i){var o=this._tileCoordsToNwSe(i),h=this._crs,w=J(h.project(o[0]),h.project(o[1])),P=w.min,M=w.max,U=(this._wmsVersion>=1.3&&this._crs===yf?[P.y,P.x,M.y,M.x]:[P.x,P.y,M.x,M.y]).join(","),Z=sn.prototype.getTileUrl.call(this,i);return Z+d(this.wmsParams,Z,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+U},setParams:function(i,o){return s(this.wmsParams,i),o||this.redraw(),this}});function ww(i,o){return new Lf(i,o)}sn.WMS=Lf,kf.wms=ww;var Lr=Qt.extend({options:{padding:.1},initialize:function(i){x(this,i),c(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),ye(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var i={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(i.zoomanim=this._onAnimZoom),i},_onAnimZoom:function(i){this._updateTransform(i.center,i.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(i,o){var h=this._map.getZoomScale(o,this._zoom),w=this._map.getSize().multiplyBy(.5+this.options.padding),P=this._map.project(this._center,o),M=w.multiplyBy(-h).add(P).subtract(this._map._getNewPixelOrigin(i,o));de.any3d?xi(this._container,M,h):Ve(this._container,M)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var i in this._layers)this._layers[i]._reset()},_onZoomEnd:function(){for(var i in this._layers)this._layers[i]._project()},_updatePaths:function(){for(var i in this._layers)this._layers[i]._update()},_update:function(){var i=this.options.padding,o=this._map.getSize(),h=this._map.containerPointToLayerPoint(o.multiplyBy(-i)).round();this._bounds=new F(h,h.add(o.multiplyBy(1+i*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Pf=Lr.extend({options:{tolerance:0},getEvents:function(){var i=Lr.prototype.getEvents.call(this);return i.viewprereset=this._onViewPreReset,i},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Lr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var i=this._container=document.createElement("canvas");ve(i,"mousemove",this._onMouseMove,this),ve(i,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ve(i,"mouseout",this._handleMouseOut,this),i._leaflet_disable_events=!0,this._ctx=i.getContext("2d")},_destroyContainer:function(){j(this._redrawRequest),delete this._ctx,Be(this._container),Te(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var i;this._redrawBounds=null;for(var o in this._layers)i=this._layers[o],i._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Lr.prototype._update.call(this);var i=this._bounds,o=this._container,h=i.getSize(),w=de.retina?2:1;Ve(o,i.min),o.width=w*h.x,o.height=w*h.y,o.style.width=h.x+"px",o.style.height=h.y+"px",de.retina&&this._ctx.scale(2,2),this._ctx.translate(-i.min.x,-i.min.y),this.fire("update")}},_reset:function(){Lr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(i){this._updateDashArray(i),this._layers[c(i)]=i;var o=i._order={layer:i,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=o),this._drawLast=o,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(i){this._requestRedraw(i)},_removePath:function(i){var o=i._order,h=o.next,w=o.prev;h?h.prev=w:this._drawLast=w,w?w.next=h:this._drawFirst=h,delete i._order,delete this._layers[c(i)],this._requestRedraw(i)},_updatePath:function(i){this._extendRedrawBounds(i),i._project(),i._update(),this._requestRedraw(i)},_updateStyle:function(i){this._updateDashArray(i),this._requestRedraw(i)},_updateDashArray:function(i){if(typeof i.options.dashArray=="string"){var o=i.options.dashArray.split(/[, ]+/),h=[],w,P;for(P=0;P<o.length;P++){if(w=Number(o[P]),isNaN(w))return;h.push(w)}i.options._dashArray=h}else i.options._dashArray=i.options.dashArray},_requestRedraw:function(i){this._map&&(this._extendRedrawBounds(i),this._redrawRequest=this._redrawRequest||H(this._redraw,this))},_extendRedrawBounds:function(i){if(i._pxBounds){var o=(i.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new F,this._redrawBounds.extend(i._pxBounds.min.subtract([o,o])),this._redrawBounds.extend(i._pxBounds.max.add([o,o]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var i=this._redrawBounds;if(i){var o=i.getSize();this._ctx.clearRect(i.min.x,i.min.y,o.x,o.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var i,o=this._redrawBounds;if(this._ctx.save(),o){var h=o.getSize();this._ctx.beginPath(),this._ctx.rect(o.min.x,o.min.y,h.x,h.y),this._ctx.clip()}this._drawing=!0;for(var w=this._drawFirst;w;w=w.next)i=w.layer,(!o||i._pxBounds&&i._pxBounds.intersects(o))&&i._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(i,o){if(this._drawing){var h,w,P,M,U=i._parts,Z=U.length,K=this._ctx;if(Z){for(K.beginPath(),h=0;h<Z;h++){for(w=0,P=U[h].length;w<P;w++)M=U[h][w],K[w?"lineTo":"moveTo"](M.x,M.y);o&&K.closePath()}this._fillStroke(K,i)}}},_updateCircle:function(i){if(!(!this._drawing||i._empty())){var o=i._point,h=this._ctx,w=Math.max(Math.round(i._radius),1),P=(Math.max(Math.round(i._radiusY),1)||w)/w;P!==1&&(h.save(),h.scale(1,P)),h.beginPath(),h.arc(o.x,o.y/P,w,0,Math.PI*2,!1),P!==1&&h.restore(),this._fillStroke(h,i)}},_fillStroke:function(i,o){var h=o.options;h.fill&&(i.globalAlpha=h.fillOpacity,i.fillStyle=h.fillColor||h.color,i.fill(h.fillRule||"evenodd")),h.stroke&&h.weight!==0&&(i.setLineDash&&i.setLineDash(o.options&&o.options._dashArray||[]),i.globalAlpha=h.opacity,i.lineWidth=h.weight,i.strokeStyle=h.color,i.lineCap=h.lineCap,i.lineJoin=h.lineJoin,i.stroke())},_onClick:function(i){for(var o=this._map.mouseEventToLayerPoint(i),h,w,P=this._drawFirst;P;P=P.next)h=P.layer,h.options.interactive&&h._containsPoint(o)&&(!(i.type==="click"||i.type==="preclick")||!this._map._draggableMoved(h))&&(w=h);this._fireEvent(w?[w]:!1,i)},_onMouseMove:function(i){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var o=this._map.mouseEventToLayerPoint(i);this._handleMouseHover(i,o)}},_handleMouseOut:function(i){var o=this._hoveredLayer;o&&($e(this._container,"leaflet-interactive"),this._fireEvent([o],i,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(i,o){if(!this._mouseHoverThrottled){for(var h,w,P=this._drawFirst;P;P=P.next)h=P.layer,h.options.interactive&&h._containsPoint(o)&&(w=h);w!==this._hoveredLayer&&(this._handleMouseOut(i),w&&(ye(this._container,"leaflet-interactive"),this._fireEvent([w],i,"mouseover"),this._hoveredLayer=w)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,i),this._mouseHoverThrottled=!0,setTimeout(u(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(i,o,h){this._map._fireDOMEvent(o,h||o.type,i)},_bringToFront:function(i){var o=i._order;if(o){var h=o.next,w=o.prev;if(h)h.prev=w;else return;w?w.next=h:h&&(this._drawFirst=h),o.prev=this._drawLast,this._drawLast.next=o,o.next=null,this._drawLast=o,this._requestRedraw(i)}},_bringToBack:function(i){var o=i._order;if(o){var h=o.next,w=o.prev;if(w)w.next=h;else return;h?h.prev=w:w&&(this._drawLast=w),o.prev=null,o.next=this._drawFirst,this._drawFirst.prev=o,this._drawFirst=o,this._requestRedraw(i)}}});function Tf(i){return de.canvas?new Pf(i):null}var os=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(i){return document.createElement("<lvml:"+i+' class="lvml">')}}catch{}return function(i){return document.createElement("<"+i+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Sw={_initContainer:function(){this._container=ke("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Lr.prototype._update.call(this),this.fire("update"))},_initPath:function(i){var o=i._container=os("shape");ye(o,"leaflet-vml-shape "+(this.options.className||"")),o.coordsize="1 1",i._path=os("path"),o.appendChild(i._path),this._updateStyle(i),this._layers[c(i)]=i},_addPath:function(i){var o=i._container;this._container.appendChild(o),i.options.interactive&&i.addInteractiveTarget(o)},_removePath:function(i){var o=i._container;Be(o),i.removeInteractiveTarget(o),delete this._layers[c(i)]},_updateStyle:function(i){var o=i._stroke,h=i._fill,w=i.options,P=i._container;P.stroked=!!w.stroke,P.filled=!!w.fill,w.stroke?(o||(o=i._stroke=os("stroke")),P.appendChild(o),o.weight=w.weight+"px",o.color=w.color,o.opacity=w.opacity,w.dashArray?o.dashStyle=v(w.dashArray)?w.dashArray.join(" "):w.dashArray.replace(/( *, *)/g," "):o.dashStyle="",o.endcap=w.lineCap.replace("butt","flat"),o.joinstyle=w.lineJoin):o&&(P.removeChild(o),i._stroke=null),w.fill?(h||(h=i._fill=os("fill")),P.appendChild(h),h.color=w.fillColor||w.color,h.opacity=w.fillOpacity):h&&(P.removeChild(h),i._fill=null)},_updateCircle:function(i){var o=i._point.round(),h=Math.round(i._radius),w=Math.round(i._radiusY||h);this._setPath(i,i._empty()?"M0 0":"AL "+o.x+","+o.y+" "+h+","+w+" 0,"+65535*360)},_setPath:function(i,o){i._path.v=o},_bringToFront:function(i){Yi(i._container)},_bringToBack:function(i){Qi(i._container)}},Ho=de.vml?os:it,as=Lr.extend({_initContainer:function(){this._container=Ho("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ho("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Be(this._container),Te(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Lr.prototype._update.call(this);var i=this._bounds,o=i.getSize(),h=this._container;(!this._svgSize||!this._svgSize.equals(o))&&(this._svgSize=o,h.setAttribute("width",o.x),h.setAttribute("height",o.y)),Ve(h,i.min),h.setAttribute("viewBox",[i.min.x,i.min.y,o.x,o.y].join(" ")),this.fire("update")}},_initPath:function(i){var o=i._path=Ho("path");i.options.className&&ye(o,i.options.className),i.options.interactive&&ye(o,"leaflet-interactive"),this._updateStyle(i),this._layers[c(i)]=i},_addPath:function(i){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(i._path),i.addInteractiveTarget(i._path)},_removePath:function(i){Be(i._path),i.removeInteractiveTarget(i._path),delete this._layers[c(i)]},_updatePath:function(i){i._project(),i._update()},_updateStyle:function(i){var o=i._path,h=i.options;o&&(h.stroke?(o.setAttribute("stroke",h.color),o.setAttribute("stroke-opacity",h.opacity),o.setAttribute("stroke-width",h.weight),o.setAttribute("stroke-linecap",h.lineCap),o.setAttribute("stroke-linejoin",h.lineJoin),h.dashArray?o.setAttribute("stroke-dasharray",h.dashArray):o.removeAttribute("stroke-dasharray"),h.dashOffset?o.setAttribute("stroke-dashoffset",h.dashOffset):o.removeAttribute("stroke-dashoffset")):o.setAttribute("stroke","none"),h.fill?(o.setAttribute("fill",h.fillColor||h.color),o.setAttribute("fill-opacity",h.fillOpacity),o.setAttribute("fill-rule",h.fillRule||"evenodd")):o.setAttribute("fill","none"))},_updatePoly:function(i,o){this._setPath(i,xr(i._parts,o))},_updateCircle:function(i){var o=i._point,h=Math.max(Math.round(i._radius),1),w=Math.max(Math.round(i._radiusY),1)||h,P="a"+h+","+w+" 0 1,0 ",M=i._empty()?"M0 0":"M"+(o.x-h)+","+o.y+P+h*2+",0 "+P+-h*2+",0 ";this._setPath(i,M)},_setPath:function(i,o){i._path.setAttribute("d",o)},_bringToFront:function(i){Yi(i._path)},_bringToBack:function(i){Qi(i._path)}});de.vml&&as.include(Sw);function Rf(i){return de.svg||de.vml?new as(i):null}be.include({getRenderer:function(i){var o=i.options.renderer||this._getPaneRenderer(i.options.pane)||this.options.renderer||this._renderer;return o||(o=this._renderer=this._createRenderer()),this.hasLayer(o)||this.addLayer(o),o},_getPaneRenderer:function(i){if(i==="overlayPane"||i===void 0)return!1;var o=this._paneRenderers[i];return o===void 0&&(o=this._createRenderer({pane:i}),this._paneRenderers[i]=o),o},_createRenderer:function(i){return this.options.preferCanvas&&Tf(i)||Rf(i)}});var Of=rn.extend({initialize:function(i,o){rn.prototype.initialize.call(this,this._boundsToLatLngs(i),o)},setBounds:function(i){return this.setLatLngs(this._boundsToLatLngs(i))},_boundsToLatLngs:function(i){return i=ae(i),[i.getSouthWest(),i.getNorthWest(),i.getNorthEast(),i.getSouthEast()]}});function xw(i,o){return new Of(i,o)}as.create=Ho,as.pointsToPath=xr,kr.geometryToLayer=Mo,kr.coordsToLatLng=Sc,kr.coordsToLatLngs=No,kr.latLngToCoords=xc,kr.latLngsToCoords=Io,kr.getFeature=nn,kr.asFeature=Bo,be.mergeOptions({boxZoom:!0});var Af=fr.extend({initialize:function(i){this._map=i,this._container=i._container,this._pane=i._panes.overlayPane,this._resetStateTimeout=0,i.on("unload",this._destroy,this)},addHooks:function(){ve(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Te(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Be(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(i){if(!i.shiftKey||i.which!==1&&i.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Yn(),nc(),this._startPoint=this._map.mouseEventToContainerPoint(i),ve(document,{contextmenu:Ei,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(i){this._moved||(this._moved=!0,this._box=ke("div","leaflet-zoom-box",this._container),ye(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(i);var o=new F(this._point,this._startPoint),h=o.getSize();Ve(this._box,o.min),this._box.style.width=h.x+"px",this._box.style.height=h.y+"px"},_finish:function(){this._moved&&(Be(this._box),$e(this._container,"leaflet-crosshair")),Qn(),sc(),Te(document,{contextmenu:Ei,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(i){if(!(i.which!==1&&i.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(u(this._resetState,this),0);var o=new ne(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(o).fire("boxzoomend",{boxZoomBounds:o})}},_onKeyDown:function(i){i.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});be.addInitHook("addHandler","boxZoom",Af),be.mergeOptions({doubleClickZoom:!0});var Df=fr.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(i){var o=this._map,h=o.getZoom(),w=o.options.zoomDelta,P=i.originalEvent.shiftKey?h-w:h+w;o.options.doubleClickZoom==="center"?o.setZoom(P):o.setZoomAround(i.containerPoint,P)}});be.addInitHook("addHandler","doubleClickZoom",Df),be.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Mf=fr.extend({addHooks:function(){if(!this._draggable){var i=this._map;this._draggable=new Wr(i._mapPane,i._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),i.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),i.on("zoomend",this._onZoomEnd,this),i.whenReady(this._onZoomEnd,this))}ye(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){$e(this._map._container,"leaflet-grab"),$e(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var i=this._map;if(i._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var o=ae(this._map.options.maxBounds);this._offsetLimit=J(this._map.latLngToContainerPoint(o.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(o.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;i.fire("movestart").fire("dragstart"),i.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(i){if(this._map.options.inertia){var o=this._lastTime=+new Date,h=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(h),this._times.push(o),this._prunePositions(o)}this._map.fire("move",i).fire("drag",i)},_prunePositions:function(i){for(;this._positions.length>1&&i-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var i=this._map.getSize().divideBy(2),o=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=o.subtract(i).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(i,o){return i-(i-o)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var i=this._draggable._newPos.subtract(this._draggable._startPos),o=this._offsetLimit;i.x<o.min.x&&(i.x=this._viscousLimit(i.x,o.min.x)),i.y<o.min.y&&(i.y=this._viscousLimit(i.y,o.min.y)),i.x>o.max.x&&(i.x=this._viscousLimit(i.x,o.max.x)),i.y>o.max.y&&(i.y=this._viscousLimit(i.y,o.max.y)),this._draggable._newPos=this._draggable._startPos.add(i)}},_onPreDragWrap:function(){var i=this._worldWidth,o=Math.round(i/2),h=this._initialWorldOffset,w=this._draggable._newPos.x,P=(w-o+h)%i+o-h,M=(w+o+h)%i-o-h,U=Math.abs(P+h)<Math.abs(M+h)?P:M;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=U},_onDragEnd:function(i){var o=this._map,h=o.options,w=!h.inertia||i.noInertia||this._times.length<2;if(o.fire("dragend",i),w)o.fire("moveend");else{this._prunePositions(+new Date);var P=this._lastPos.subtract(this._positions[0]),M=(this._lastTime-this._times[0])/1e3,U=h.easeLinearity,Z=P.multiplyBy(U/M),K=Z.distanceTo([0,0]),ie=Math.min(h.inertiaMaxSpeed,K),ce=Z.multiplyBy(ie/K),fe=ie/(h.inertiaDeceleration*U),we=ce.multiplyBy(-fe/2).round();!we.x&&!we.y?o.fire("moveend"):(we=o._limitOffset(we,o.options.maxBounds),H(function(){o.panBy(we,{duration:fe,easeLinearity:U,noMoveStart:!0,animate:!0})}))}}});be.addInitHook("addHandler","dragging",Mf),be.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Nf=fr.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(i){this._map=i,this._setPanDelta(i.options.keyboardPanDelta),this._setZoomDelta(i.options.zoomDelta)},addHooks:function(){var i=this._map._container;i.tabIndex<=0&&(i.tabIndex="0"),ve(i,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Te(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var i=document.body,o=document.documentElement,h=i.scrollTop||o.scrollTop,w=i.scrollLeft||o.scrollLeft;this._map._container.focus(),window.scrollTo(w,h)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(i){var o=this._panKeys={},h=this.keyCodes,w,P;for(w=0,P=h.left.length;w<P;w++)o[h.left[w]]=[-1*i,0];for(w=0,P=h.right.length;w<P;w++)o[h.right[w]]=[i,0];for(w=0,P=h.down.length;w<P;w++)o[h.down[w]]=[0,i];for(w=0,P=h.up.length;w<P;w++)o[h.up[w]]=[0,-1*i]},_setZoomDelta:function(i){var o=this._zoomKeys={},h=this.keyCodes,w,P;for(w=0,P=h.zoomIn.length;w<P;w++)o[h.zoomIn[w]]=i;for(w=0,P=h.zoomOut.length;w<P;w++)o[h.zoomOut[w]]=-i},_addHooks:function(){ve(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Te(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(i){if(!(i.altKey||i.ctrlKey||i.metaKey)){var o=i.keyCode,h=this._map,w;if(o in this._panKeys){if(!h._panAnim||!h._panAnim._inProgress)if(w=this._panKeys[o],i.shiftKey&&(w=I(w).multiplyBy(3)),h.options.maxBounds&&(w=h._limitOffset(I(w),h.options.maxBounds)),h.options.worldCopyJump){var P=h.wrapLatLng(h.unproject(h.project(h.getCenter()).add(w)));h.panTo(P)}else h.panBy(w)}else if(o in this._zoomKeys)h.setZoom(h.getZoom()+(i.shiftKey?3:1)*this._zoomKeys[o]);else if(o===27&&h._popup&&h._popup.options.closeOnEscapeKey)h.closePopup();else return;Ei(i)}}});be.addInitHook("addHandler","keyboard",Nf),be.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var If=fr.extend({addHooks:function(){ve(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Te(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(i){var o=of(i),h=this._map.options.wheelDebounceTime;this._delta+=o,this._lastMousePos=this._map.mouseEventToContainerPoint(i),this._startTime||(this._startTime=+new Date);var w=Math.max(h-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(u(this._performZoom,this),w),Ei(i)},_performZoom:function(){var i=this._map,o=i.getZoom(),h=this._map.options.zoomSnap||0;i._stop();var w=this._delta/(this._map.options.wheelPxPerZoomLevel*4),P=4*Math.log(2/(1+Math.exp(-Math.abs(w))))/Math.LN2,M=h?Math.ceil(P/h)*h:P,U=i._limitZoom(o+(this._delta>0?M:-M))-o;this._delta=0,this._startTime=null,U&&(i.options.scrollWheelZoom==="center"?i.setZoom(o+U):i.setZoomAround(this._lastMousePos,o+U))}});be.addInitHook("addHandler","scrollWheelZoom",If);var bw=600;be.mergeOptions({tapHold:de.touchNative&&de.safari&&de.mobile,tapTolerance:15});var Bf=fr.extend({addHooks:function(){ve(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Te(this._map._container,"touchstart",this._onDown,this)},_onDown:function(i){if(clearTimeout(this._holdTimeout),i.touches.length===1){var o=i.touches[0];this._startPos=this._newPos=new O(o.clientX,o.clientY),this._holdTimeout=setTimeout(u(function(){this._cancel(),this._isTapValid()&&(ve(document,"touchend",nt),ve(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",o))},this),bw),ve(document,"touchend touchcancel contextmenu",this._cancel,this),ve(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function i(){Te(document,"touchend",nt),Te(document,"touchend touchcancel",i)},_cancel:function(){clearTimeout(this._holdTimeout),Te(document,"touchend touchcancel contextmenu",this._cancel,this),Te(document,"touchmove",this._onMove,this)},_onMove:function(i){var o=i.touches[0];this._newPos=new O(o.clientX,o.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(i,o){var h=new MouseEvent(i,{bubbles:!0,cancelable:!0,view:window,screenX:o.screenX,screenY:o.screenY,clientX:o.clientX,clientY:o.clientY});h._simulated=!0,o.target.dispatchEvent(h)}});be.addInitHook("addHandler","tapHold",Bf),be.mergeOptions({touchZoom:de.touch,bounceAtZoomLimits:!0});var zf=fr.extend({addHooks:function(){ye(this._map._container,"leaflet-touch-zoom"),ve(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){$e(this._map._container,"leaflet-touch-zoom"),Te(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(i){var o=this._map;if(!(!i.touches||i.touches.length!==2||o._animatingZoom||this._zooming)){var h=o.mouseEventToContainerPoint(i.touches[0]),w=o.mouseEventToContainerPoint(i.touches[1]);this._centerPoint=o.getSize()._divideBy(2),this._startLatLng=o.containerPointToLatLng(this._centerPoint),o.options.touchZoom!=="center"&&(this._pinchStartLatLng=o.containerPointToLatLng(h.add(w)._divideBy(2))),this._startDist=h.distanceTo(w),this._startZoom=o.getZoom(),this._moved=!1,this._zooming=!0,o._stop(),ve(document,"touchmove",this._onTouchMove,this),ve(document,"touchend touchcancel",this._onTouchEnd,this),nt(i)}},_onTouchMove:function(i){if(!(!i.touches||i.touches.length!==2||!this._zooming)){var o=this._map,h=o.mouseEventToContainerPoint(i.touches[0]),w=o.mouseEventToContainerPoint(i.touches[1]),P=h.distanceTo(w)/this._startDist;if(this._zoom=o.getScaleZoom(P,this._startZoom),!o.options.bounceAtZoomLimits&&(this._zoom<o.getMinZoom()&&P<1||this._zoom>o.getMaxZoom()&&P>1)&&(this._zoom=o._limitZoom(this._zoom)),o.options.touchZoom==="center"){if(this._center=this._startLatLng,P===1)return}else{var M=h._add(w)._divideBy(2)._subtract(this._centerPoint);if(P===1&&M.x===0&&M.y===0)return;this._center=o.unproject(o.project(this._pinchStartLatLng,this._zoom).subtract(M),this._zoom)}this._moved||(o._moveStart(!0,!1),this._moved=!0),j(this._animRequest);var U=u(o._move,o,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=H(U,this,!0),nt(i)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,j(this._animRequest),Te(document,"touchmove",this._onTouchMove,this),Te(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});be.addInitHook("addHandler","touchZoom",zf),be.BoxZoom=Af,be.DoubleClickZoom=Df,be.Drag=Mf,be.Keyboard=Nf,be.ScrollWheelZoom=If,be.TapHold=Bf,be.TouchZoom=zf,r.Bounds=F,r.Browser=de,r.CRS=N,r.Canvas=Pf,r.Circle=wc,r.CircleMarker=Do,r.Class=q,r.Control=Yt,r.DivIcon=Ef,r.DivOverlay=pr,r.DomEvent=Hy,r.DomUtil=jy,r.Draggable=Wr,r.Evented=ee,r.FeatureGroup=Cr,r.GeoJSON=kr,r.GridLayer=ss,r.Handler=fr,r.Icon=tn,r.ImageOverlay=zo,r.LatLng=se,r.LatLngBounds=ne,r.Layer=Qt,r.LayerGroup=en,r.LineUtil=ew,r.Map=be,r.Marker=Ao,r.Mixin=qy,r.Path=Vr,r.Point=O,r.PolyUtil=Gy,r.Polygon=rn,r.Polyline=Er,r.Popup=jo,r.PosAnimation=af,r.Projection=tw,r.Rectangle=Of,r.Renderer=Lr,r.SVG=as,r.SVGOverlay=Cf,r.TileLayer=sn,r.Tooltip=Fo,r.Transformation=me,r.Util=$,r.VideoOverlay=bf,r.bind=u,r.bounds=J,r.canvas=Tf,r.circle=cw,r.circleMarker=lw,r.control=rs,r.divIcon=gw,r.extend=s,r.featureGroup=sw,r.geoJSON=xf,r.geoJson=dw,r.gridLayer=yw,r.icon=ow,r.imageOverlay=fw,r.latLng=ue,r.latLngBounds=ae,r.layerGroup=nw,r.map=Uy,r.marker=aw,r.point=I,r.polygon=hw,r.polyline=uw,r.popup=mw,r.rectangle=xw,r.setOptions=x,r.stamp=c,r.svg=Rf,r.svgOverlay=_w,r.tileLayer=kf,r.tooltip=vw,r.transformation=le,r.version=n,r.videoOverlay=pw;var Cw=window.L;r.noConflict=function(){return window.L=Cw,this},window.L=r})})(wh,wh.exports);var bo=wh.exports;const ey=lm(bo);function jd(e,t,r){return Object.freeze({instance:e,context:t,container:r})}function Fd(e,t){return t==null?function(n,s){const a=V.useRef();return a.current||(a.current=e(n,s)),a}:function(n,s){const a=V.useRef();a.current||(a.current=e(n,s));const u=V.useRef(n),{instance:l}=a.current;return V.useEffect(function(){u.current!==n&&(t(l,n,u.current),u.current=n)},[l,n,s]),a}}function FT(e,t){V.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var a;(a=t.layerContainer)==null||a.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function ty(e){return function(r){const n=Y0(),s=e(zd(r,n),n);return G0(n.map,r.attribution),Q0(s.current,r.eventHandlers),FT(s.current,n),s}}function HT(e,t){const r=Fd(e,t),n=ty(r);return IT(n)}function UT(e,t){const r=Fd(e),n=jT(r,t);return BT(n)}function $T(e,t){const r=Fd(e,t),n=ty(r);return zT(n)}function ZT(e,t,r){const{opacity:n,zIndex:s}=t;n!=null&&n!==r.opacity&&e.setOpacity(n),s!=null&&s!==r.zIndex&&e.setZIndex(s)}function Sh(){return Sh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sh.apply(this,arguments)}function WT({bounds:e,boundsOptions:t,center:r,children:n,className:s,id:a,placeholder:u,style:l,whenReady:c,zoom:p,...g},m){const[y]=V.useState({className:s,id:a,style:l}),[b,C]=V.useState(null);V.useImperativeHandle(m,()=>(b==null?void 0:b.map)??null,[b]);const x=V.useCallback(_=>{if(_!==null&&b===null){const f=new bo.Map(_,g);r!=null&&p!=null?f.setView(r,p):e!=null&&f.fitBounds(e,t),c!=null&&f.whenReady(c),C(MT(f))}},[]);V.useEffect(()=>()=>{b==null||b.map.remove()},[b]);const d=b?Bs.createElement(X0,{value:b},n):u??null;return Bs.createElement("div",Sh({},y,{ref:x}),d)}const ry=V.forwardRef(WT),iy=HT(function({position:t,...r},n){const s=new bo.Marker(t,r);return jd(s,NT(n,{overlayContainer:s}))},function(t,r,n){r.position!==n.position&&t.setLatLng(r.position),r.icon!=null&&r.icon!==n.icon&&t.setIcon(r.icon),r.zIndexOffset!=null&&r.zIndexOffset!==n.zIndexOffset&&t.setZIndexOffset(r.zIndexOffset),r.opacity!=null&&r.opacity!==n.opacity&&t.setOpacity(r.opacity),t.dragging!=null&&r.draggable!==n.draggable&&(r.draggable===!0?t.dragging.enable():t.dragging.disable())}),ny=UT(function(t,r){const n=new bo.Popup(t,r.overlayContainer);return jd(n,r)},function(t,r,{position:n},s){V.useEffect(function(){const{instance:u}=t;function l(p){p.popup===u&&(u.update(),s(!0))}function c(p){p.popup===u&&s(!1)}return r.map.on({popupopen:l,popupclose:c}),r.overlayContainer==null?(n!=null&&u.setLatLng(n),u.openOn(r.map)):r.overlayContainer.bindPopup(u),function(){var g;r.map.off({popupopen:l,popupclose:c}),(g=r.overlayContainer)==null||g.unbindPopup(),r.map.removeLayer(u)}},[t,r,s,n])}),sy=$T(function({url:t,...r},n){const s=new bo.TileLayer(t,zd(r,n));return jd(s,n)},function(t,r,n){ZT(t,r,n);const{url:s}=r;s!=null&&s!==n.url&&t.setUrl(s)});/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oy=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VT=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KT=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase());/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rm=e=>{const t=KT(e);return t.charAt(0).toUpperCase()+t.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var qT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GT=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JT=V.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:a,iconNode:u,...l},c)=>V.createElement("svg",{ref:c,...qT,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:oy("lucide",s),...!a&&!GT(l)&&{"aria-hidden":"true"},...l},[...u.map(([p,g])=>V.createElement(p,g)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=(e,t)=>{const r=V.forwardRef(({className:n,...s},a)=>V.createElement(JT,{ref:a,iconNode:t,className:oy(`lucide-${VT(rm(e))}`,`lucide-${e}`,n),...s}));return r.displayName=rm(e),r};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XT=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],ay=Ie("activity",XT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YT=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],im=Ie("arrow-left",YT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],nm=Ie("circle-plus",QT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eR=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],tR=Ie("copy",eR);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rR=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],iR=Ie("cpu",rR);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],xh=Ie("globe",nR);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sR=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],ly=Ie("layout-dashboard",sR);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oR=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],aR=Ie("layout-grid",oR);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lR=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],cR=Ie("link",lR);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uR=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Hd=Ie("log-out",uR);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hR=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],dR=Ie("map-pin",hR);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fR=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],pR=Ie("map",fR);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _R=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],mR=Ie("play",_R);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vR=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],sm=Ie("refresh-ccw",vR);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gR=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],cy=Ie("search",gR);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yR=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],ml=Ie("server",yR);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wR=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],SR=Ie("settings",wR);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xR=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],bR=Ie("shield-check",xR);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CR=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],ER=Ie("shield",CR);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kR=[["path",{d:"M2 20h.01",key:"4haj6o"}],["path",{d:"M7 20v-4",key:"j294jx"}],["path",{d:"M12 20v-8",key:"i3yub9"}],["path",{d:"M17 20V8",key:"1tkaf5"}],["path",{d:"M22 4v16",key:"sih9yq"}]],LR=Ie("signal",kR);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PR=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],TR=Ie("square",PR);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RR=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],uy=Ie("terminal",RR);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OR=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],AR=Ie("trash-2",OR);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DR=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],hy=Ie("zap",DR),MR=()=>{var m;const{user:e}=Fr(y=>y.auth),{list:t}=Fr(y=>y.nodes),r=_o(),[n,s]=V.useState(!1),[a,u]=V.useState(!1),[l,c]=V.useState({name:"",zone:"",capacity:"",latitude:"",longitude:"",tier:"General Purpose",os:"Ubuntu 22.04 LTS",bandwidth:"1 Gbps"});V.useEffect(()=>{r(Es());const y=setInterval(()=>r(aE()),4e3),b=setInterval(()=>r(Es()),3e4);return()=>{clearInterval(y),clearInterval(b)}},[r]);const p=async y=>{y.preventDefault(),u(!0);try{await r(d0(l)).unwrap(),u(!1),s(!1),c({name:"",zone:"",capacity:"",latitude:"",longitude:"",tier:"General Purpose",os:"Ubuntu 22.04 LTS",bandwidth:"1 Gbps"}),r(Es())}catch{u(!1),alert("Deployment failed.")}},g=async y=>{if(window.confirm("Decommission this resource? This action is permanent."))try{await xe.delete(`/api/nodes/${y}`),r(Es())}catch{alert("Action failed.")}};return T.jsxs("div",{className:"flex h-screen bg-[#0B0F1A] text-slate-300 overflow-hidden font-sans",children:[T.jsxs("aside",{className:"hidden lg:flex flex-col w-72 bg-[#0F172A] border-r border-white/5 shadow-2xl z-20",children:[T.jsx("div",{className:"p-8 border-b border-white/5 bg-[#0B0F1A]/50",children:T.jsxs("div",{className:"flex items-center space-x-3",children:[T.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-600 to-indigo-700 rounded-xl flex items-center justify-center",children:T.jsx(iR,{className:"text-white",size:24})}),T.jsxs("div",{children:[T.jsx("span",{className:"text-xl font-bold text-white block leading-none tracking-tight",children:"DataSpace"}),T.jsx("span",{className:"text-[10px] text-blue-500 font-black uppercase tracking-widest",children:"Enterprise Console"})]})]})}),T.jsxs("nav",{className:"flex-1 px-4 py-6 space-y-1",children:[T.jsx(vs,{icon:ly,label:"Global Console",active:!0}),T.jsx(vs,{icon:xh,label:"Network Map"}),T.jsx(vs,{icon:ml,label:"Resource Clusters"}),T.jsx(vs,{icon:LR,label:"Traffic Analytics"}),T.jsx("div",{className:"pt-8 pb-2 px-4 text-[10px] font-bold text-slate-600 uppercase tracking-widest",children:"Management"}),T.jsx(vs,{icon:SR,label:"Governance"})]}),T.jsx("div",{className:"p-6 border-t border-white/5",children:T.jsxs("button",{onClick:()=>r(Fl()),className:"flex items-center space-x-3 w-full p-3 rounded-xl hover:bg-red-500/10 hover:text-red-400 transition-all font-semibold group",children:[T.jsx(Hd,{size:18,className:"group-hover:-translate-x-1 transition-transform"}),T.jsx("span",{children:"Terminate Session"})]})})]}),T.jsxs("main",{className:"flex-1 flex flex-col relative overflow-hidden",children:[T.jsxs("header",{className:"h-20 border-b border-white/5 flex items-center justify-between px-8 bg-[#0B0F1A]/80 backdrop-blur-xl z-10",children:[T.jsxs("div",{children:[T.jsxs("h2",{className:"text-lg font-bold text-white flex items-center space-x-2",children:[T.jsx("span",{children:"Operational Overview"}),T.jsx("span",{className:"w-2 h-2 rounded-full bg-emerald-500 animate-pulse"})]}),T.jsxs("p",{className:"text-xs text-slate-500 font-mono uppercase tracking-tighter tracking-widest",children:["Tenant ID: ",((m=e==null?void 0:e.companyName)==null?void 0:m.toUpperCase())||"CORE-PRO"]})]}),T.jsxs("button",{onClick:()=>s(!0),className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-500 text-white px-6 py-2.5 rounded-xl font-bold transition-all shadow-lg shadow-blue-600/25",children:[T.jsx(nm,{size:18}),T.jsx("span",{children:"Deploy Resource"})]})]}),T.jsxs("div",{className:"flex-1 overflow-y-auto p-8 custom-scrollbar bg-[#0B0F1A]",children:[T.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6 mb-8",children:[T.jsx(cu,{label:"Infrastructure Nodes",value:t.length.toString(),icon:ml,color:"text-blue-400"}),T.jsx(cu,{label:"Global Throughput",value:"850 TB",icon:ay,color:"text-emerald-400"}),T.jsx(cu,{label:"Security Score",value:"98%",icon:bR,color:"text-purple-400"})]}),T.jsxs("div",{className:"grid grid-cols-1 gap-8",children:[T.jsxs("div",{className:"bg-[#161B2B] border border-white/5 rounded-3xl overflow-hidden shadow-2xl",children:[T.jsx("div",{className:"p-6 border-b border-white/5 bg-white/[0.02]",children:T.jsxs("h3",{className:"font-bold text-white flex items-center space-x-2",children:[T.jsx(xh,{size:18,className:"text-blue-500"}),T.jsx("span",{children:"Global Edge Presence"})]})}),T.jsx("div",{className:"h-[400px] relative z-0",children:T.jsxs(ry,{center:[21,78],zoom:5,className:"h-full w-full grayscale-[0.8] invert-[0.9] opacity-80",children:[T.jsx(sy,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),t.map(y=>T.jsx(iy,{position:[parseFloat(y.latitude)||0,parseFloat(y.longitude)||0],children:T.jsx(ny,{children:T.jsxs("div",{className:"min-w-[160px] font-sans",children:[T.jsx("b",{className:"text-blue-600 text-sm block mb-1 border-b border-slate-100 pb-1",children:y.name}),T.jsxs("div",{className:"text-[10px] text-slate-600",children:["Tier: ",y.tier]}),T.jsxs("div",{className:"text-[10px] text-slate-600 mb-1",children:["OS: ",y.os]}),T.jsx("div",{className:`text-[10px] font-black ${y.status==="Active"?"text-emerald-600":"text-blue-500"}`,children:y.status})]})})},y.id))]})})]}),T.jsxs("div",{className:"bg-[#161B2B] border border-white/5 rounded-3xl shadow-2xl overflow-hidden mb-12",children:[T.jsxs("div",{className:"p-6 border-b border-white/5 bg-white/[0.02] flex justify-between items-center",children:[T.jsx("h3",{className:"font-bold text-white",children:"Managed Infrastructure"}),T.jsxs("div",{className:"flex items-center space-x-1 px-2 py-1 bg-emerald-500/10 rounded-md border border-emerald-500/20",children:[T.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500 animate-pulse"}),T.jsx("span",{className:"text-[10px] font-black text-emerald-500 uppercase",children:"Live Telemetry"})]})]}),T.jsx("div",{className:"overflow-x-auto",children:T.jsxs("table",{className:"w-full text-left",children:[T.jsx("thead",{className:"bg-slate-900/50 text-[10px] uppercase text-slate-500 font-bold tracking-widest",children:T.jsxs("tr",{children:[T.jsx("th",{className:"px-8 py-4",children:"Node Identity"}),T.jsx("th",{className:"px-8 py-4",children:"Zone"}),T.jsx("th",{className:"px-8 py-4",children:"Hardware/OS"}),T.jsx("th",{className:"px-8 py-4",children:"State"}),T.jsx("th",{className:"px-8 py-4 text-right",children:"Action"})]})}),T.jsx("tbody",{className:"divide-y divide-white/5",children:t.map(y=>T.jsx(NR,{node:y,onDelete:()=>g(y.id)},y.id))})]})})]})]})]})]}),n&&T.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-6 bg-slate-950/80 backdrop-blur-md",children:T.jsxs("div",{className:"bg-[#161B2B] border border-white/10 w-full max-w-2xl rounded-[2.5rem] shadow-2xl overflow-hidden shadow-blue-500/10",children:[T.jsxs("div",{className:"p-8 border-b border-white/5 flex justify-between items-center bg-white/[0.02]",children:[T.jsxs("div",{className:"flex items-center space-x-3",children:[T.jsx(dR,{size:20,className:"text-blue-500"}),T.jsx("h3",{className:"text-2xl font-black text-white italic tracking-tight uppercase",children:"Provision Node"})]}),T.jsx("button",{onClick:()=>s(!1),className:"text-slate-500 p-2 hover:bg-white/5 rounded-full transition-colors",children:T.jsx(nm,{className:"rotate-45",size:24})})]}),T.jsxs("form",{className:"p-10 grid grid-cols-2 gap-6",onSubmit:p,children:[T.jsx(gs,{label:"Node Label",placeholder:"e.g. SURAT-DC-01",value:l.name,onChange:y=>c({...l,name:y})}),T.jsx(gs,{label:"Deployment Zone",placeholder:"Surat, IN",value:l.zone,onChange:y=>c({...l,zone:y})}),T.jsx(gs,{label:"Latitude",placeholder:"21.1702",type:"text",value:l.latitude,onChange:y=>c({...l,latitude:y})}),T.jsx(gs,{label:"Longitude",placeholder:"72.8311",type:"text",value:l.longitude,onChange:y=>c({...l,longitude:y})}),T.jsxs("div",{className:"space-y-2",children:[T.jsx("label",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest ml-1",children:"Hardware Tier"}),T.jsxs("select",{value:l.tier,onChange:y=>c({...l,tier:y.target.value}),className:"w-full px-6 py-4 rounded-2xl bg-[#0F172A] border border-white/5 text-white outline-none focus:border-blue-500",children:[T.jsx("option",{children:"General Purpose"}),T.jsx("option",{children:"Compute Optimized"}),T.jsx("option",{children:"Memory Optimized"})]})]}),T.jsxs("div",{className:"space-y-2",children:[T.jsx("label",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest ml-1",children:"Operating System"}),T.jsxs("select",{value:l.os,onChange:y=>c({...l,os:y.target.value}),className:"w-full px-6 py-4 rounded-2xl bg-[#0F172A] border border-white/5 text-white outline-none focus:border-blue-500",children:[T.jsx("option",{children:"Ubuntu 22.04 LTS"}),T.jsx("option",{children:"Debian 12"}),T.jsx("option",{children:"RHEL 9"}),T.jsx("option",{children:"Windows Server 2022"})]})]}),T.jsx(gs,{label:"Capacity (TB)",placeholder:"1024",type:"number",value:l.capacity,onChange:y=>c({...l,capacity:y})}),T.jsxs("div",{className:"space-y-2",children:[T.jsx("label",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest ml-1",children:"Network Uplink"}),T.jsxs("select",{value:l.bandwidth,onChange:y=>c({...l,bandwidth:y.target.value}),className:"w-full px-6 py-4 rounded-2xl bg-[#0F172A] border border-white/5 text-white outline-none focus:border-blue-500",children:[T.jsx("option",{children:"1 Gbps (Standard)"}),T.jsx("option",{children:"10 Gbps (Enterprise)"}),T.jsx("option",{children:"100 Gbps (Backbone)"})]})]}),T.jsx("button",{type:"submit",disabled:a,className:"col-span-2 mt-4 py-5 bg-blue-600 hover:bg-blue-500 text-white font-black uppercase tracking-widest rounded-2xl transition-all shadow-lg shadow-blue-600/30 active:scale-95 disabled:opacity-50",children:a?"Syncing with Satellite...":"Finalize Enterprise Deployment"})]})]})})]})},cu=({label:e,value:t,icon:r,color:n})=>T.jsxs("div",{className:"bg-[#161B2B] border border-white/5 p-6 rounded-2xl shadow-xl flex items-center justify-between group",children:[T.jsxs("div",{children:[T.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:e}),T.jsx("p",{className:"text-3xl font-bold text-white tabular-nums",children:t})]}),T.jsx("div",{className:`p-4 rounded-2xl bg-slate-900/50 ${n} group-hover:scale-110 transition-transform`,children:T.jsx(r,{size:24})})]}),vs=({icon:e,label:t,active:r=!1})=>T.jsxs("div",{className:`flex items-center space-x-4 px-6 py-4 rounded-2xl cursor-pointer transition-all duration-300 ${r?"bg-blue-600 text-white shadow-xl shadow-blue-600/20":"text-slate-500 hover:text-white hover:bg-white/5"}`,children:[T.jsx(e,{size:20}),T.jsx("span",{className:"font-bold text-sm tracking-tight",children:t})]}),NR=({node:e,onDelete:t})=>T.jsxs("tr",{className:"hover:bg-white/[0.03] transition-colors group",children:[T.jsx("td",{className:"px-8 py-5",children:T.jsxs("div",{className:"flex flex-col",children:[T.jsx("span",{className:"text-white font-bold text-sm",children:e.name}),T.jsx("span",{className:"font-mono text-[10px] text-blue-500/80 uppercase tracking-tighter tracking-widest",children:e.node_hash})]})}),T.jsx("td",{className:"px-8 py-5 text-sm text-slate-400",children:e.zone}),T.jsx("td",{className:"px-8 py-5",children:T.jsxs("div",{className:"flex flex-col",children:[T.jsx("span",{className:"text-xs text-white font-medium",children:e.tier}),T.jsx("span",{className:"text-[10px] text-slate-500 uppercase",children:e.os})]})}),T.jsx("td",{className:"px-8 py-5 text-right",children:T.jsx("span",{className:`px-3 py-1 text-[9px] font-black rounded-lg border uppercase tracking-widest ${e.status==="Provisioning"?"bg-blue-500/10 text-blue-500 border-blue-500/30 animate-pulse":"bg-emerald-500/10 text-emerald-600 border-emerald-500/30"}`,children:e.status})}),T.jsx("td",{className:"px-8 py-5 text-right",children:T.jsx("button",{onClick:t,className:"p-2 text-slate-600 hover:text-red-500 hover:bg-red-500/10 rounded-lg transition-all",children:T.jsx(AR,{size:16})})})]}),gs=({label:e,placeholder:t,value:r,onChange:n,type:s="text"})=>T.jsxs("div",{className:"space-y-2",children:[T.jsx("label",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest ml-1",children:e}),T.jsx("input",{type:s,placeholder:t,value:r,onChange:a=>n(a.target.value),required:!0,className:"w-full px-6 py-4 rounded-2xl bg-[#0F172A] border border-white/5 focus:border-blue-500/50 outline-none text-white placeholder:text-slate-700"})]}),IR=new ey.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-green.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),BR=new ey.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-blue.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),zR=()=>{const{user:e}=Fr(g=>g.auth),t=_o(),r=Ki(),[n,s]=V.useState([]),[a,u]=V.useState(""),l=async()=>{try{const g=await xe.get("/api/discovery/nodes");s(g.data)}catch(g){console.error("Discovery fetch error:",g)}};V.useEffect(()=>{l()},[]);const c=async(g,m)=>{var b,C;const y=(e==null?void 0:e.email)||"aasim@datagreen.cloud";if(window.confirm(`Initialize contract for ${m}?`))try{await xe.post("/api/contracts/rent",{nodeId:g,seekerEmail:y}),alert("Success! Resource added to your fleet."),l()}catch(x){const d=((C=(b=x.response)==null?void 0:b.data)==null?void 0:C.error)||"Resource may be already leased.";alert(`Rental failed: ${d}`)}},p=n.filter(g=>g.name.toLowerCase().includes(a.toLowerCase())||g.zone.toLowerCase().includes(a.toLowerCase()));return T.jsxs("div",{className:"h-screen w-full bg-[#0B0F1A] flex flex-col overflow-hidden font-sans",children:[T.jsxs("header",{className:"h-20 bg-[#0F172A] border-b border-white/5 flex items-center justify-between px-8 z-[1001]",children:[T.jsxs("div",{className:"flex items-center space-x-4",children:[T.jsx("div",{className:"p-2.5 bg-blue-600 rounded-xl text-white font-bold italic",children:"DS"}),T.jsxs("div",{children:[T.jsx("h1",{className:"text-xl font-black text-white uppercase tracking-tighter italic",children:"Discovery Marketplace"}),T.jsxs("p",{className:"text-[10px] text-blue-500 font-bold uppercase tracking-widest",children:["Available: ",n.filter(g=>g.status==="Active").length," | Leased: ",n.filter(g=>g.status==="Leased").length]})]})]}),T.jsxs("div",{className:"flex items-center space-x-4",children:[T.jsxs("div",{className:"relative hidden md:block",children:[T.jsx(cy,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-500",size:16}),T.jsx("input",{placeholder:"Search Mumbai, Surat, NYC...",value:a,onChange:g=>u(g.target.value),className:"bg-slate-900 border border-white/5 pl-12 pr-6 py-2 rounded-xl text-xs text-white w-64 outline-none focus:border-blue-500/50"})]}),T.jsxs("button",{onClick:()=>r("/seeker/fleet"),className:"flex items-center space-x-2 px-5 py-2.5 bg-blue-600/10 hover:bg-blue-600/20 text-blue-400 border border-blue-500/20 rounded-xl transition-all font-bold text-[10px] uppercase",children:[T.jsx(aR,{size:16}),T.jsx("span",{children:"My Fleet"})]}),T.jsxs("button",{onClick:()=>t(Fl()),className:"flex items-center space-x-2 text-slate-400 hover:text-red-400 transition-colors font-bold text-[10px] uppercase",children:[T.jsx(Hd,{size:16}),T.jsx("span",{children:"Logout"})]})]})]}),T.jsxs("div",{className:"flex-1 relative",children:[T.jsxs(ry,{center:[20,78],zoom:4,className:"h-full w-full grayscale-[0.8] invert-[0.9] opacity-90",children:[T.jsx(sy,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),p.map(g=>T.jsx(iy,{position:[parseFloat(g.latitude),parseFloat(g.longitude)],icon:g.status==="Active"?IR:BR,children:T.jsx(ny,{children:T.jsxs("div",{className:"w-72 p-1 bg-[#0F172A] text-white",children:[T.jsxs("div",{className:"flex justify-between border-b border-white/5 pb-3 mb-4",children:[T.jsx("b",{className:"text-blue-500 text-sm uppercase",children:g.name}),T.jsxs("span",{className:"text-emerald-500 font-black text-sm",children:["$",g.rental_rate,"/d"]})]}),T.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-6",children:[T.jsxs("div",{className:"text-[10px] text-slate-400 uppercase font-bold",children:["OS: ",g.os]}),T.jsxs("div",{className:"text-[10px] text-slate-400 uppercase font-bold",children:["Status: ",g.status]})]}),g.status==="Active"?T.jsx("button",{onClick:()=>c(g.id,g.name),className:"w-full py-4 bg-blue-600 hover:bg-blue-500 text-white font-black uppercase text-[10px] rounded-2xl transition-all",children:"Rent Now"}):T.jsx("div",{className:"w-full py-4 bg-slate-800 text-slate-500 font-black uppercase text-[10px] rounded-2xl text-center",children:"Currently Leased"})]})})},g.id))]}),T.jsxs("div",{className:"absolute top-8 left-8 w-80 max-h-[calc(100%-4rem)] bg-[#0F172A]/90 backdrop-blur-xl border border-white/5 rounded-[2.5rem] z-[1000] overflow-hidden flex flex-col shadow-2xl",children:[T.jsx("div",{className:"p-7 border-b border-white/5",children:T.jsxs("h3",{className:"font-bold text-white text-sm",children:["Marketplace (",p.length,")"]})}),T.jsx("div",{className:"flex-1 overflow-y-auto p-5 space-y-4 custom-scrollbar",children:p.map(g=>T.jsxs("div",{className:"p-4 bg-white/[0.03] border border-white/5 rounded-2xl",children:[T.jsxs("div",{className:"flex justify-between items-center",children:[T.jsx("span",{className:"text-xs font-bold text-white uppercase",children:g.name}),T.jsx("div",{className:`w-2 h-2 rounded-full ${g.status==="Active"?"bg-emerald-500":"bg-blue-500"}`})]}),T.jsx("p",{className:"text-[9px] text-slate-500 uppercase mt-1",children:g.zone})]},g.id))})]})]})]})},jR=()=>{const{user:e}=Fr(d=>d.auth),t=_o(),r=Ki(),[n,s]=V.useState([]),[a,u]=V.useState(""),[l,c]=V.useState(1),p=5;V.useEffect(()=>{const d=async()=>{var _;console.log("DEBUG: Fetching fleet for email:",e==null?void 0:e.email);try{const f=await xe.get(`/api/seeker/fleet?email=${e==null?void 0:e.email}`);console.log("DEBUG: Fleet data response:",f.data),s(f.data)}catch(f){console.error("DEBUG: Fleet fetch error:",f),console.error("DEBUG: Error details:",(_=f.response)==null?void 0:_.data)}};e!=null&&e.email?d():console.warn("DEBUG: No user email found in Redux state")},[e==null?void 0:e.email]);const g=n.filter(d=>{var f,v,S;const _=a.toLowerCase();return((f=d.name)==null?void 0:f.toLowerCase().includes(_))||((v=d.zone)==null?void 0:v.toLowerCase().includes(_))||((S=d.node_hash)==null?void 0:S.toLowerCase().includes(_))}),m=Math.ceil(g.length/p),y=Math.min(l,Math.max(1,m)),b=y*p,C=b-p,x=g.slice(C,b);return T.jsx("div",{className:"min-h-screen bg-[#0B0F1A] text-slate-300 font-sans p-10",children:T.jsxs("div",{className:"max-w-7xl mx-auto",children:[T.jsxs("header",{className:"flex justify-between items-center mb-10",children:[T.jsxs("div",{className:"flex items-center space-x-6",children:[T.jsx("button",{onClick:()=>r("/seeker/discovery"),className:"p-3 bg-slate-800 hover:bg-slate-700 rounded-2xl text-blue-400 transition-all border border-white/5",children:T.jsx(pR,{size:20})}),T.jsxs("div",{children:[T.jsx("h1",{className:"text-3xl font-black text-white uppercase italic tracking-tighter",children:"My Active Fleet"}),T.jsxs("p",{className:"text-blue-500 text-[10px] font-bold uppercase tracking-widest",children:["Operator: ",e==null?void 0:e.email]})]})]}),T.jsxs("div",{className:"flex items-center space-x-4",children:[T.jsxs("div",{className:"relative",children:[T.jsx(cy,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-500",size:18}),T.jsx("input",{type:"text",placeholder:"Search fleet (Mumbai, Surat...)",value:a,onChange:d=>{u(d.target.value),c(1)},className:"bg-[#0F172A] border border-white/10 pl-12 pr-6 py-4 rounded-2xl text-sm text-white w-96 outline-none focus:border-blue-500 transition-all shadow-xl"})]}),T.jsxs("button",{onClick:()=>t(Fl()),className:"flex items-center space-x-2 text-slate-500 hover:text-red-400 transition-colors font-bold text-[10px] uppercase ml-4",children:[T.jsx(Hd,{size:18}),T.jsx("span",{children:"Logout"})]})]})]}),T.jsxs("div",{className:"bg-[#161B2B] border border-white/5 rounded-[2.5rem] shadow-2xl overflow-hidden",children:[T.jsxs("table",{className:"w-full text-left",children:[T.jsx("thead",{className:"bg-slate-900/50 text-[10px] uppercase font-black text-slate-500 tracking-widest border-b border-white/5",children:T.jsxs("tr",{children:[T.jsx("th",{className:"px-8 py-6",children:"Resource"}),T.jsx("th",{className:"px-8 py-6",children:"Zone"}),T.jsx("th",{className:"px-8 py-6",children:"Specifications"}),T.jsx("th",{className:"px-8 py-6 text-right",children:"Actions"})]})}),T.jsx("tbody",{className:"divide-y divide-white/5",children:x.length>0?x.map(d=>T.jsxs("tr",{className:"hover:bg-white/[0.02] transition-colors group",children:[T.jsx("td",{className:"px-8 py-5",children:T.jsxs("div",{className:"flex flex-col",children:[T.jsx("span",{className:"text-white font-bold text-sm",children:d.name}),T.jsx("span",{className:"text-[10px] font-mono text-emerald-500",children:d.node_hash})]})}),T.jsx("td",{className:"px-8 py-5 text-xs font-bold uppercase",children:d.zone}),T.jsx("td",{className:"px-8 py-5",children:T.jsxs("div",{className:"flex gap-2",children:[T.jsx("span",{className:"px-2 py-1 bg-slate-800 rounded text-[9px] font-black text-slate-400 uppercase",children:d.tier}),T.jsx("span",{className:"px-2 py-1 bg-slate-800 rounded text-[9px] font-black text-slate-400 uppercase",children:d.os})]})}),T.jsxs("td",{className:"px-8 py-5 text-right flex justify-end space-x-2",children:[T.jsxs("button",{onClick:()=>r(`/seeker/node/${d.id}`),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600/10 hover:bg-blue-600 text-blue-400 hover:text-white rounded-xl transition-all font-bold text-[10px] uppercase border border-blue-500/20",children:[T.jsx(hy,{size:14}),T.jsx("span",{children:"Control Center"})]}),T.jsx("button",{className:"p-2 bg-slate-800 hover:bg-emerald-600 rounded-lg transition-all",children:T.jsx(uy,{size:14})})]})]},d.id)):T.jsx("tr",{children:T.jsx("td",{colSpan:4,className:"py-32 text-center",children:T.jsxs("div",{className:"flex flex-col items-center justify-center space-y-4",children:[T.jsx("div",{className:"p-6 bg-slate-900/50 rounded-full text-slate-700",children:T.jsx(ml,{size:48})}),T.jsx("p",{className:"text-slate-500 font-bold uppercase text-xs tracking-widest italic",children:"No active resources found in your fleet."}),T.jsx("button",{onClick:()=>r("/seeker/discovery"),className:"px-8 py-3 bg-blue-600 hover:bg-blue-500 text-white font-black uppercase text-[10px] rounded-2xl transition-all shadow-lg shadow-blue-500/20",children:"Explore Marketplace"})]})})})})]}),m>1&&T.jsxs("div",{className:"p-8 bg-slate-900/40 border-t border-white/5 flex justify-between items-center",children:[T.jsxs("span",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:["Page ",y," of ",m]}),T.jsxs("div",{className:"flex space-x-3",children:[T.jsx("button",{disabled:y===1,onClick:()=>c(y-1),className:"px-6 py-2 bg-slate-800 hover:bg-slate-700 disabled:opacity-20 rounded-xl text-[10px] font-black uppercase transition-all",children:"Previous"}),T.jsx("button",{disabled:y===m,onClick:()=>c(y+1),className:"px-6 py-2 bg-slate-800 hover:bg-slate-700 disabled:opacity-20 rounded-xl text-[10px] font-black uppercase transition-all",children:"Next"})]})]})]})]})})};var dy={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(self,()=>(()=>{var r={4567:function(u,l,c){var p=this&&this.__decorate||function(v,S,E,R){var D,k=arguments.length,A=k<3?S:R===null?R=Object.getOwnPropertyDescriptor(S,E):R;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(v,S,E,R);else for(var B=v.length-1;B>=0;B--)(D=v[B])&&(A=(k<3?D(A):k>3?D(S,E,A):D(S,E))||A);return k>3&&A&&Object.defineProperty(S,E,A),A},g=this&&this.__param||function(v,S){return function(E,R){S(E,R,v)}};Object.defineProperty(l,"__esModule",{value:!0}),l.AccessibilityManager=void 0;const m=c(9042),y=c(6114),b=c(9924),C=c(844),x=c(5596),d=c(4725),_=c(3656);let f=l.AccessibilityManager=class extends C.Disposable{constructor(v,S){super(),this._terminal=v,this._renderService=S,this._liveRegionLineCount=0,this._charsToConsume=[],this._charsToAnnounce="",this._accessibilityContainer=document.createElement("div"),this._accessibilityContainer.classList.add("xterm-accessibility"),this._rowContainer=document.createElement("div"),this._rowContainer.setAttribute("role","list"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(let E=0;E<this._terminal.rows;E++)this._rowElements[E]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[E]);if(this._topBoundaryFocusListener=E=>this._handleBoundaryFocus(E,0),this._bottomBoundaryFocusListener=E=>this._handleBoundaryFocus(E,1),this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions(),this._accessibilityContainer.appendChild(this._rowContainer),this._liveRegion=document.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityContainer.appendChild(this._liveRegion),this._liveRegionDebouncer=this.register(new b.TimeBasedDebouncer(this._renderRows.bind(this))),!this._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityContainer),this.register(this._terminal.onResize(E=>this._handleResize(E.rows))),this.register(this._terminal.onRender(E=>this._refreshRows(E.start,E.end))),this.register(this._terminal.onScroll(()=>this._refreshRows())),this.register(this._terminal.onA11yChar(E=>this._handleChar(E))),this.register(this._terminal.onLineFeed(()=>this._handleChar(`
`))),this.register(this._terminal.onA11yTab(E=>this._handleTab(E))),this.register(this._terminal.onKey(E=>this._handleKey(E.key))),this.register(this._terminal.onBlur(()=>this._clearLiveRegion())),this.register(this._renderService.onDimensionsChange(()=>this._refreshRowsDimensions())),this._screenDprMonitor=new x.ScreenDprMonitor(window),this.register(this._screenDprMonitor),this._screenDprMonitor.setListener(()=>this._refreshRowsDimensions()),this.register((0,_.addDisposableDomListener)(window,"resize",()=>this._refreshRowsDimensions())),this._refreshRows(),this.register((0,C.toDisposable)(()=>{this._accessibilityContainer.remove(),this._rowElements.length=0}))}_handleTab(v){for(let S=0;S<v;S++)this._handleChar(" ")}_handleChar(v){this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==v&&(this._charsToAnnounce+=v):this._charsToAnnounce+=v,v===`
`&&(this._liveRegionLineCount++,this._liveRegionLineCount===21&&(this._liveRegion.textContent+=m.tooMuchOutput)),y.isMac&&this._liveRegion.textContent&&this._liveRegion.textContent.length>0&&!this._liveRegion.parentNode&&setTimeout(()=>{this._accessibilityContainer.appendChild(this._liveRegion)},0))}_clearLiveRegion(){this._liveRegion.textContent="",this._liveRegionLineCount=0,y.isMac&&this._liveRegion.remove()}_handleKey(v){this._clearLiveRegion(),new RegExp("\\p{Control}","u").test(v)||this._charsToConsume.push(v)}_refreshRows(v,S){this._liveRegionDebouncer.refresh(v,S,this._terminal.rows)}_renderRows(v,S){const E=this._terminal.buffer,R=E.lines.length.toString();for(let D=v;D<=S;D++){const k=E.translateBufferLineToString(E.ydisp+D,!0),A=(E.ydisp+D+1).toString(),B=this._rowElements[D];B&&(k.length===0?B.innerText="":B.textContent=k,B.setAttribute("aria-posinset",A),B.setAttribute("aria-setsize",R))}this._announceCharacters()}_announceCharacters(){this._charsToAnnounce.length!==0&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")}_handleBoundaryFocus(v,S){const E=v.target,R=this._rowElements[S===0?1:this._rowElements.length-2];if(E.getAttribute("aria-posinset")===(S===0?"1":`${this._terminal.buffer.lines.length}`)||v.relatedTarget!==R)return;let D,k;if(S===0?(D=E,k=this._rowElements.pop(),this._rowContainer.removeChild(k)):(D=this._rowElements.shift(),k=E,this._rowContainer.removeChild(D)),D.removeEventListener("focus",this._topBoundaryFocusListener),k.removeEventListener("focus",this._bottomBoundaryFocusListener),S===0){const A=this._createAccessibilityTreeNode();this._rowElements.unshift(A),this._rowContainer.insertAdjacentElement("afterbegin",A)}else{const A=this._createAccessibilityTreeNode();this._rowElements.push(A),this._rowContainer.appendChild(A)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(S===0?-1:1),this._rowElements[S===0?1:this._rowElements.length-2].focus(),v.preventDefault(),v.stopImmediatePropagation()}_handleResize(v){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(let S=this._rowContainer.children.length;S<this._terminal.rows;S++)this._rowElements[S]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[S]);for(;this._rowElements.length>v;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()}_createAccessibilityTreeNode(){const v=document.createElement("div");return v.setAttribute("role","listitem"),v.tabIndex=-1,this._refreshRowDimensions(v),v}_refreshRowsDimensions(){if(this._renderService.dimensions.css.cell.height){this._accessibilityContainer.style.width=`${this._renderService.dimensions.css.canvas.width}px`,this._rowElements.length!==this._terminal.rows&&this._handleResize(this._terminal.rows);for(let v=0;v<this._terminal.rows;v++)this._refreshRowDimensions(this._rowElements[v])}}_refreshRowDimensions(v){v.style.height=`${this._renderService.dimensions.css.cell.height}px`}};l.AccessibilityManager=f=p([g(1,d.IRenderService)],f)},3614:(u,l)=>{function c(y){return y.replace(/\r?\n/g,"\r")}function p(y,b){return b?"\x1B[200~"+y+"\x1B[201~":y}function g(y,b,C,x){y=p(y=c(y),C.decPrivateModes.bracketedPasteMode&&x.rawOptions.ignoreBracketedPasteMode!==!0),C.triggerDataEvent(y,!0),b.value=""}function m(y,b,C){const x=C.getBoundingClientRect(),d=y.clientX-x.left-10,_=y.clientY-x.top-10;b.style.width="20px",b.style.height="20px",b.style.left=`${d}px`,b.style.top=`${_}px`,b.style.zIndex="1000",b.focus()}Object.defineProperty(l,"__esModule",{value:!0}),l.rightClickHandler=l.moveTextAreaUnderMouseCursor=l.paste=l.handlePasteEvent=l.copyHandler=l.bracketTextForPaste=l.prepareTextForTerminal=void 0,l.prepareTextForTerminal=c,l.bracketTextForPaste=p,l.copyHandler=function(y,b){y.clipboardData&&y.clipboardData.setData("text/plain",b.selectionText),y.preventDefault()},l.handlePasteEvent=function(y,b,C,x){y.stopPropagation(),y.clipboardData&&g(y.clipboardData.getData("text/plain"),b,C,x)},l.paste=g,l.moveTextAreaUnderMouseCursor=m,l.rightClickHandler=function(y,b,C,x,d){m(y,b,C),d&&x.rightClickSelect(y),b.value=x.selectionText,b.select()}},7239:(u,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.ColorContrastCache=void 0;const p=c(1505);l.ColorContrastCache=class{constructor(){this._color=new p.TwoKeyMap,this._css=new p.TwoKeyMap}setCss(g,m,y){this._css.set(g,m,y)}getCss(g,m){return this._css.get(g,m)}setColor(g,m,y){this._color.set(g,m,y)}getColor(g,m){return this._color.get(g,m)}clear(){this._color.clear(),this._css.clear()}}},3656:(u,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.addDisposableDomListener=void 0,l.addDisposableDomListener=function(c,p,g,m){c.addEventListener(p,g,m);let y=!1;return{dispose:()=>{y||(y=!0,c.removeEventListener(p,g,m))}}}},6465:function(u,l,c){var p=this&&this.__decorate||function(d,_,f,v){var S,E=arguments.length,R=E<3?_:v===null?v=Object.getOwnPropertyDescriptor(_,f):v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(d,_,f,v);else for(var D=d.length-1;D>=0;D--)(S=d[D])&&(R=(E<3?S(R):E>3?S(_,f,R):S(_,f))||R);return E>3&&R&&Object.defineProperty(_,f,R),R},g=this&&this.__param||function(d,_){return function(f,v){_(f,v,d)}};Object.defineProperty(l,"__esModule",{value:!0}),l.Linkifier2=void 0;const m=c(3656),y=c(8460),b=c(844),C=c(2585);let x=l.Linkifier2=class extends b.Disposable{get currentLink(){return this._currentLink}constructor(d){super(),this._bufferService=d,this._linkProviders=[],this._linkCacheDisposables=[],this._isMouseOut=!0,this._wasResized=!1,this._activeLine=-1,this._onShowLinkUnderline=this.register(new y.EventEmitter),this.onShowLinkUnderline=this._onShowLinkUnderline.event,this._onHideLinkUnderline=this.register(new y.EventEmitter),this.onHideLinkUnderline=this._onHideLinkUnderline.event,this.register((0,b.getDisposeArrayDisposable)(this._linkCacheDisposables)),this.register((0,b.toDisposable)(()=>{this._lastMouseEvent=void 0})),this.register(this._bufferService.onResize(()=>{this._clearCurrentLink(),this._wasResized=!0}))}registerLinkProvider(d){return this._linkProviders.push(d),{dispose:()=>{const _=this._linkProviders.indexOf(d);_!==-1&&this._linkProviders.splice(_,1)}}}attachToDom(d,_,f){this._element=d,this._mouseService=_,this._renderService=f,this.register((0,m.addDisposableDomListener)(this._element,"mouseleave",()=>{this._isMouseOut=!0,this._clearCurrentLink()})),this.register((0,m.addDisposableDomListener)(this._element,"mousemove",this._handleMouseMove.bind(this))),this.register((0,m.addDisposableDomListener)(this._element,"mousedown",this._handleMouseDown.bind(this))),this.register((0,m.addDisposableDomListener)(this._element,"mouseup",this._handleMouseUp.bind(this)))}_handleMouseMove(d){if(this._lastMouseEvent=d,!this._element||!this._mouseService)return;const _=this._positionFromMouseEvent(d,this._element,this._mouseService);if(!_)return;this._isMouseOut=!1;const f=d.composedPath();for(let v=0;v<f.length;v++){const S=f[v];if(S.classList.contains("xterm"))break;if(S.classList.contains("xterm-hover"))return}this._lastBufferCell&&_.x===this._lastBufferCell.x&&_.y===this._lastBufferCell.y||(this._handleHover(_),this._lastBufferCell=_)}_handleHover(d){if(this._activeLine!==d.y||this._wasResized)return this._clearCurrentLink(),this._askForLink(d,!1),void(this._wasResized=!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,d)||(this._clearCurrentLink(),this._askForLink(d,!0))}_askForLink(d,_){var f,v;this._activeProviderReplies&&_||((f=this._activeProviderReplies)===null||f===void 0||f.forEach(E=>{E==null||E.forEach(R=>{R.link.dispose&&R.link.dispose()})}),this._activeProviderReplies=new Map,this._activeLine=d.y);let S=!1;for(const[E,R]of this._linkProviders.entries())_?!((v=this._activeProviderReplies)===null||v===void 0)&&v.get(E)&&(S=this._checkLinkProviderResult(E,d,S)):R.provideLinks(d.y,D=>{var k,A;if(this._isMouseOut)return;const B=D==null?void 0:D.map(H=>({link:H}));(k=this._activeProviderReplies)===null||k===void 0||k.set(E,B),S=this._checkLinkProviderResult(E,d,S),((A=this._activeProviderReplies)===null||A===void 0?void 0:A.size)===this._linkProviders.length&&this._removeIntersectingLinks(d.y,this._activeProviderReplies)})}_removeIntersectingLinks(d,_){const f=new Set;for(let v=0;v<_.size;v++){const S=_.get(v);if(S)for(let E=0;E<S.length;E++){const R=S[E],D=R.link.range.start.y<d?0:R.link.range.start.x,k=R.link.range.end.y>d?this._bufferService.cols:R.link.range.end.x;for(let A=D;A<=k;A++){if(f.has(A)){S.splice(E--,1);break}f.add(A)}}}}_checkLinkProviderResult(d,_,f){var v;if(!this._activeProviderReplies)return f;const S=this._activeProviderReplies.get(d);let E=!1;for(let R=0;R<d;R++)this._activeProviderReplies.has(R)&&!this._activeProviderReplies.get(R)||(E=!0);if(!E&&S){const R=S.find(D=>this._linkAtPosition(D.link,_));R&&(f=!0,this._handleNewLink(R))}if(this._activeProviderReplies.size===this._linkProviders.length&&!f)for(let R=0;R<this._activeProviderReplies.size;R++){const D=(v=this._activeProviderReplies.get(R))===null||v===void 0?void 0:v.find(k=>this._linkAtPosition(k.link,_));if(D){f=!0,this._handleNewLink(D);break}}return f}_handleMouseDown(){this._mouseDownLink=this._currentLink}_handleMouseUp(d){if(!this._element||!this._mouseService||!this._currentLink)return;const _=this._positionFromMouseEvent(d,this._element,this._mouseService);_&&this._mouseDownLink===this._currentLink&&this._linkAtPosition(this._currentLink.link,_)&&this._currentLink.link.activate(d,this._currentLink.link.text)}_clearCurrentLink(d,_){this._element&&this._currentLink&&this._lastMouseEvent&&(!d||!_||this._currentLink.link.range.start.y>=d&&this._currentLink.link.range.end.y<=_)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,b.disposeArray)(this._linkCacheDisposables))}_handleNewLink(d){if(!this._element||!this._lastMouseEvent||!this._mouseService)return;const _=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);_&&this._linkAtPosition(d.link,_)&&(this._currentLink=d,this._currentLink.state={decorations:{underline:d.link.decorations===void 0||d.link.decorations.underline,pointerCursor:d.link.decorations===void 0||d.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,d.link,this._lastMouseEvent),d.link.decorations={},Object.defineProperties(d.link.decorations,{pointerCursor:{get:()=>{var f,v;return(v=(f=this._currentLink)===null||f===void 0?void 0:f.state)===null||v===void 0?void 0:v.decorations.pointerCursor},set:f=>{var v,S;!((v=this._currentLink)===null||v===void 0)&&v.state&&this._currentLink.state.decorations.pointerCursor!==f&&(this._currentLink.state.decorations.pointerCursor=f,this._currentLink.state.isHovered&&((S=this._element)===null||S===void 0||S.classList.toggle("xterm-cursor-pointer",f)))}},underline:{get:()=>{var f,v;return(v=(f=this._currentLink)===null||f===void 0?void 0:f.state)===null||v===void 0?void 0:v.decorations.underline},set:f=>{var v,S,E;!((v=this._currentLink)===null||v===void 0)&&v.state&&((E=(S=this._currentLink)===null||S===void 0?void 0:S.state)===null||E===void 0?void 0:E.decorations.underline)!==f&&(this._currentLink.state.decorations.underline=f,this._currentLink.state.isHovered&&this._fireUnderlineEvent(d.link,f))}}}),this._renderService&&this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange(f=>{if(!this._currentLink)return;const v=f.start===0?0:f.start+1+this._bufferService.buffer.ydisp,S=this._bufferService.buffer.ydisp+1+f.end;if(this._currentLink.link.range.start.y>=v&&this._currentLink.link.range.end.y<=S&&(this._clearCurrentLink(v,S),this._lastMouseEvent&&this._element)){const E=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);E&&this._askForLink(E,!1)}})))}_linkHover(d,_,f){var v;!((v=this._currentLink)===null||v===void 0)&&v.state&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(_,!0),this._currentLink.state.decorations.pointerCursor&&d.classList.add("xterm-cursor-pointer")),_.hover&&_.hover(f,_.text)}_fireUnderlineEvent(d,_){const f=d.range,v=this._bufferService.buffer.ydisp,S=this._createLinkUnderlineEvent(f.start.x-1,f.start.y-v-1,f.end.x,f.end.y-v-1,void 0);(_?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(S)}_linkLeave(d,_,f){var v;!((v=this._currentLink)===null||v===void 0)&&v.state&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(_,!1),this._currentLink.state.decorations.pointerCursor&&d.classList.remove("xterm-cursor-pointer")),_.leave&&_.leave(f,_.text)}_linkAtPosition(d,_){const f=d.range.start.y*this._bufferService.cols+d.range.start.x,v=d.range.end.y*this._bufferService.cols+d.range.end.x,S=_.y*this._bufferService.cols+_.x;return f<=S&&S<=v}_positionFromMouseEvent(d,_,f){const v=f.getCoords(d,_,this._bufferService.cols,this._bufferService.rows);if(v)return{x:v[0],y:v[1]+this._bufferService.buffer.ydisp}}_createLinkUnderlineEvent(d,_,f,v,S){return{x1:d,y1:_,x2:f,y2:v,cols:this._bufferService.cols,fg:S}}};l.Linkifier2=x=p([g(0,C.IBufferService)],x)},9042:(u,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.tooMuchOutput=l.promptLabel=void 0,l.promptLabel="Terminal input",l.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},3730:function(u,l,c){var p=this&&this.__decorate||function(x,d,_,f){var v,S=arguments.length,E=S<3?d:f===null?f=Object.getOwnPropertyDescriptor(d,_):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(x,d,_,f);else for(var R=x.length-1;R>=0;R--)(v=x[R])&&(E=(S<3?v(E):S>3?v(d,_,E):v(d,_))||E);return S>3&&E&&Object.defineProperty(d,_,E),E},g=this&&this.__param||function(x,d){return function(_,f){d(_,f,x)}};Object.defineProperty(l,"__esModule",{value:!0}),l.OscLinkProvider=void 0;const m=c(511),y=c(2585);let b=l.OscLinkProvider=class{constructor(x,d,_){this._bufferService=x,this._optionsService=d,this._oscLinkService=_}provideLinks(x,d){var _;const f=this._bufferService.buffer.lines.get(x-1);if(!f)return void d(void 0);const v=[],S=this._optionsService.rawOptions.linkHandler,E=new m.CellData,R=f.getTrimmedLength();let D=-1,k=-1,A=!1;for(let B=0;B<R;B++)if(k!==-1||f.hasContent(B)){if(f.loadCell(B,E),E.hasExtendedAttrs()&&E.extended.urlId){if(k===-1){k=B,D=E.extended.urlId;continue}A=E.extended.urlId!==D}else k!==-1&&(A=!0);if(A||k!==-1&&B===R-1){const H=(_=this._oscLinkService.getLinkData(D))===null||_===void 0?void 0:_.uri;if(H){const j={start:{x:k+1,y:x},end:{x:B+(A||B!==R-1?0:1),y:x}};let $=!1;if(!(S!=null&&S.allowNonHttpProtocols))try{const q=new URL(H);["http:","https:"].includes(q.protocol)||($=!0)}catch{$=!0}$||v.push({text:H,range:j,activate:(q,Q)=>S?S.activate(q,Q,j):C(0,Q),hover:(q,Q)=>{var X;return(X=S==null?void 0:S.hover)===null||X===void 0?void 0:X.call(S,q,Q,j)},leave:(q,Q)=>{var X;return(X=S==null?void 0:S.leave)===null||X===void 0?void 0:X.call(S,q,Q,j)}})}A=!1,E.hasExtendedAttrs()&&E.extended.urlId?(k=B,D=E.extended.urlId):(k=-1,D=-1)}}d(v)}};function C(x,d){if(confirm(`Do you want to navigate to ${d}?

WARNING: This link could potentially be dangerous`)){const _=window.open();if(_){try{_.opener=null}catch{}_.location.href=d}else console.warn("Opening link blocked as opener could not be cleared")}}l.OscLinkProvider=b=p([g(0,y.IBufferService),g(1,y.IOptionsService),g(2,y.IOscLinkService)],b)},6193:(u,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.RenderDebouncer=void 0,l.RenderDebouncer=class{constructor(c,p){this._parentWindow=c,this._renderCallback=p,this._refreshCallbacks=[]}dispose(){this._animationFrame&&(this._parentWindow.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}addRefreshCallback(c){return this._refreshCallbacks.push(c),this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh())),this._animationFrame}refresh(c,p,g){this._rowCount=g,c=c!==void 0?c:0,p=p!==void 0?p:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,c):c,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,p):p,this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._animationFrame=void 0,this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return void this._runRefreshCallbacks();const c=Math.max(this._rowStart,0),p=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(c,p),this._runRefreshCallbacks()}_runRefreshCallbacks(){for(const c of this._refreshCallbacks)c(0);this._refreshCallbacks=[]}}},5596:(u,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.ScreenDprMonitor=void 0;const p=c(844);class g extends p.Disposable{constructor(y){super(),this._parentWindow=y,this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this.register((0,p.toDisposable)(()=>{this.clearListener()}))}setListener(y){this._listener&&this.clearListener(),this._listener=y,this._outerListener=()=>{this._listener&&(this._listener(this._parentWindow.devicePixelRatio,this._currentDevicePixelRatio),this._updateDpr())},this._updateDpr()}_updateDpr(){var y;this._outerListener&&((y=this._resolutionMediaMatchList)===null||y===void 0||y.removeListener(this._outerListener),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._resolutionMediaMatchList=this._parentWindow.matchMedia(`screen and (resolution: ${this._parentWindow.devicePixelRatio}dppx)`),this._resolutionMediaMatchList.addListener(this._outerListener))}clearListener(){this._resolutionMediaMatchList&&this._listener&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._listener=void 0,this._outerListener=void 0)}}l.ScreenDprMonitor=g},3236:(u,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.Terminal=void 0;const p=c(3614),g=c(3656),m=c(6465),y=c(9042),b=c(3730),C=c(1680),x=c(3107),d=c(5744),_=c(2950),f=c(1296),v=c(428),S=c(4269),E=c(5114),R=c(8934),D=c(3230),k=c(9312),A=c(4725),B=c(6731),H=c(8055),j=c(8969),$=c(8460),q=c(844),Q=c(6114),X=c(8437),ee=c(2584),O=c(7399),z=c(5941),I=c(9074),F=c(2585),J=c(5435),ne=c(4567),ae=typeof window<"u"?window.document:null;class se extends j.CoreTerminal{get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onA11yChar(){return this._onA11yCharEmitter.event}get onA11yTab(){return this._onA11yTabEmitter.event}get onWillOpen(){return this._onWillOpen.event}constructor(N={}){super(N),this.browser=Q,this._keyDownHandled=!1,this._keyDownSeen=!1,this._keyPressHandled=!1,this._unprocessedDeadKey=!1,this._accessibilityManager=this.register(new q.MutableDisposable),this._onCursorMove=this.register(new $.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onKey=this.register(new $.EventEmitter),this.onKey=this._onKey.event,this._onRender=this.register(new $.EventEmitter),this.onRender=this._onRender.event,this._onSelectionChange=this.register(new $.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onTitleChange=this.register(new $.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onBell=this.register(new $.EventEmitter),this.onBell=this._onBell.event,this._onFocus=this.register(new $.EventEmitter),this._onBlur=this.register(new $.EventEmitter),this._onA11yCharEmitter=this.register(new $.EventEmitter),this._onA11yTabEmitter=this.register(new $.EventEmitter),this._onWillOpen=this.register(new $.EventEmitter),this._setup(),this.linkifier2=this.register(this._instantiationService.createInstance(m.Linkifier2)),this.linkifier2.registerLinkProvider(this._instantiationService.createInstance(b.OscLinkProvider)),this._decorationService=this._instantiationService.createInstance(I.DecorationService),this._instantiationService.setService(F.IDecorationService,this._decorationService),this.register(this._inputHandler.onRequestBell(()=>this._onBell.fire())),this.register(this._inputHandler.onRequestRefreshRows((W,te)=>this.refresh(W,te))),this.register(this._inputHandler.onRequestSendFocus(()=>this._reportFocus())),this.register(this._inputHandler.onRequestReset(()=>this.reset())),this.register(this._inputHandler.onRequestWindowsOptionsReport(W=>this._reportWindowsOptions(W))),this.register(this._inputHandler.onColor(W=>this._handleColorEvent(W))),this.register((0,$.forwardEvent)(this._inputHandler.onCursorMove,this._onCursorMove)),this.register((0,$.forwardEvent)(this._inputHandler.onTitleChange,this._onTitleChange)),this.register((0,$.forwardEvent)(this._inputHandler.onA11yChar,this._onA11yCharEmitter)),this.register((0,$.forwardEvent)(this._inputHandler.onA11yTab,this._onA11yTabEmitter)),this.register(this._bufferService.onResize(W=>this._afterResize(W.cols,W.rows))),this.register((0,q.toDisposable)(()=>{var W,te;this._customKeyEventHandler=void 0,(te=(W=this.element)===null||W===void 0?void 0:W.parentNode)===null||te===void 0||te.removeChild(this.element)}))}_handleColorEvent(N){if(this._themeService)for(const W of N){let te,Y="";switch(W.index){case 256:te="foreground",Y="10";break;case 257:te="background",Y="11";break;case 258:te="cursor",Y="12";break;default:te="ansi",Y="4;"+W.index}switch(W.type){case 0:const me=H.color.toColorRGB(te==="ansi"?this._themeService.colors.ansi[W.index]:this._themeService.colors[te]);this.coreService.triggerDataEvent(`${ee.C0.ESC}]${Y};${(0,z.toRgbString)(me)}${ee.C1_ESCAPED.ST}`);break;case 1:if(te==="ansi")this._themeService.modifyColors(le=>le.ansi[W.index]=H.rgba.toColor(...W.color));else{const le=te;this._themeService.modifyColors(Ce=>Ce[le]=H.rgba.toColor(...W.color))}break;case 2:this._themeService.restoreColor(W.index)}}}_setup(){super._setup(),this._customKeyEventHandler=void 0}get buffer(){return this.buffers.active}focus(){this.textarea&&this.textarea.focus({preventScroll:!0})}_handleScreenReaderModeOptionChange(N){N?!this._accessibilityManager.value&&this._renderService&&(this._accessibilityManager.value=this._instantiationService.createInstance(ne.AccessibilityManager,this)):this._accessibilityManager.clear()}_handleTextAreaFocus(N){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(ee.C0.ESC+"[I"),this.updateCursorStyle(N),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()}blur(){var N;return(N=this.textarea)===null||N===void 0?void 0:N.blur()}_handleTextAreaBlur(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(ee.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()}_syncTextArea(){if(!this.textarea||!this.buffer.isCursorInViewport||this._compositionHelper.isComposing||!this._renderService)return;const N=this.buffer.ybase+this.buffer.y,W=this.buffer.lines.get(N);if(!W)return;const te=Math.min(this.buffer.x,this.cols-1),Y=this._renderService.dimensions.css.cell.height,me=W.getWidth(te),le=this._renderService.dimensions.css.cell.width*me,Ce=this.buffer.y*this._renderService.dimensions.css.cell.height,Ge=te*this._renderService.dimensions.css.cell.width;this.textarea.style.left=Ge+"px",this.textarea.style.top=Ce+"px",this.textarea.style.width=le+"px",this.textarea.style.height=Y+"px",this.textarea.style.lineHeight=Y+"px",this.textarea.style.zIndex="-5"}_initGlobal(){this._bindKeys(),this.register((0,g.addDisposableDomListener)(this.element,"copy",W=>{this.hasSelection()&&(0,p.copyHandler)(W,this._selectionService)}));const N=W=>(0,p.handlePasteEvent)(W,this.textarea,this.coreService,this.optionsService);this.register((0,g.addDisposableDomListener)(this.textarea,"paste",N)),this.register((0,g.addDisposableDomListener)(this.element,"paste",N)),Q.isFirefox?this.register((0,g.addDisposableDomListener)(this.element,"mousedown",W=>{W.button===2&&(0,p.rightClickHandler)(W,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})):this.register((0,g.addDisposableDomListener)(this.element,"contextmenu",W=>{(0,p.rightClickHandler)(W,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})),Q.isLinux&&this.register((0,g.addDisposableDomListener)(this.element,"auxclick",W=>{W.button===1&&(0,p.moveTextAreaUnderMouseCursor)(W,this.textarea,this.screenElement)}))}_bindKeys(){this.register((0,g.addDisposableDomListener)(this.textarea,"keyup",N=>this._keyUp(N),!0)),this.register((0,g.addDisposableDomListener)(this.textarea,"keydown",N=>this._keyDown(N),!0)),this.register((0,g.addDisposableDomListener)(this.textarea,"keypress",N=>this._keyPress(N),!0)),this.register((0,g.addDisposableDomListener)(this.textarea,"compositionstart",()=>this._compositionHelper.compositionstart())),this.register((0,g.addDisposableDomListener)(this.textarea,"compositionupdate",N=>this._compositionHelper.compositionupdate(N))),this.register((0,g.addDisposableDomListener)(this.textarea,"compositionend",()=>this._compositionHelper.compositionend())),this.register((0,g.addDisposableDomListener)(this.textarea,"input",N=>this._inputEvent(N),!0)),this.register(this.onRender(()=>this._compositionHelper.updateCompositionElements()))}open(N){var W;if(!N)throw new Error("Terminal requires a parent element.");N.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this._document=N.ownerDocument,this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),N.appendChild(this.element);const te=ae.createDocumentFragment();this._viewportElement=ae.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),te.appendChild(this._viewportElement),this._viewportScrollArea=ae.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=ae.createElement("div"),this.screenElement.classList.add("xterm-screen"),this._helperContainer=ae.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),te.appendChild(this.screenElement),this.textarea=ae.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",y.promptLabel),Q.isChromeOS||this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this._coreBrowserService=this._instantiationService.createInstance(E.CoreBrowserService,this.textarea,(W=this._document.defaultView)!==null&&W!==void 0?W:window),this._instantiationService.setService(A.ICoreBrowserService,this._coreBrowserService),this.register((0,g.addDisposableDomListener)(this.textarea,"focus",Y=>this._handleTextAreaFocus(Y))),this.register((0,g.addDisposableDomListener)(this.textarea,"blur",()=>this._handleTextAreaBlur())),this._helperContainer.appendChild(this.textarea),this._charSizeService=this._instantiationService.createInstance(v.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(A.ICharSizeService,this._charSizeService),this._themeService=this._instantiationService.createInstance(B.ThemeService),this._instantiationService.setService(A.IThemeService,this._themeService),this._characterJoinerService=this._instantiationService.createInstance(S.CharacterJoinerService),this._instantiationService.setService(A.ICharacterJoinerService,this._characterJoinerService),this._renderService=this.register(this._instantiationService.createInstance(D.RenderService,this.rows,this.screenElement)),this._instantiationService.setService(A.IRenderService,this._renderService),this.register(this._renderService.onRenderedViewportChange(Y=>this._onRender.fire(Y))),this.onResize(Y=>this._renderService.resize(Y.cols,Y.rows)),this._compositionView=ae.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(_.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this.element.appendChild(te);try{this._onWillOpen.fire(this.element)}catch{}this._renderService.hasRenderer()||this._renderService.setRenderer(this._createRenderer()),this._mouseService=this._instantiationService.createInstance(R.MouseService),this._instantiationService.setService(A.IMouseService,this._mouseService),this.viewport=this._instantiationService.createInstance(C.Viewport,this._viewportElement,this._viewportScrollArea),this.viewport.onRequestScrollLines(Y=>this.scrollLines(Y.amount,Y.suppressScrollEvent,1)),this.register(this._inputHandler.onRequestSyncScrollBar(()=>this.viewport.syncScrollArea())),this.register(this.viewport),this.register(this.onCursorMove(()=>{this._renderService.handleCursorMove(),this._syncTextArea()})),this.register(this.onResize(()=>this._renderService.handleResize(this.cols,this.rows))),this.register(this.onBlur(()=>this._renderService.handleBlur())),this.register(this.onFocus(()=>this._renderService.handleFocus())),this.register(this._renderService.onDimensionsChange(()=>this.viewport.syncScrollArea())),this._selectionService=this.register(this._instantiationService.createInstance(k.SelectionService,this.element,this.screenElement,this.linkifier2)),this._instantiationService.setService(A.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines(Y=>this.scrollLines(Y.amount,Y.suppressScrollEvent))),this.register(this._selectionService.onSelectionChange(()=>this._onSelectionChange.fire())),this.register(this._selectionService.onRequestRedraw(Y=>this._renderService.handleSelectionChanged(Y.start,Y.end,Y.columnSelectMode))),this.register(this._selectionService.onLinuxMouseSelection(Y=>{this.textarea.value=Y,this.textarea.focus(),this.textarea.select()})),this.register(this._onScroll.event(Y=>{this.viewport.syncScrollArea(),this._selectionService.refresh()})),this.register((0,g.addDisposableDomListener)(this._viewportElement,"scroll",()=>this._selectionService.refresh())),this.linkifier2.attachToDom(this.screenElement,this._mouseService,this._renderService),this.register(this._instantiationService.createInstance(x.BufferDecorationRenderer,this.screenElement)),this.register((0,g.addDisposableDomListener)(this.element,"mousedown",Y=>this._selectionService.handleMouseDown(Y))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager.value=this._instantiationService.createInstance(ne.AccessibilityManager,this)),this.register(this.optionsService.onSpecificOptionChange("screenReaderMode",Y=>this._handleScreenReaderModeOptionChange(Y))),this.options.overviewRulerWidth&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(d.OverviewRulerRenderer,this._viewportElement,this.screenElement))),this.optionsService.onSpecificOptionChange("overviewRulerWidth",Y=>{!this._overviewRulerRenderer&&Y&&this._viewportElement&&this.screenElement&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(d.OverviewRulerRenderer,this._viewportElement,this.screenElement)))}),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()}_createRenderer(){return this._instantiationService.createInstance(f.DomRenderer,this.element,this.screenElement,this._viewportElement,this.linkifier2)}bindMouse(){const N=this,W=this.element;function te(le){const Ce=N._mouseService.getMouseReportCoords(le,N.screenElement);if(!Ce)return!1;let Ge,it;switch(le.overrideType||le.type){case"mousemove":it=32,le.buttons===void 0?(Ge=3,le.button!==void 0&&(Ge=le.button<3?le.button:3)):Ge=1&le.buttons?0:4&le.buttons?1:2&le.buttons?2:3;break;case"mouseup":it=0,Ge=le.button<3?le.button:3;break;case"mousedown":it=1,Ge=le.button<3?le.button:3;break;case"wheel":if(N.viewport.getLinesScrolled(le)===0)return!1;it=le.deltaY<0?0:1,Ge=4;break;default:return!1}return!(it===void 0||Ge===void 0||Ge>4)&&N.coreMouseService.triggerMouseEvent({col:Ce.col,row:Ce.row,x:Ce.x,y:Ce.y,button:Ge,action:it,ctrl:le.ctrlKey,alt:le.altKey,shift:le.shiftKey})}const Y={mouseup:null,wheel:null,mousedrag:null,mousemove:null},me={mouseup:le=>(te(le),le.buttons||(this._document.removeEventListener("mouseup",Y.mouseup),Y.mousedrag&&this._document.removeEventListener("mousemove",Y.mousedrag)),this.cancel(le)),wheel:le=>(te(le),this.cancel(le,!0)),mousedrag:le=>{le.buttons&&te(le)},mousemove:le=>{le.buttons||te(le)}};this.register(this.coreMouseService.onProtocolChange(le=>{le?(this.optionsService.rawOptions.logLevel==="debug"&&this._logService.debug("Binding to mouse events:",this.coreMouseService.explainEvents(le)),this.element.classList.add("enable-mouse-events"),this._selectionService.disable()):(this._logService.debug("Unbinding from mouse events."),this.element.classList.remove("enable-mouse-events"),this._selectionService.enable()),8&le?Y.mousemove||(W.addEventListener("mousemove",me.mousemove),Y.mousemove=me.mousemove):(W.removeEventListener("mousemove",Y.mousemove),Y.mousemove=null),16&le?Y.wheel||(W.addEventListener("wheel",me.wheel,{passive:!1}),Y.wheel=me.wheel):(W.removeEventListener("wheel",Y.wheel),Y.wheel=null),2&le?Y.mouseup||(W.addEventListener("mouseup",me.mouseup),Y.mouseup=me.mouseup):(this._document.removeEventListener("mouseup",Y.mouseup),W.removeEventListener("mouseup",Y.mouseup),Y.mouseup=null),4&le?Y.mousedrag||(Y.mousedrag=me.mousedrag):(this._document.removeEventListener("mousemove",Y.mousedrag),Y.mousedrag=null)})),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,g.addDisposableDomListener)(W,"mousedown",le=>{if(le.preventDefault(),this.focus(),this.coreMouseService.areMouseEventsActive&&!this._selectionService.shouldForceSelection(le))return te(le),Y.mouseup&&this._document.addEventListener("mouseup",Y.mouseup),Y.mousedrag&&this._document.addEventListener("mousemove",Y.mousedrag),this.cancel(le)})),this.register((0,g.addDisposableDomListener)(W,"wheel",le=>{if(!Y.wheel){if(!this.buffer.hasScrollback){const Ce=this.viewport.getLinesScrolled(le);if(Ce===0)return;const Ge=ee.C0.ESC+(this.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(le.deltaY<0?"A":"B");let it="";for(let xr=0;xr<Math.abs(Ce);xr++)it+=Ge;return this.coreService.triggerDataEvent(it,!0),this.cancel(le,!0)}return this.viewport.handleWheel(le)?this.cancel(le):void 0}},{passive:!1})),this.register((0,g.addDisposableDomListener)(W,"touchstart",le=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchStart(le),this.cancel(le)},{passive:!0})),this.register((0,g.addDisposableDomListener)(W,"touchmove",le=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchMove(le)?void 0:this.cancel(le)},{passive:!1}))}refresh(N,W){var te;(te=this._renderService)===null||te===void 0||te.refreshRows(N,W)}updateCursorStyle(N){var W;!((W=this._selectionService)===null||W===void 0)&&W.shouldColumnSelect(N)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")}_showCursor(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))}scrollLines(N,W,te=0){var Y;te===1?(super.scrollLines(N,W,te),this.refresh(0,this.rows-1)):(Y=this.viewport)===null||Y===void 0||Y.scrollLines(N)}paste(N){(0,p.paste)(N,this.textarea,this.coreService,this.optionsService)}attachCustomKeyEventHandler(N){this._customKeyEventHandler=N}registerLinkProvider(N){return this.linkifier2.registerLinkProvider(N)}registerCharacterJoiner(N){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");const W=this._characterJoinerService.register(N);return this.refresh(0,this.rows-1),W}deregisterCharacterJoiner(N){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(N)&&this.refresh(0,this.rows-1)}get markers(){return this.buffer.markers}registerMarker(N){return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+N)}registerDecoration(N){return this._decorationService.registerDecoration(N)}hasSelection(){return!!this._selectionService&&this._selectionService.hasSelection}select(N,W,te){this._selectionService.setSelection(N,W,te)}getSelection(){return this._selectionService?this._selectionService.selectionText:""}getSelectionPosition(){if(this._selectionService&&this._selectionService.hasSelection)return{start:{x:this._selectionService.selectionStart[0],y:this._selectionService.selectionStart[1]},end:{x:this._selectionService.selectionEnd[0],y:this._selectionService.selectionEnd[1]}}}clearSelection(){var N;(N=this._selectionService)===null||N===void 0||N.clearSelection()}selectAll(){var N;(N=this._selectionService)===null||N===void 0||N.selectAll()}selectLines(N,W){var te;(te=this._selectionService)===null||te===void 0||te.selectLines(N,W)}_keyDown(N){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&this._customKeyEventHandler(N)===!1)return!1;const W=this.browser.isMac&&this.options.macOptionIsMeta&&N.altKey;if(!W&&!this._compositionHelper.keydown(N))return this.options.scrollOnUserInput&&this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(),!1;W||N.key!=="Dead"&&N.key!=="AltGraph"||(this._unprocessedDeadKey=!0);const te=(0,O.evaluateKeyboardEvent)(N,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(N),te.type===3||te.type===2){const Y=this.rows-1;return this.scrollLines(te.type===2?-Y:Y),this.cancel(N,!0)}return te.type===1&&this.selectAll(),!!this._isThirdLevelShift(this.browser,N)||(te.cancel&&this.cancel(N,!0),!te.key||!!(N.key&&!N.ctrlKey&&!N.altKey&&!N.metaKey&&N.key.length===1&&N.key.charCodeAt(0)>=65&&N.key.charCodeAt(0)<=90)||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(te.key!==ee.C0.ETX&&te.key!==ee.C0.CR||(this.textarea.value=""),this._onKey.fire({key:te.key,domEvent:N}),this._showCursor(),this.coreService.triggerDataEvent(te.key,!0),!this.optionsService.rawOptions.screenReaderMode||N.altKey||N.ctrlKey?this.cancel(N,!0):void(this._keyDownHandled=!0))))}_isThirdLevelShift(N,W){const te=N.isMac&&!this.options.macOptionIsMeta&&W.altKey&&!W.ctrlKey&&!W.metaKey||N.isWindows&&W.altKey&&W.ctrlKey&&!W.metaKey||N.isWindows&&W.getModifierState("AltGraph");return W.type==="keypress"?te:te&&(!W.keyCode||W.keyCode>47)}_keyUp(N){this._keyDownSeen=!1,this._customKeyEventHandler&&this._customKeyEventHandler(N)===!1||(function(W){return W.keyCode===16||W.keyCode===17||W.keyCode===18}(N)||this.focus(),this.updateCursorStyle(N),this._keyPressHandled=!1)}_keyPress(N){let W;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&this._customKeyEventHandler(N)===!1)return!1;if(this.cancel(N),N.charCode)W=N.charCode;else if(N.which===null||N.which===void 0)W=N.keyCode;else{if(N.which===0||N.charCode===0)return!1;W=N.which}return!(!W||(N.altKey||N.ctrlKey||N.metaKey)&&!this._isThirdLevelShift(this.browser,N)||(W=String.fromCharCode(W),this._onKey.fire({key:W,domEvent:N}),this._showCursor(),this.coreService.triggerDataEvent(W,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))}_inputEvent(N){if(N.data&&N.inputType==="insertText"&&(!N.composed||!this._keyDownSeen)&&!this.optionsService.rawOptions.screenReaderMode){if(this._keyPressHandled)return!1;this._unprocessedDeadKey=!1;const W=N.data;return this.coreService.triggerDataEvent(W,!0),this.cancel(N),!0}return!1}resize(N,W){N!==this.cols||W!==this.rows?super.resize(N,W):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()}_afterResize(N,W){var te,Y;(te=this._charSizeService)===null||te===void 0||te.measure(),(Y=this.viewport)===null||Y===void 0||Y.syncScrollArea(!0)}clear(){var N;if(this.buffer.ybase!==0||this.buffer.y!==0){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(let W=1;W<this.rows;W++)this.buffer.lines.push(this.buffer.getBlankLine(X.DEFAULT_ATTR_DATA));this._onScroll.fire({position:this.buffer.ydisp,source:0}),(N=this.viewport)===null||N===void 0||N.reset(),this.refresh(0,this.rows-1)}}reset(){var N,W;this.options.rows=this.rows,this.options.cols=this.cols;const te=this._customKeyEventHandler;this._setup(),super.reset(),(N=this._selectionService)===null||N===void 0||N.reset(),this._decorationService.reset(),(W=this.viewport)===null||W===void 0||W.reset(),this._customKeyEventHandler=te,this.refresh(0,this.rows-1)}clearTextureAtlas(){var N;(N=this._renderService)===null||N===void 0||N.clearTextureAtlas()}_reportFocus(){var N;!((N=this.element)===null||N===void 0)&&N.classList.contains("focus")?this.coreService.triggerDataEvent(ee.C0.ESC+"[I"):this.coreService.triggerDataEvent(ee.C0.ESC+"[O")}_reportWindowsOptions(N){if(this._renderService)switch(N){case J.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:const W=this._renderService.dimensions.css.canvas.width.toFixed(0),te=this._renderService.dimensions.css.canvas.height.toFixed(0);this.coreService.triggerDataEvent(`${ee.C0.ESC}[4;${te};${W}t`);break;case J.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:const Y=this._renderService.dimensions.css.cell.width.toFixed(0),me=this._renderService.dimensions.css.cell.height.toFixed(0);this.coreService.triggerDataEvent(`${ee.C0.ESC}[6;${me};${Y}t`)}}cancel(N,W){if(this.options.cancelEvents||W)return N.preventDefault(),N.stopPropagation(),!1}}l.Terminal=se},9924:(u,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.TimeBasedDebouncer=void 0,l.TimeBasedDebouncer=class{constructor(c,p=1e3){this._renderCallback=c,this._debounceThresholdMS=p,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}dispose(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)}refresh(c,p,g){this._rowCount=g,c=c!==void 0?c:0,p=p!==void 0?p:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,c):c,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,p):p;const m=Date.now();if(m-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=m,this._innerRefresh();else if(!this._additionalRefreshRequested){const y=m-this._lastRefreshMs,b=this._debounceThresholdMS-y;this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout(()=>{this._lastRefreshMs=Date.now(),this._innerRefresh(),this._additionalRefreshRequested=!1,this._refreshTimeoutID=void 0},b)}}_innerRefresh(){if(this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return;const c=Math.max(this._rowStart,0),p=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(c,p)}}},1680:function(u,l,c){var p=this&&this.__decorate||function(_,f,v,S){var E,R=arguments.length,D=R<3?f:S===null?S=Object.getOwnPropertyDescriptor(f,v):S;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(_,f,v,S);else for(var k=_.length-1;k>=0;k--)(E=_[k])&&(D=(R<3?E(D):R>3?E(f,v,D):E(f,v))||D);return R>3&&D&&Object.defineProperty(f,v,D),D},g=this&&this.__param||function(_,f){return function(v,S){f(v,S,_)}};Object.defineProperty(l,"__esModule",{value:!0}),l.Viewport=void 0;const m=c(3656),y=c(4725),b=c(8460),C=c(844),x=c(2585);let d=l.Viewport=class extends C.Disposable{constructor(_,f,v,S,E,R,D,k){super(),this._viewportElement=_,this._scrollArea=f,this._bufferService=v,this._optionsService=S,this._charSizeService=E,this._renderService=R,this._coreBrowserService=D,this.scrollBarWidth=0,this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._wheelPartialScroll=0,this._refreshAnimationFrame=null,this._ignoreNextScrollEvent=!1,this._smoothScrollState={startTime:0,origin:-1,target:-1},this._onRequestScrollLines=this.register(new b.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this.scrollBarWidth=this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this.register((0,m.addDisposableDomListener)(this._viewportElement,"scroll",this._handleScroll.bind(this))),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(A=>this._activeBuffer=A.activeBuffer)),this._renderDimensions=this._renderService.dimensions,this.register(this._renderService.onDimensionsChange(A=>this._renderDimensions=A)),this._handleThemeChange(k.colors),this.register(k.onChangeColors(A=>this._handleThemeChange(A))),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.syncScrollArea())),setTimeout(()=>this.syncScrollArea())}_handleThemeChange(_){this._viewportElement.style.backgroundColor=_.background.css}reset(){this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._coreBrowserService.window.requestAnimationFrame(()=>this.syncScrollArea())}_refresh(_){if(_)return this._innerRefresh(),void(this._refreshAnimationFrame!==null&&this._coreBrowserService.window.cancelAnimationFrame(this._refreshAnimationFrame));this._refreshAnimationFrame===null&&(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderService.dimensions.device.cell.height/this._coreBrowserService.dpr,this._currentDeviceCellHeight=this._renderService.dimensions.device.cell.height,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;const f=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderService.dimensions.css.canvas.height);this._lastRecordedBufferHeight!==f&&(this._lastRecordedBufferHeight=f,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}const _=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==_&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=_),this._refreshAnimationFrame=null}syncScrollArea(_=!1){if(this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(_);this._lastRecordedViewportHeight===this._renderService.dimensions.css.canvas.height&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.device.cell.height===this._currentDeviceCellHeight||this._refresh(_)}_handleScroll(_){if(this._lastScrollTop=this._viewportElement.scrollTop,!this._viewportElement.offsetParent)return;if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._onRequestScrollLines.fire({amount:0,suppressScrollEvent:!0});const f=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._onRequestScrollLines.fire({amount:f,suppressScrollEvent:!0})}_smoothScroll(){if(this._isDisposed||this._smoothScrollState.origin===-1||this._smoothScrollState.target===-1)return;const _=this._smoothScrollPercent();this._viewportElement.scrollTop=this._smoothScrollState.origin+Math.round(_*(this._smoothScrollState.target-this._smoothScrollState.origin)),_<1?this._coreBrowserService.window.requestAnimationFrame(()=>this._smoothScroll()):this._clearSmoothScrollState()}_smoothScrollPercent(){return this._optionsService.rawOptions.smoothScrollDuration&&this._smoothScrollState.startTime?Math.max(Math.min((Date.now()-this._smoothScrollState.startTime)/this._optionsService.rawOptions.smoothScrollDuration,1),0):1}_clearSmoothScrollState(){this._smoothScrollState.startTime=0,this._smoothScrollState.origin=-1,this._smoothScrollState.target=-1}_bubbleScroll(_,f){const v=this._viewportElement.scrollTop+this._lastRecordedViewportHeight;return!(f<0&&this._viewportElement.scrollTop!==0||f>0&&v<this._lastRecordedBufferHeight)||(_.cancelable&&_.preventDefault(),!1)}handleWheel(_){const f=this._getPixelsScrolled(_);return f!==0&&(this._optionsService.rawOptions.smoothScrollDuration?(this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target===-1?this._smoothScrollState.target=this._viewportElement.scrollTop+f:this._smoothScrollState.target+=f,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()):this._viewportElement.scrollTop+=f,this._bubbleScroll(_,f))}scrollLines(_){if(_!==0)if(this._optionsService.rawOptions.smoothScrollDuration){const f=_*this._currentRowHeight;this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target=this._smoothScrollState.origin+f,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()}else this._onRequestScrollLines.fire({amount:_,suppressScrollEvent:!1})}_getPixelsScrolled(_){if(_.deltaY===0||_.shiftKey)return 0;let f=this._applyScrollModifier(_.deltaY,_);return _.deltaMode===WheelEvent.DOM_DELTA_LINE?f*=this._currentRowHeight:_.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(f*=this._currentRowHeight*this._bufferService.rows),f}getBufferElements(_,f){var v;let S,E="";const R=[],D=f??this._bufferService.buffer.lines.length,k=this._bufferService.buffer.lines;for(let A=_;A<D;A++){const B=k.get(A);if(!B)continue;const H=(v=k.get(A+1))===null||v===void 0?void 0:v.isWrapped;if(E+=B.translateToString(!H),!H||A===k.length-1){const j=document.createElement("div");j.textContent=E,R.push(j),E.length>0&&(S=j),E=""}}return{bufferElements:R,cursorElement:S}}getLinesScrolled(_){if(_.deltaY===0||_.shiftKey)return 0;let f=this._applyScrollModifier(_.deltaY,_);return _.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(f/=this._currentRowHeight+0,this._wheelPartialScroll+=f,f=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):_.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(f*=this._bufferService.rows),f}_applyScrollModifier(_,f){const v=this._optionsService.rawOptions.fastScrollModifier;return v==="alt"&&f.altKey||v==="ctrl"&&f.ctrlKey||v==="shift"&&f.shiftKey?_*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:_*this._optionsService.rawOptions.scrollSensitivity}handleTouchStart(_){this._lastTouchY=_.touches[0].pageY}handleTouchMove(_){const f=this._lastTouchY-_.touches[0].pageY;return this._lastTouchY=_.touches[0].pageY,f!==0&&(this._viewportElement.scrollTop+=f,this._bubbleScroll(_,f))}};l.Viewport=d=p([g(2,x.IBufferService),g(3,x.IOptionsService),g(4,y.ICharSizeService),g(5,y.IRenderService),g(6,y.ICoreBrowserService),g(7,y.IThemeService)],d)},3107:function(u,l,c){var p=this&&this.__decorate||function(d,_,f,v){var S,E=arguments.length,R=E<3?_:v===null?v=Object.getOwnPropertyDescriptor(_,f):v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(d,_,f,v);else for(var D=d.length-1;D>=0;D--)(S=d[D])&&(R=(E<3?S(R):E>3?S(_,f,R):S(_,f))||R);return E>3&&R&&Object.defineProperty(_,f,R),R},g=this&&this.__param||function(d,_){return function(f,v){_(f,v,d)}};Object.defineProperty(l,"__esModule",{value:!0}),l.BufferDecorationRenderer=void 0;const m=c(3656),y=c(4725),b=c(844),C=c(2585);let x=l.BufferDecorationRenderer=class extends b.Disposable{constructor(d,_,f,v){super(),this._screenElement=d,this._bufferService=_,this._decorationService=f,this._renderService=v,this._decorationElements=new Map,this._altBufferIsActive=!1,this._dimensionsChanged=!1,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),this._screenElement.appendChild(this._container),this.register(this._renderService.onRenderedViewportChange(()=>this._doRefreshDecorations())),this.register(this._renderService.onDimensionsChange(()=>{this._dimensionsChanged=!0,this._queueRefresh()})),this.register((0,m.addDisposableDomListener)(window,"resize",()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._altBufferIsActive=this._bufferService.buffer===this._bufferService.buffers.alt})),this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh())),this.register(this._decorationService.onDecorationRemoved(S=>this._removeDecoration(S))),this.register((0,b.toDisposable)(()=>{this._container.remove(),this._decorationElements.clear()}))}_queueRefresh(){this._animationFrame===void 0&&(this._animationFrame=this._renderService.addRefreshCallback(()=>{this._doRefreshDecorations(),this._animationFrame=void 0}))}_doRefreshDecorations(){for(const d of this._decorationService.decorations)this._renderDecoration(d);this._dimensionsChanged=!1}_renderDecoration(d){this._refreshStyle(d),this._dimensionsChanged&&this._refreshXPosition(d)}_createElement(d){var _,f;const v=document.createElement("div");v.classList.add("xterm-decoration"),v.classList.toggle("xterm-decoration-top-layer",((_=d==null?void 0:d.options)===null||_===void 0?void 0:_.layer)==="top"),v.style.width=`${Math.round((d.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,v.style.height=(d.options.height||1)*this._renderService.dimensions.css.cell.height+"px",v.style.top=(d.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.css.cell.height+"px",v.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`;const S=(f=d.options.x)!==null&&f!==void 0?f:0;return S&&S>this._bufferService.cols&&(v.style.display="none"),this._refreshXPosition(d,v),v}_refreshStyle(d){const _=d.marker.line-this._bufferService.buffers.active.ydisp;if(_<0||_>=this._bufferService.rows)d.element&&(d.element.style.display="none",d.onRenderEmitter.fire(d.element));else{let f=this._decorationElements.get(d);f||(f=this._createElement(d),d.element=f,this._decorationElements.set(d,f),this._container.appendChild(f),d.onDispose(()=>{this._decorationElements.delete(d),f.remove()})),f.style.top=_*this._renderService.dimensions.css.cell.height+"px",f.style.display=this._altBufferIsActive?"none":"block",d.onRenderEmitter.fire(f)}}_refreshXPosition(d,_=d.element){var f;if(!_)return;const v=(f=d.options.x)!==null&&f!==void 0?f:0;(d.options.anchor||"left")==="right"?_.style.right=v?v*this._renderService.dimensions.css.cell.width+"px":"":_.style.left=v?v*this._renderService.dimensions.css.cell.width+"px":""}_removeDecoration(d){var _;(_=this._decorationElements.get(d))===null||_===void 0||_.remove(),this._decorationElements.delete(d),d.dispose()}};l.BufferDecorationRenderer=x=p([g(1,C.IBufferService),g(2,C.IDecorationService),g(3,y.IRenderService)],x)},5871:(u,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.ColorZoneStore=void 0,l.ColorZoneStore=class{constructor(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}get zones(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones}clear(){this._zones.length=0,this._zonePoolIndex=0}addDecoration(c){if(c.options.overviewRulerOptions){for(const p of this._zones)if(p.color===c.options.overviewRulerOptions.color&&p.position===c.options.overviewRulerOptions.position){if(this._lineIntersectsZone(p,c.marker.line))return;if(this._lineAdjacentToZone(p,c.marker.line,c.options.overviewRulerOptions.position))return void this._addLineToZone(p,c.marker.line)}if(this._zonePoolIndex<this._zonePool.length)return this._zonePool[this._zonePoolIndex].color=c.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=c.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=c.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=c.marker.line,void this._zones.push(this._zonePool[this._zonePoolIndex++]);this._zones.push({color:c.options.overviewRulerOptions.color,position:c.options.overviewRulerOptions.position,startBufferLine:c.marker.line,endBufferLine:c.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}}setPadding(c){this._linePadding=c}_lineIntersectsZone(c,p){return p>=c.startBufferLine&&p<=c.endBufferLine}_lineAdjacentToZone(c,p,g){return p>=c.startBufferLine-this._linePadding[g||"full"]&&p<=c.endBufferLine+this._linePadding[g||"full"]}_addLineToZone(c,p){c.startBufferLine=Math.min(c.startBufferLine,p),c.endBufferLine=Math.max(c.endBufferLine,p)}}},5744:function(u,l,c){var p=this&&this.__decorate||function(S,E,R,D){var k,A=arguments.length,B=A<3?E:D===null?D=Object.getOwnPropertyDescriptor(E,R):D;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")B=Reflect.decorate(S,E,R,D);else for(var H=S.length-1;H>=0;H--)(k=S[H])&&(B=(A<3?k(B):A>3?k(E,R,B):k(E,R))||B);return A>3&&B&&Object.defineProperty(E,R,B),B},g=this&&this.__param||function(S,E){return function(R,D){E(R,D,S)}};Object.defineProperty(l,"__esModule",{value:!0}),l.OverviewRulerRenderer=void 0;const m=c(5871),y=c(3656),b=c(4725),C=c(844),x=c(2585),d={full:0,left:0,center:0,right:0},_={full:0,left:0,center:0,right:0},f={full:0,left:0,center:0,right:0};let v=l.OverviewRulerRenderer=class extends C.Disposable{get _width(){return this._optionsService.options.overviewRulerWidth||0}constructor(S,E,R,D,k,A,B){var H;super(),this._viewportElement=S,this._screenElement=E,this._bufferService=R,this._decorationService=D,this._renderService=k,this._optionsService=A,this._coreBrowseService=B,this._colorZoneStore=new m.ColorZoneStore,this._shouldUpdateDimensions=!0,this._shouldUpdateAnchor=!0,this._lastKnownBufferLength=0,this._canvas=document.createElement("canvas"),this._canvas.classList.add("xterm-decoration-overview-ruler"),this._refreshCanvasDimensions(),(H=this._viewportElement.parentElement)===null||H===void 0||H.insertBefore(this._canvas,this._viewportElement);const j=this._canvas.getContext("2d");if(!j)throw new Error("Ctx cannot be null");this._ctx=j,this._registerDecorationListeners(),this._registerBufferChangeListeners(),this._registerDimensionChangeListeners(),this.register((0,C.toDisposable)(()=>{var $;($=this._canvas)===null||$===void 0||$.remove()}))}_registerDecorationListeners(){this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh(void 0,!0))),this.register(this._decorationService.onDecorationRemoved(()=>this._queueRefresh(void 0,!0)))}_registerBufferChangeListeners(){this.register(this._renderService.onRenderedViewportChange(()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._canvas.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block"})),this.register(this._bufferService.onScroll(()=>{this._lastKnownBufferLength!==this._bufferService.buffers.normal.lines.length&&(this._refreshDrawHeightConstants(),this._refreshColorZonePadding())}))}_registerDimensionChangeListeners(){this.register(this._renderService.onRender(()=>{this._containerHeight&&this._containerHeight===this._screenElement.clientHeight||(this._queueRefresh(!0),this._containerHeight=this._screenElement.clientHeight)})),this.register(this._optionsService.onSpecificOptionChange("overviewRulerWidth",()=>this._queueRefresh(!0))),this.register((0,y.addDisposableDomListener)(this._coreBrowseService.window,"resize",()=>this._queueRefresh(!0))),this._queueRefresh(!0)}_refreshDrawConstants(){const S=Math.floor(this._canvas.width/3),E=Math.ceil(this._canvas.width/3);_.full=this._canvas.width,_.left=S,_.center=E,_.right=S,this._refreshDrawHeightConstants(),f.full=0,f.left=0,f.center=_.left,f.right=_.left+_.center}_refreshDrawHeightConstants(){d.full=Math.round(2*this._coreBrowseService.dpr);const S=this._canvas.height/this._bufferService.buffer.lines.length,E=Math.round(Math.max(Math.min(S,12),6)*this._coreBrowseService.dpr);d.left=E,d.center=E,d.right=E}_refreshColorZonePadding(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*d.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*d.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*d.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*d.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length}_refreshCanvasDimensions(){this._canvas.style.width=`${this._width}px`,this._canvas.width=Math.round(this._width*this._coreBrowseService.dpr),this._canvas.style.height=`${this._screenElement.clientHeight}px`,this._canvas.height=Math.round(this._screenElement.clientHeight*this._coreBrowseService.dpr),this._refreshDrawConstants(),this._refreshColorZonePadding()}_refreshDecorations(){this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();for(const E of this._decorationService.decorations)this._colorZoneStore.addDecoration(E);this._ctx.lineWidth=1;const S=this._colorZoneStore.zones;for(const E of S)E.position!=="full"&&this._renderColorZone(E);for(const E of S)E.position==="full"&&this._renderColorZone(E);this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1}_renderColorZone(S){this._ctx.fillStyle=S.color,this._ctx.fillRect(f[S.position||"full"],Math.round((this._canvas.height-1)*(S.startBufferLine/this._bufferService.buffers.active.lines.length)-d[S.position||"full"]/2),_[S.position||"full"],Math.round((this._canvas.height-1)*((S.endBufferLine-S.startBufferLine)/this._bufferService.buffers.active.lines.length)+d[S.position||"full"]))}_queueRefresh(S,E){this._shouldUpdateDimensions=S||this._shouldUpdateDimensions,this._shouldUpdateAnchor=E||this._shouldUpdateAnchor,this._animationFrame===void 0&&(this._animationFrame=this._coreBrowseService.window.requestAnimationFrame(()=>{this._refreshDecorations(),this._animationFrame=void 0}))}};l.OverviewRulerRenderer=v=p([g(2,x.IBufferService),g(3,x.IDecorationService),g(4,b.IRenderService),g(5,x.IOptionsService),g(6,b.ICoreBrowserService)],v)},2950:function(u,l,c){var p=this&&this.__decorate||function(x,d,_,f){var v,S=arguments.length,E=S<3?d:f===null?f=Object.getOwnPropertyDescriptor(d,_):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(x,d,_,f);else for(var R=x.length-1;R>=0;R--)(v=x[R])&&(E=(S<3?v(E):S>3?v(d,_,E):v(d,_))||E);return S>3&&E&&Object.defineProperty(d,_,E),E},g=this&&this.__param||function(x,d){return function(_,f){d(_,f,x)}};Object.defineProperty(l,"__esModule",{value:!0}),l.CompositionHelper=void 0;const m=c(4725),y=c(2585),b=c(2584);let C=l.CompositionHelper=class{get isComposing(){return this._isComposing}constructor(x,d,_,f,v,S){this._textarea=x,this._compositionView=d,this._bufferService=_,this._optionsService=f,this._coreService=v,this._renderService=S,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}compositionstart(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")}compositionupdate(x){this._compositionView.textContent=x.data,this.updateCompositionElements(),setTimeout(()=>{this._compositionPosition.end=this._textarea.value.length},0)}compositionend(){this._finalizeComposition(!0)}keydown(x){if(this._isComposing||this._isSendingComposition){if(x.keyCode===229||x.keyCode===16||x.keyCode===17||x.keyCode===18)return!1;this._finalizeComposition(!1)}return x.keyCode!==229||(this._handleAnyTextareaChanges(),!1)}_finalizeComposition(x){if(this._compositionView.classList.remove("active"),this._isComposing=!1,x){const d={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout(()=>{if(this._isSendingComposition){let _;this._isSendingComposition=!1,d.start+=this._dataAlreadySent.length,_=this._isComposing?this._textarea.value.substring(d.start,d.end):this._textarea.value.substring(d.start),_.length>0&&this._coreService.triggerDataEvent(_,!0)}},0)}else{this._isSendingComposition=!1;const d=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(d,!0)}}_handleAnyTextareaChanges(){const x=this._textarea.value;setTimeout(()=>{if(!this._isComposing){const d=this._textarea.value,_=d.replace(x,"");this._dataAlreadySent=_,d.length>x.length?this._coreService.triggerDataEvent(_,!0):d.length<x.length?this._coreService.triggerDataEvent(`${b.C0.DEL}`,!0):d.length===x.length&&d!==x&&this._coreService.triggerDataEvent(d,!0)}},0)}updateCompositionElements(x){if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){const d=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),_=this._renderService.dimensions.css.cell.height,f=this._bufferService.buffer.y*this._renderService.dimensions.css.cell.height,v=d*this._renderService.dimensions.css.cell.width;this._compositionView.style.left=v+"px",this._compositionView.style.top=f+"px",this._compositionView.style.height=_+"px",this._compositionView.style.lineHeight=_+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";const S=this._compositionView.getBoundingClientRect();this._textarea.style.left=v+"px",this._textarea.style.top=f+"px",this._textarea.style.width=Math.max(S.width,1)+"px",this._textarea.style.height=Math.max(S.height,1)+"px",this._textarea.style.lineHeight=S.height+"px"}x||setTimeout(()=>this.updateCompositionElements(!0),0)}}};l.CompositionHelper=C=p([g(2,y.IBufferService),g(3,y.IOptionsService),g(4,y.ICoreService),g(5,m.IRenderService)],C)},9806:(u,l)=>{function c(p,g,m){const y=m.getBoundingClientRect(),b=p.getComputedStyle(m),C=parseInt(b.getPropertyValue("padding-left")),x=parseInt(b.getPropertyValue("padding-top"));return[g.clientX-y.left-C,g.clientY-y.top-x]}Object.defineProperty(l,"__esModule",{value:!0}),l.getCoords=l.getCoordsRelativeToElement=void 0,l.getCoordsRelativeToElement=c,l.getCoords=function(p,g,m,y,b,C,x,d,_){if(!C)return;const f=c(p,g,m);return f?(f[0]=Math.ceil((f[0]+(_?x/2:0))/x),f[1]=Math.ceil(f[1]/d),f[0]=Math.min(Math.max(f[0],1),y+(_?1:0)),f[1]=Math.min(Math.max(f[1],1),b),f):void 0}},9504:(u,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.moveToCellSequence=void 0;const p=c(2584);function g(d,_,f,v){const S=d-m(d,f),E=_-m(_,f),R=Math.abs(S-E)-function(D,k,A){let B=0;const H=D-m(D,A),j=k-m(k,A);for(let $=0;$<Math.abs(H-j);$++){const q=y(D,k)==="A"?-1:1,Q=A.buffer.lines.get(H+q*$);Q!=null&&Q.isWrapped&&B++}return B}(d,_,f);return x(R,C(y(d,_),v))}function m(d,_){let f=0,v=_.buffer.lines.get(d),S=v==null?void 0:v.isWrapped;for(;S&&d>=0&&d<_.rows;)f++,v=_.buffer.lines.get(--d),S=v==null?void 0:v.isWrapped;return f}function y(d,_){return d>_?"A":"B"}function b(d,_,f,v,S,E){let R=d,D=_,k="";for(;R!==f||D!==v;)R+=S?1:-1,S&&R>E.cols-1?(k+=E.buffer.translateBufferLineToString(D,!1,d,R),R=0,d=0,D++):!S&&R<0&&(k+=E.buffer.translateBufferLineToString(D,!1,0,d+1),R=E.cols-1,d=R,D--);return k+E.buffer.translateBufferLineToString(D,!1,d,R)}function C(d,_){const f=_?"O":"[";return p.C0.ESC+f+d}function x(d,_){d=Math.floor(d);let f="";for(let v=0;v<d;v++)f+=_;return f}l.moveToCellSequence=function(d,_,f,v){const S=f.buffer.x,E=f.buffer.y;if(!f.buffer.hasScrollback)return function(k,A,B,H,j,$){return g(A,H,j,$).length===0?"":x(b(k,A,k,A-m(A,j),!1,j).length,C("D",$))}(S,E,0,_,f,v)+g(E,_,f,v)+function(k,A,B,H,j,$){let q;q=g(A,H,j,$).length>0?H-m(H,j):A;const Q=H,X=function(ee,O,z,I,F,J){let ne;return ne=g(z,I,F,J).length>0?I-m(I,F):O,ee<z&&ne<=I||ee>=z&&ne<I?"C":"D"}(k,A,B,H,j,$);return x(b(k,q,B,Q,X==="C",j).length,C(X,$))}(S,E,d,_,f,v);let R;if(E===_)return R=S>d?"D":"C",x(Math.abs(S-d),C(R,v));R=E>_?"D":"C";const D=Math.abs(E-_);return x(function(k,A){return A.cols-k}(E>_?d:S,f)+(D-1)*f.cols+1+((E>_?S:d)-1),C(R,v))}},1296:function(u,l,c){var p=this&&this.__decorate||function(j,$,q,Q){var X,ee=arguments.length,O=ee<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,q):Q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")O=Reflect.decorate(j,$,q,Q);else for(var z=j.length-1;z>=0;z--)(X=j[z])&&(O=(ee<3?X(O):ee>3?X($,q,O):X($,q))||O);return ee>3&&O&&Object.defineProperty($,q,O),O},g=this&&this.__param||function(j,$){return function(q,Q){$(q,Q,j)}};Object.defineProperty(l,"__esModule",{value:!0}),l.DomRenderer=void 0;const m=c(3787),y=c(2550),b=c(2223),C=c(6171),x=c(4725),d=c(8055),_=c(8460),f=c(844),v=c(2585),S="xterm-dom-renderer-owner-",E="xterm-rows",R="xterm-fg-",D="xterm-bg-",k="xterm-focus",A="xterm-selection";let B=1,H=l.DomRenderer=class extends f.Disposable{constructor(j,$,q,Q,X,ee,O,z,I,F){super(),this._element=j,this._screenElement=$,this._viewportElement=q,this._linkifier2=Q,this._charSizeService=ee,this._optionsService=O,this._bufferService=z,this._coreBrowserService=I,this._themeService=F,this._terminalClass=B++,this._rowElements=[],this.onRequestRedraw=this.register(new _.EventEmitter).event,this._rowContainer=document.createElement("div"),this._rowContainer.classList.add(E),this._rowContainer.style.lineHeight="normal",this._rowContainer.setAttribute("aria-hidden","true"),this._refreshRowElements(this._bufferService.cols,this._bufferService.rows),this._selectionContainer=document.createElement("div"),this._selectionContainer.classList.add(A),this._selectionContainer.setAttribute("aria-hidden","true"),this.dimensions=(0,C.createRenderDimensions)(),this._updateDimensions(),this.register(this._optionsService.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._themeService.onChangeColors(J=>this._injectCss(J))),this._injectCss(this._themeService.colors),this._rowFactory=X.createInstance(m.DomRendererRowFactory,document),this._element.classList.add(S+this._terminalClass),this._screenElement.appendChild(this._rowContainer),this._screenElement.appendChild(this._selectionContainer),this.register(this._linkifier2.onShowLinkUnderline(J=>this._handleLinkHover(J))),this.register(this._linkifier2.onHideLinkUnderline(J=>this._handleLinkLeave(J))),this.register((0,f.toDisposable)(()=>{this._element.classList.remove(S+this._terminalClass),this._rowContainer.remove(),this._selectionContainer.remove(),this._widthCache.dispose(),this._themeStyleElement.remove(),this._dimensionsStyleElement.remove()})),this._widthCache=new y.WidthCache(document),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}_updateDimensions(){const j=this._coreBrowserService.dpr;this.dimensions.device.char.width=this._charSizeService.width*j,this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*j),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.left=0,this.dimensions.device.char.top=0,this.dimensions.device.canvas.width=this.dimensions.device.cell.width*this._bufferService.cols,this.dimensions.device.canvas.height=this.dimensions.device.cell.height*this._bufferService.rows,this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/j),this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/j),this.dimensions.css.cell.width=this.dimensions.css.canvas.width/this._bufferService.cols,this.dimensions.css.cell.height=this.dimensions.css.canvas.height/this._bufferService.rows;for(const q of this._rowElements)q.style.width=`${this.dimensions.css.canvas.width}px`,q.style.height=`${this.dimensions.css.cell.height}px`,q.style.lineHeight=`${this.dimensions.css.cell.height}px`,q.style.overflow="hidden";this._dimensionsStyleElement||(this._dimensionsStyleElement=document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));const $=`${this._terminalSelector} .${E} span { display: inline-block; height: 100%; vertical-align: top;}`;this._dimensionsStyleElement.textContent=$,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._screenElement.style.height=`${this.dimensions.css.canvas.height}px`}_injectCss(j){this._themeStyleElement||(this._themeStyleElement=document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));let $=`${this._terminalSelector} .${E} { color: ${j.foreground.css}; font-family: ${this._optionsService.rawOptions.fontFamily}; font-size: ${this._optionsService.rawOptions.fontSize}px; font-kerning: none; white-space: pre}`;$+=`${this._terminalSelector} .${E} .xterm-dim { color: ${d.color.multiplyOpacity(j.foreground,.5).css};}`,$+=`${this._terminalSelector} span:not(.xterm-bold) { font-weight: ${this._optionsService.rawOptions.fontWeight};}${this._terminalSelector} span.xterm-bold { font-weight: ${this._optionsService.rawOptions.fontWeightBold};}${this._terminalSelector} span.xterm-italic { font-style: italic;}`,$+="@keyframes blink_box_shadow_"+this._terminalClass+" { 50% {  border-bottom-style: hidden; }}",$+="@keyframes blink_block_"+this._terminalClass+` { 0% {  background-color: ${j.cursor.css};  color: ${j.cursorAccent.css}; } 50% {  background-color: inherit;  color: ${j.cursor.css}; }}`,$+=`${this._terminalSelector} .${E}.${k} .xterm-cursor.xterm-cursor-blink:not(.xterm-cursor-block) { animation: blink_box_shadow_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .${E}.${k} .xterm-cursor.xterm-cursor-blink.xterm-cursor-block { animation: blink_block_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .${E} .xterm-cursor.xterm-cursor-block { background-color: ${j.cursor.css}; color: ${j.cursorAccent.css};}${this._terminalSelector} .${E} .xterm-cursor.xterm-cursor-outline { outline: 1px solid ${j.cursor.css}; outline-offset: -1px;}${this._terminalSelector} .${E} .xterm-cursor.xterm-cursor-bar { box-shadow: ${this._optionsService.rawOptions.cursorWidth}px 0 0 ${j.cursor.css} inset;}${this._terminalSelector} .${E} .xterm-cursor.xterm-cursor-underline { border-bottom: 1px ${j.cursor.css}; border-bottom-style: solid; height: calc(100% - 1px);}`,$+=`${this._terminalSelector} .${A} { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}${this._terminalSelector}.focus .${A} div { position: absolute; background-color: ${j.selectionBackgroundOpaque.css};}${this._terminalSelector} .${A} div { position: absolute; background-color: ${j.selectionInactiveBackgroundOpaque.css};}`;for(const[q,Q]of j.ansi.entries())$+=`${this._terminalSelector} .${R}${q} { color: ${Q.css}; }${this._terminalSelector} .${R}${q}.xterm-dim { color: ${d.color.multiplyOpacity(Q,.5).css}; }${this._terminalSelector} .${D}${q} { background-color: ${Q.css}; }`;$+=`${this._terminalSelector} .${R}${b.INVERTED_DEFAULT_COLOR} { color: ${d.color.opaque(j.background).css}; }${this._terminalSelector} .${R}${b.INVERTED_DEFAULT_COLOR}.xterm-dim { color: ${d.color.multiplyOpacity(d.color.opaque(j.background),.5).css}; }${this._terminalSelector} .${D}${b.INVERTED_DEFAULT_COLOR} { background-color: ${j.foreground.css}; }`,this._themeStyleElement.textContent=$}_setDefaultSpacing(){const j=this.dimensions.css.cell.width-this._widthCache.get("W",!1,!1);this._rowContainer.style.letterSpacing=`${j}px`,this._rowFactory.defaultSpacing=j}handleDevicePixelRatioChange(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}_refreshRowElements(j,$){for(let q=this._rowElements.length;q<=$;q++){const Q=document.createElement("div");this._rowContainer.appendChild(Q),this._rowElements.push(Q)}for(;this._rowElements.length>$;)this._rowContainer.removeChild(this._rowElements.pop())}handleResize(j,$){this._refreshRowElements(j,$),this._updateDimensions()}handleCharSizeChanged(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}handleBlur(){this._rowContainer.classList.remove(k)}handleFocus(){this._rowContainer.classList.add(k),this.renderRows(this._bufferService.buffer.y,this._bufferService.buffer.y)}handleSelectionChanged(j,$,q){if(this._selectionContainer.replaceChildren(),this._rowFactory.handleSelectionChanged(j,$,q),this.renderRows(0,this._bufferService.rows-1),!j||!$)return;const Q=j[1]-this._bufferService.buffer.ydisp,X=$[1]-this._bufferService.buffer.ydisp,ee=Math.max(Q,0),O=Math.min(X,this._bufferService.rows-1);if(ee>=this._bufferService.rows||O<0)return;const z=document.createDocumentFragment();if(q){const I=j[0]>$[0];z.appendChild(this._createSelectionElement(ee,I?$[0]:j[0],I?j[0]:$[0],O-ee+1))}else{const I=Q===ee?j[0]:0,F=ee===X?$[0]:this._bufferService.cols;z.appendChild(this._createSelectionElement(ee,I,F));const J=O-ee-1;if(z.appendChild(this._createSelectionElement(ee+1,0,this._bufferService.cols,J)),ee!==O){const ne=X===O?$[0]:this._bufferService.cols;z.appendChild(this._createSelectionElement(O,0,ne))}}this._selectionContainer.appendChild(z)}_createSelectionElement(j,$,q,Q=1){const X=document.createElement("div");return X.style.height=Q*this.dimensions.css.cell.height+"px",X.style.top=j*this.dimensions.css.cell.height+"px",X.style.left=$*this.dimensions.css.cell.width+"px",X.style.width=this.dimensions.css.cell.width*(q-$)+"px",X}handleCursorMove(){}_handleOptionsChanged(){this._updateDimensions(),this._injectCss(this._themeService.colors),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}clear(){for(const j of this._rowElements)j.replaceChildren()}renderRows(j,$){const q=this._bufferService.buffer,Q=q.ybase+q.y,X=Math.min(q.x,this._bufferService.cols-1),ee=this._optionsService.rawOptions.cursorBlink,O=this._optionsService.rawOptions.cursorStyle,z=this._optionsService.rawOptions.cursorInactiveStyle;for(let I=j;I<=$;I++){const F=I+q.ydisp,J=this._rowElements[I],ne=q.lines.get(F);if(!J||!ne)break;J.replaceChildren(...this._rowFactory.createRow(ne,F,F===Q,O,z,X,ee,this.dimensions.css.cell.width,this._widthCache,-1,-1))}}get _terminalSelector(){return`.${S}${this._terminalClass}`}_handleLinkHover(j){this._setCellUnderline(j.x1,j.x2,j.y1,j.y2,j.cols,!0)}_handleLinkLeave(j){this._setCellUnderline(j.x1,j.x2,j.y1,j.y2,j.cols,!1)}_setCellUnderline(j,$,q,Q,X,ee){q<0&&(j=0),Q<0&&($=0);const O=this._bufferService.rows-1;q=Math.max(Math.min(q,O),0),Q=Math.max(Math.min(Q,O),0),X=Math.min(X,this._bufferService.cols);const z=this._bufferService.buffer,I=z.ybase+z.y,F=Math.min(z.x,X-1),J=this._optionsService.rawOptions.cursorBlink,ne=this._optionsService.rawOptions.cursorStyle,ae=this._optionsService.rawOptions.cursorInactiveStyle;for(let se=q;se<=Q;++se){const ue=se+z.ydisp,N=this._rowElements[se],W=z.lines.get(ue);if(!N||!W)break;N.replaceChildren(...this._rowFactory.createRow(W,ue,ue===I,ne,ae,F,J,this.dimensions.css.cell.width,this._widthCache,ee?se===q?j:0:-1,ee?(se===Q?$:X)-1:-1))}}};l.DomRenderer=H=p([g(4,v.IInstantiationService),g(5,x.ICharSizeService),g(6,v.IOptionsService),g(7,v.IBufferService),g(8,x.ICoreBrowserService),g(9,x.IThemeService)],H)},3787:function(u,l,c){var p=this&&this.__decorate||function(R,D,k,A){var B,H=arguments.length,j=H<3?D:A===null?A=Object.getOwnPropertyDescriptor(D,k):A;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")j=Reflect.decorate(R,D,k,A);else for(var $=R.length-1;$>=0;$--)(B=R[$])&&(j=(H<3?B(j):H>3?B(D,k,j):B(D,k))||j);return H>3&&j&&Object.defineProperty(D,k,j),j},g=this&&this.__param||function(R,D){return function(k,A){D(k,A,R)}};Object.defineProperty(l,"__esModule",{value:!0}),l.DomRendererRowFactory=void 0;const m=c(2223),y=c(643),b=c(511),C=c(2585),x=c(8055),d=c(4725),_=c(4269),f=c(6171),v=c(3734);let S=l.DomRendererRowFactory=class{constructor(R,D,k,A,B,H,j){this._document=R,this._characterJoinerService=D,this._optionsService=k,this._coreBrowserService=A,this._coreService=B,this._decorationService=H,this._themeService=j,this._workCell=new b.CellData,this._columnSelectMode=!1,this.defaultSpacing=0}handleSelectionChanged(R,D,k){this._selectionStart=R,this._selectionEnd=D,this._columnSelectMode=k}createRow(R,D,k,A,B,H,j,$,q,Q,X){const ee=[],O=this._characterJoinerService.getJoinedCharacters(D),z=this._themeService.colors;let I,F=R.getNoBgTrimmedLength();k&&F<H+1&&(F=H+1);let J=0,ne="",ae=0,se=0,ue=0,N=!1,W=0,te=!1,Y=0;const me=[],le=Q!==-1&&X!==-1;for(let Ce=0;Ce<F;Ce++){R.loadCell(Ce,this._workCell);let Ge=this._workCell.getWidth();if(Ge===0)continue;let it=!1,xr=Ce,ge=this._workCell;if(O.length>0&&Ce===O[0][0]){it=!0;const Oe=O.shift();ge=new _.JoinedCellData(this._workCell,R.translateToString(!0,Oe[0],Oe[1]),Oe[1]-Oe[0]),xr=Oe[1]-1,Ge=ge.getWidth()}const ur=this._isCellInSelection(Ce,D),Kn=k&&Ce===H,Gi=le&&Ce>=Q&&Ce<=X;let yi=!1;this._decorationService.forEachDecorationAtCell(Ce,D,void 0,Oe=>{yi=!0});let wi=ge.getChars()||y.WHITESPACE_CELL_CHAR;if(wi===" "&&(ge.isUnderline()||ge.isOverline())&&(wi=""),Y=Ge*$-q.get(wi,ge.isBold(),ge.isItalic()),I){if(J&&(ur&&te||!ur&&!te&&ge.bg===ae)&&(ur&&te&&z.selectionForeground||ge.fg===se)&&ge.extended.ext===ue&&Gi===N&&Y===W&&!Kn&&!it&&!yi){ne+=wi,J++;continue}J&&(I.textContent=ne),I=this._document.createElement("span"),J=0,ne=""}else I=this._document.createElement("span");if(ae=ge.bg,se=ge.fg,ue=ge.extended.ext,N=Gi,W=Y,te=ur,it&&H>=Ce&&H<=xr&&(H=Ce),!this._coreService.isCursorHidden&&Kn){if(me.push("xterm-cursor"),this._coreBrowserService.isFocused)j&&me.push("xterm-cursor-blink"),me.push(A==="bar"?"xterm-cursor-bar":A==="underline"?"xterm-cursor-underline":"xterm-cursor-block");else if(B)switch(B){case"outline":me.push("xterm-cursor-outline");break;case"block":me.push("xterm-cursor-block");break;case"bar":me.push("xterm-cursor-bar");break;case"underline":me.push("xterm-cursor-underline")}}if(ge.isBold()&&me.push("xterm-bold"),ge.isItalic()&&me.push("xterm-italic"),ge.isDim()&&me.push("xterm-dim"),ne=ge.isInvisible()?y.WHITESPACE_CELL_CHAR:ge.getChars()||y.WHITESPACE_CELL_CHAR,ge.isUnderline()&&(me.push(`xterm-underline-${ge.extended.underlineStyle}`),ne===" "&&(ne=""),!ge.isUnderlineColorDefault()))if(ge.isUnderlineColorRGB())I.style.textDecorationColor=`rgb(${v.AttributeData.toColorRGB(ge.getUnderlineColor()).join(",")})`;else{let Oe=ge.getUnderlineColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&ge.isBold()&&Oe<8&&(Oe+=8),I.style.textDecorationColor=z.ansi[Oe].css}ge.isOverline()&&(me.push("xterm-overline"),ne===" "&&(ne="")),ge.isStrikethrough()&&me.push("xterm-strikethrough"),Gi&&(I.style.textDecoration="underline");let mt=ge.getFgColor(),Si=ge.getFgColorMode(),jt=ge.getBgColor(),br=ge.getBgColorMode();const Ji=!!ge.isInverse();if(Ji){const Oe=mt;mt=jt,jt=Oe;const Co=Si;Si=br,br=Co}let Jt,qn,Xt,Zr=!1;switch(this._decorationService.forEachDecorationAtCell(Ce,D,void 0,Oe=>{Oe.options.layer!=="top"&&Zr||(Oe.backgroundColorRGB&&(br=50331648,jt=Oe.backgroundColorRGB.rgba>>8&16777215,Jt=Oe.backgroundColorRGB),Oe.foregroundColorRGB&&(Si=50331648,mt=Oe.foregroundColorRGB.rgba>>8&16777215,qn=Oe.foregroundColorRGB),Zr=Oe.options.layer==="top")}),!Zr&&ur&&(Jt=this._coreBrowserService.isFocused?z.selectionBackgroundOpaque:z.selectionInactiveBackgroundOpaque,jt=Jt.rgba>>8&16777215,br=50331648,Zr=!0,z.selectionForeground&&(Si=50331648,mt=z.selectionForeground.rgba>>8&16777215,qn=z.selectionForeground)),Zr&&me.push("xterm-decoration-top"),br){case 16777216:case 33554432:Xt=z.ansi[jt],me.push(`xterm-bg-${jt}`);break;case 50331648:Xt=x.rgba.toColor(jt>>16,jt>>8&255,255&jt),this._addStyle(I,`background-color:#${E((jt>>>0).toString(16),"0",6)}`);break;default:Ji?(Xt=z.foreground,me.push(`xterm-bg-${m.INVERTED_DEFAULT_COLOR}`)):Xt=z.background}switch(Jt||ge.isDim()&&(Jt=x.color.multiplyOpacity(Xt,.5)),Si){case 16777216:case 33554432:ge.isBold()&&mt<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(mt+=8),this._applyMinimumContrast(I,Xt,z.ansi[mt],ge,Jt,void 0)||me.push(`xterm-fg-${mt}`);break;case 50331648:const Oe=x.rgba.toColor(mt>>16&255,mt>>8&255,255&mt);this._applyMinimumContrast(I,Xt,Oe,ge,Jt,qn)||this._addStyle(I,`color:#${E(mt.toString(16),"0",6)}`);break;default:this._applyMinimumContrast(I,Xt,z.foreground,ge,Jt,void 0)||Ji&&me.push(`xterm-fg-${m.INVERTED_DEFAULT_COLOR}`)}me.length&&(I.className=me.join(" "),me.length=0),Kn||it||yi?I.textContent=ne:J++,Y!==this.defaultSpacing&&(I.style.letterSpacing=`${Y}px`),ee.push(I),Ce=xr}return I&&J&&(I.textContent=ne),ee}_applyMinimumContrast(R,D,k,A,B,H){if(this._optionsService.rawOptions.minimumContrastRatio===1||(0,f.excludeFromContrastRatioDemands)(A.getCode()))return!1;const j=this._getContrastCache(A);let $;if(B||H||($=j.getColor(D.rgba,k.rgba)),$===void 0){const q=this._optionsService.rawOptions.minimumContrastRatio/(A.isDim()?2:1);$=x.color.ensureContrastRatio(B||D,H||k,q),j.setColor((B||D).rgba,(H||k).rgba,$??null)}return!!$&&(this._addStyle(R,`color:${$.css}`),!0)}_getContrastCache(R){return R.isDim()?this._themeService.colors.halfContrastCache:this._themeService.colors.contrastCache}_addStyle(R,D){R.setAttribute("style",`${R.getAttribute("style")||""}${D};`)}_isCellInSelection(R,D){const k=this._selectionStart,A=this._selectionEnd;return!(!k||!A)&&(this._columnSelectMode?k[0]<=A[0]?R>=k[0]&&D>=k[1]&&R<A[0]&&D<=A[1]:R<k[0]&&D>=k[1]&&R>=A[0]&&D<=A[1]:D>k[1]&&D<A[1]||k[1]===A[1]&&D===k[1]&&R>=k[0]&&R<A[0]||k[1]<A[1]&&D===A[1]&&R<A[0]||k[1]<A[1]&&D===k[1]&&R>=k[0])}};function E(R,D,k){for(;R.length<k;)R=D+R;return R}l.DomRendererRowFactory=S=p([g(1,d.ICharacterJoinerService),g(2,C.IOptionsService),g(3,d.ICoreBrowserService),g(4,C.ICoreService),g(5,C.IDecorationService),g(6,d.IThemeService)],S)},2550:(u,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.WidthCache=void 0,l.WidthCache=class{constructor(c){this._flat=new Float32Array(256),this._font="",this._fontSize=0,this._weight="normal",this._weightBold="bold",this._measureElements=[],this._container=c.createElement("div"),this._container.style.position="absolute",this._container.style.top="-50000px",this._container.style.width="50000px",this._container.style.whiteSpace="pre",this._container.style.fontKerning="none";const p=c.createElement("span"),g=c.createElement("span");g.style.fontWeight="bold";const m=c.createElement("span");m.style.fontStyle="italic";const y=c.createElement("span");y.style.fontWeight="bold",y.style.fontStyle="italic",this._measureElements=[p,g,m,y],this._container.appendChild(p),this._container.appendChild(g),this._container.appendChild(m),this._container.appendChild(y),c.body.appendChild(this._container),this.clear()}dispose(){this._container.remove(),this._measureElements.length=0,this._holey=void 0}clear(){this._flat.fill(-9999),this._holey=new Map}setFont(c,p,g,m){c===this._font&&p===this._fontSize&&g===this._weight&&m===this._weightBold||(this._font=c,this._fontSize=p,this._weight=g,this._weightBold=m,this._container.style.fontFamily=this._font,this._container.style.fontSize=`${this._fontSize}px`,this._measureElements[0].style.fontWeight=`${g}`,this._measureElements[1].style.fontWeight=`${m}`,this._measureElements[2].style.fontWeight=`${g}`,this._measureElements[3].style.fontWeight=`${m}`,this.clear())}get(c,p,g){let m=0;if(!p&&!g&&c.length===1&&(m=c.charCodeAt(0))<256)return this._flat[m]!==-9999?this._flat[m]:this._flat[m]=this._measure(c,0);let y=c;p&&(y+="B"),g&&(y+="I");let b=this._holey.get(y);if(b===void 0){let C=0;p&&(C|=1),g&&(C|=2),b=this._measure(c,C),this._holey.set(y,b)}return b}_measure(c,p){const g=this._measureElements[p];return g.textContent=c.repeat(32),g.offsetWidth/32}}},2223:(u,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.TEXT_BASELINE=l.DIM_OPACITY=l.INVERTED_DEFAULT_COLOR=void 0;const p=c(6114);l.INVERTED_DEFAULT_COLOR=257,l.DIM_OPACITY=.5,l.TEXT_BASELINE=p.isFirefox||p.isLegacyEdge?"bottom":"ideographic"},6171:(u,l)=>{function c(p){return 57508<=p&&p<=57558}Object.defineProperty(l,"__esModule",{value:!0}),l.createRenderDimensions=l.excludeFromContrastRatioDemands=l.isRestrictedPowerlineGlyph=l.isPowerlineGlyph=l.throwIfFalsy=void 0,l.throwIfFalsy=function(p){if(!p)throw new Error("value must not be falsy");return p},l.isPowerlineGlyph=c,l.isRestrictedPowerlineGlyph=function(p){return 57520<=p&&p<=57527},l.excludeFromContrastRatioDemands=function(p){return c(p)||function(g){return 9472<=g&&g<=9631}(p)},l.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}}},456:(u,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.SelectionModel=void 0,l.SelectionModel=class{constructor(c){this._bufferService=c,this.isSelectAllActive=!1,this.selectionStartLength=0}clearSelection(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0}get finalSelectionStart(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart}get finalSelectionEnd(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){const c=this.selectionStart[0]+this.selectionStartLength;return c>this._bufferService.cols?c%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(c/this._bufferService.cols)-1]:[c%this._bufferService.cols,this.selectionStart[1]+Math.floor(c/this._bufferService.cols)]:[c,this.selectionStart[1]]}if(this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]){const c=this.selectionStart[0]+this.selectionStartLength;return c>this._bufferService.cols?[c%this._bufferService.cols,this.selectionStart[1]+Math.floor(c/this._bufferService.cols)]:[Math.max(c,this.selectionEnd[0]),this.selectionEnd[1]]}return this.selectionEnd}}areSelectionValuesReversed(){const c=this.selectionStart,p=this.selectionEnd;return!(!c||!p)&&(c[1]>p[1]||c[1]===p[1]&&c[0]>p[0])}handleTrim(c){return this.selectionStart&&(this.selectionStart[1]-=c),this.selectionEnd&&(this.selectionEnd[1]-=c),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)}}},428:function(u,l,c){var p=this&&this.__decorate||function(d,_,f,v){var S,E=arguments.length,R=E<3?_:v===null?v=Object.getOwnPropertyDescriptor(_,f):v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(d,_,f,v);else for(var D=d.length-1;D>=0;D--)(S=d[D])&&(R=(E<3?S(R):E>3?S(_,f,R):S(_,f))||R);return E>3&&R&&Object.defineProperty(_,f,R),R},g=this&&this.__param||function(d,_){return function(f,v){_(f,v,d)}};Object.defineProperty(l,"__esModule",{value:!0}),l.CharSizeService=void 0;const m=c(2585),y=c(8460),b=c(844);let C=l.CharSizeService=class extends b.Disposable{get hasValidSize(){return this.width>0&&this.height>0}constructor(d,_,f){super(),this._optionsService=f,this.width=0,this.height=0,this._onCharSizeChange=this.register(new y.EventEmitter),this.onCharSizeChange=this._onCharSizeChange.event,this._measureStrategy=new x(d,_,this._optionsService),this.register(this._optionsService.onMultipleOptionChange(["fontFamily","fontSize"],()=>this.measure()))}measure(){const d=this._measureStrategy.measure();d.width===this.width&&d.height===this.height||(this.width=d.width,this.height=d.height,this._onCharSizeChange.fire())}};l.CharSizeService=C=p([g(2,m.IOptionsService)],C);class x{constructor(_,f,v){this._document=_,this._parentElement=f,this._optionsService=v,this._result={width:0,height:0},this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W".repeat(32),this._measureElement.setAttribute("aria-hidden","true"),this._measureElement.style.whiteSpace="pre",this._measureElement.style.fontKerning="none",this._parentElement.appendChild(this._measureElement)}measure(){this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=`${this._optionsService.rawOptions.fontSize}px`;const _={height:Number(this._measureElement.offsetHeight),width:Number(this._measureElement.offsetWidth)};return _.width!==0&&_.height!==0&&(this._result.width=_.width/32,this._result.height=Math.ceil(_.height)),this._result}}},4269:function(u,l,c){var p=this&&this.__decorate||function(_,f,v,S){var E,R=arguments.length,D=R<3?f:S===null?S=Object.getOwnPropertyDescriptor(f,v):S;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(_,f,v,S);else for(var k=_.length-1;k>=0;k--)(E=_[k])&&(D=(R<3?E(D):R>3?E(f,v,D):E(f,v))||D);return R>3&&D&&Object.defineProperty(f,v,D),D},g=this&&this.__param||function(_,f){return function(v,S){f(v,S,_)}};Object.defineProperty(l,"__esModule",{value:!0}),l.CharacterJoinerService=l.JoinedCellData=void 0;const m=c(3734),y=c(643),b=c(511),C=c(2585);class x extends m.AttributeData{constructor(f,v,S){super(),this.content=0,this.combinedData="",this.fg=f.fg,this.bg=f.bg,this.combinedData=v,this._width=S}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(f){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}l.JoinedCellData=x;let d=l.CharacterJoinerService=class fy{constructor(f){this._bufferService=f,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new b.CellData}register(f){const v={id:this._nextCharacterJoinerId++,handler:f};return this._characterJoiners.push(v),v.id}deregister(f){for(let v=0;v<this._characterJoiners.length;v++)if(this._characterJoiners[v].id===f)return this._characterJoiners.splice(v,1),!0;return!1}getJoinedCharacters(f){if(this._characterJoiners.length===0)return[];const v=this._bufferService.buffer.lines.get(f);if(!v||v.length===0)return[];const S=[],E=v.translateToString(!0);let R=0,D=0,k=0,A=v.getFg(0),B=v.getBg(0);for(let H=0;H<v.getTrimmedLength();H++)if(v.loadCell(H,this._workCell),this._workCell.getWidth()!==0){if(this._workCell.fg!==A||this._workCell.bg!==B){if(H-R>1){const j=this._getJoinedRanges(E,k,D,v,R);for(let $=0;$<j.length;$++)S.push(j[$])}R=H,k=D,A=this._workCell.fg,B=this._workCell.bg}D+=this._workCell.getChars().length||y.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-R>1){const H=this._getJoinedRanges(E,k,D,v,R);for(let j=0;j<H.length;j++)S.push(H[j])}return S}_getJoinedRanges(f,v,S,E,R){const D=f.substring(v,S);let k=[];try{k=this._characterJoiners[0].handler(D)}catch(A){console.error(A)}for(let A=1;A<this._characterJoiners.length;A++)try{const B=this._characterJoiners[A].handler(D);for(let H=0;H<B.length;H++)fy._mergeRanges(k,B[H])}catch(B){console.error(B)}return this._stringRangesToCellRanges(k,E,R),k}_stringRangesToCellRanges(f,v,S){let E=0,R=!1,D=0,k=f[E];if(k){for(let A=S;A<this._bufferService.cols;A++){const B=v.getWidth(A),H=v.getString(A).length||y.WHITESPACE_CELL_CHAR.length;if(B!==0){if(!R&&k[0]<=D&&(k[0]=A,R=!0),k[1]<=D){if(k[1]=A,k=f[++E],!k)break;k[0]<=D?(k[0]=A,R=!0):R=!1}D+=H}}k&&(k[1]=this._bufferService.cols)}}static _mergeRanges(f,v){let S=!1;for(let E=0;E<f.length;E++){const R=f[E];if(S){if(v[1]<=R[0])return f[E-1][1]=v[1],f;if(v[1]<=R[1])return f[E-1][1]=Math.max(v[1],R[1]),f.splice(E,1),f;f.splice(E,1),E--}else{if(v[1]<=R[0])return f.splice(E,0,v),f;if(v[1]<=R[1])return R[0]=Math.min(v[0],R[0]),f;v[0]<R[1]&&(R[0]=Math.min(v[0],R[0]),S=!0)}}return S?f[f.length-1][1]=v[1]:f.push(v),f}};l.CharacterJoinerService=d=p([g(0,C.IBufferService)],d)},5114:(u,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.CoreBrowserService=void 0,l.CoreBrowserService=class{constructor(c,p){this._textarea=c,this.window=p,this._isFocused=!1,this._cachedIsFocused=void 0,this._textarea.addEventListener("focus",()=>this._isFocused=!0),this._textarea.addEventListener("blur",()=>this._isFocused=!1)}get dpr(){return this.window.devicePixelRatio}get isFocused(){return this._cachedIsFocused===void 0&&(this._cachedIsFocused=this._isFocused&&this._textarea.ownerDocument.hasFocus(),queueMicrotask(()=>this._cachedIsFocused=void 0)),this._cachedIsFocused}}},8934:function(u,l,c){var p=this&&this.__decorate||function(C,x,d,_){var f,v=arguments.length,S=v<3?x:_===null?_=Object.getOwnPropertyDescriptor(x,d):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(C,x,d,_);else for(var E=C.length-1;E>=0;E--)(f=C[E])&&(S=(v<3?f(S):v>3?f(x,d,S):f(x,d))||S);return v>3&&S&&Object.defineProperty(x,d,S),S},g=this&&this.__param||function(C,x){return function(d,_){x(d,_,C)}};Object.defineProperty(l,"__esModule",{value:!0}),l.MouseService=void 0;const m=c(4725),y=c(9806);let b=l.MouseService=class{constructor(C,x){this._renderService=C,this._charSizeService=x}getCoords(C,x,d,_,f){return(0,y.getCoords)(window,C,x,d,_,this._charSizeService.hasValidSize,this._renderService.dimensions.css.cell.width,this._renderService.dimensions.css.cell.height,f)}getMouseReportCoords(C,x){const d=(0,y.getCoordsRelativeToElement)(window,C,x);if(this._charSizeService.hasValidSize)return d[0]=Math.min(Math.max(d[0],0),this._renderService.dimensions.css.canvas.width-1),d[1]=Math.min(Math.max(d[1],0),this._renderService.dimensions.css.canvas.height-1),{col:Math.floor(d[0]/this._renderService.dimensions.css.cell.width),row:Math.floor(d[1]/this._renderService.dimensions.css.cell.height),x:Math.floor(d[0]),y:Math.floor(d[1])}}};l.MouseService=b=p([g(0,m.IRenderService),g(1,m.ICharSizeService)],b)},3230:function(u,l,c){var p=this&&this.__decorate||function(S,E,R,D){var k,A=arguments.length,B=A<3?E:D===null?D=Object.getOwnPropertyDescriptor(E,R):D;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")B=Reflect.decorate(S,E,R,D);else for(var H=S.length-1;H>=0;H--)(k=S[H])&&(B=(A<3?k(B):A>3?k(E,R,B):k(E,R))||B);return A>3&&B&&Object.defineProperty(E,R,B),B},g=this&&this.__param||function(S,E){return function(R,D){E(R,D,S)}};Object.defineProperty(l,"__esModule",{value:!0}),l.RenderService=void 0;const m=c(3656),y=c(6193),b=c(5596),C=c(4725),x=c(8460),d=c(844),_=c(7226),f=c(2585);let v=l.RenderService=class extends d.Disposable{get dimensions(){return this._renderer.value.dimensions}constructor(S,E,R,D,k,A,B,H){if(super(),this._rowCount=S,this._charSizeService=D,this._renderer=this.register(new d.MutableDisposable),this._pausedResizeTask=new _.DebouncedIdleTask,this._isPaused=!1,this._needsFullRefresh=!1,this._isNextRenderRedrawOnly=!0,this._needsSelectionRefresh=!1,this._canvasWidth=0,this._canvasHeight=0,this._selectionState={start:void 0,end:void 0,columnSelectMode:!1},this._onDimensionsChange=this.register(new x.EventEmitter),this.onDimensionsChange=this._onDimensionsChange.event,this._onRenderedViewportChange=this.register(new x.EventEmitter),this.onRenderedViewportChange=this._onRenderedViewportChange.event,this._onRender=this.register(new x.EventEmitter),this.onRender=this._onRender.event,this._onRefreshRequest=this.register(new x.EventEmitter),this.onRefreshRequest=this._onRefreshRequest.event,this._renderDebouncer=new y.RenderDebouncer(B.window,(j,$)=>this._renderRows(j,$)),this.register(this._renderDebouncer),this._screenDprMonitor=new b.ScreenDprMonitor(B.window),this._screenDprMonitor.setListener(()=>this.handleDevicePixelRatioChange()),this.register(this._screenDprMonitor),this.register(A.onResize(()=>this._fullRefresh())),this.register(A.buffers.onBufferActivate(()=>{var j;return(j=this._renderer.value)===null||j===void 0?void 0:j.clear()})),this.register(R.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._charSizeService.onCharSizeChange(()=>this.handleCharSizeChanged())),this.register(k.onDecorationRegistered(()=>this._fullRefresh())),this.register(k.onDecorationRemoved(()=>this._fullRefresh())),this.register(R.onMultipleOptionChange(["customGlyphs","drawBoldTextInBrightColors","letterSpacing","lineHeight","fontFamily","fontSize","fontWeight","fontWeightBold","minimumContrastRatio"],()=>{this.clear(),this.handleResize(A.cols,A.rows),this._fullRefresh()})),this.register(R.onMultipleOptionChange(["cursorBlink","cursorStyle"],()=>this.refreshRows(A.buffer.y,A.buffer.y,!0))),this.register((0,m.addDisposableDomListener)(B.window,"resize",()=>this.handleDevicePixelRatioChange())),this.register(H.onChangeColors(()=>this._fullRefresh())),"IntersectionObserver"in B.window){const j=new B.window.IntersectionObserver($=>this._handleIntersectionChange($[$.length-1]),{threshold:0});j.observe(E),this.register({dispose:()=>j.disconnect()})}}_handleIntersectionChange(S){this._isPaused=S.isIntersecting===void 0?S.intersectionRatio===0:!S.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this._pausedResizeTask.flush(),this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)}refreshRows(S,E,R=!1){this._isPaused?this._needsFullRefresh=!0:(R||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(S,E,this._rowCount))}_renderRows(S,E){this._renderer.value&&(S=Math.min(S,this._rowCount-1),E=Math.min(E,this._rowCount-1),this._renderer.value.renderRows(S,E),this._needsSelectionRefresh&&(this._renderer.value.handleSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:S,end:E}),this._onRender.fire({start:S,end:E}),this._isNextRenderRedrawOnly=!0)}resize(S,E){this._rowCount=E,this._fireOnCanvasResize()}_handleOptionsChanged(){this._renderer.value&&(this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize())}_fireOnCanvasResize(){this._renderer.value&&(this._renderer.value.dimensions.css.canvas.width===this._canvasWidth&&this._renderer.value.dimensions.css.canvas.height===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.value.dimensions))}hasRenderer(){return!!this._renderer.value}setRenderer(S){this._renderer.value=S,this._renderer.value.onRequestRedraw(E=>this.refreshRows(E.start,E.end,!0)),this._needsSelectionRefresh=!0,this._fullRefresh()}addRefreshCallback(S){return this._renderDebouncer.addRefreshCallback(S)}_fullRefresh(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)}clearTextureAtlas(){var S,E;this._renderer.value&&((E=(S=this._renderer.value).clearTextureAtlas)===null||E===void 0||E.call(S),this._fullRefresh())}handleDevicePixelRatioChange(){this._charSizeService.measure(),this._renderer.value&&(this._renderer.value.handleDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1))}handleResize(S,E){this._renderer.value&&(this._isPaused?this._pausedResizeTask.set(()=>this._renderer.value.handleResize(S,E)):this._renderer.value.handleResize(S,E),this._fullRefresh())}handleCharSizeChanged(){var S;(S=this._renderer.value)===null||S===void 0||S.handleCharSizeChanged()}handleBlur(){var S;(S=this._renderer.value)===null||S===void 0||S.handleBlur()}handleFocus(){var S;(S=this._renderer.value)===null||S===void 0||S.handleFocus()}handleSelectionChanged(S,E,R){var D;this._selectionState.start=S,this._selectionState.end=E,this._selectionState.columnSelectMode=R,(D=this._renderer.value)===null||D===void 0||D.handleSelectionChanged(S,E,R)}handleCursorMove(){var S;(S=this._renderer.value)===null||S===void 0||S.handleCursorMove()}clear(){var S;(S=this._renderer.value)===null||S===void 0||S.clear()}};l.RenderService=v=p([g(2,f.IOptionsService),g(3,C.ICharSizeService),g(4,f.IDecorationService),g(5,f.IBufferService),g(6,C.ICoreBrowserService),g(7,C.IThemeService)],v)},9312:function(u,l,c){var p=this&&this.__decorate||function(k,A,B,H){var j,$=arguments.length,q=$<3?A:H===null?H=Object.getOwnPropertyDescriptor(A,B):H;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")q=Reflect.decorate(k,A,B,H);else for(var Q=k.length-1;Q>=0;Q--)(j=k[Q])&&(q=($<3?j(q):$>3?j(A,B,q):j(A,B))||q);return $>3&&q&&Object.defineProperty(A,B,q),q},g=this&&this.__param||function(k,A){return function(B,H){A(B,H,k)}};Object.defineProperty(l,"__esModule",{value:!0}),l.SelectionService=void 0;const m=c(9806),y=c(9504),b=c(456),C=c(4725),x=c(8460),d=c(844),_=c(6114),f=c(4841),v=c(511),S=c(2585),E="",R=new RegExp(E,"g");let D=l.SelectionService=class extends d.Disposable{constructor(k,A,B,H,j,$,q,Q,X){super(),this._element=k,this._screenElement=A,this._linkifier=B,this._bufferService=H,this._coreService=j,this._mouseService=$,this._optionsService=q,this._renderService=Q,this._coreBrowserService=X,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new v.CellData,this._mouseDownTimeStamp=0,this._oldHasSelection=!1,this._oldSelectionStart=void 0,this._oldSelectionEnd=void 0,this._onLinuxMouseSelection=this.register(new x.EventEmitter),this.onLinuxMouseSelection=this._onLinuxMouseSelection.event,this._onRedrawRequest=this.register(new x.EventEmitter),this.onRequestRedraw=this._onRedrawRequest.event,this._onSelectionChange=this.register(new x.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onRequestScrollLines=this.register(new x.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this._mouseMoveListener=ee=>this._handleMouseMove(ee),this._mouseUpListener=ee=>this._handleMouseUp(ee),this._coreService.onUserInput(()=>{this.hasSelection&&this.clearSelection()}),this._trimListener=this._bufferService.buffer.lines.onTrim(ee=>this._handleTrim(ee)),this.register(this._bufferService.buffers.onBufferActivate(ee=>this._handleBufferActivate(ee))),this.enable(),this._model=new b.SelectionModel(this._bufferService),this._activeSelectionMode=0,this.register((0,d.toDisposable)(()=>{this._removeMouseDownListeners()}))}reset(){this.clearSelection()}disable(){this.clearSelection(),this._enabled=!1}enable(){this._enabled=!0}get selectionStart(){return this._model.finalSelectionStart}get selectionEnd(){return this._model.finalSelectionEnd}get hasSelection(){const k=this._model.finalSelectionStart,A=this._model.finalSelectionEnd;return!(!k||!A||k[0]===A[0]&&k[1]===A[1])}get selectionText(){const k=this._model.finalSelectionStart,A=this._model.finalSelectionEnd;if(!k||!A)return"";const B=this._bufferService.buffer,H=[];if(this._activeSelectionMode===3){if(k[0]===A[0])return"";const j=k[0]<A[0]?k[0]:A[0],$=k[0]<A[0]?A[0]:k[0];for(let q=k[1];q<=A[1];q++){const Q=B.translateBufferLineToString(q,!0,j,$);H.push(Q)}}else{const j=k[1]===A[1]?A[0]:void 0;H.push(B.translateBufferLineToString(k[1],!0,k[0],j));for(let $=k[1]+1;$<=A[1]-1;$++){const q=B.lines.get($),Q=B.translateBufferLineToString($,!0);q!=null&&q.isWrapped?H[H.length-1]+=Q:H.push(Q)}if(k[1]!==A[1]){const $=B.lines.get(A[1]),q=B.translateBufferLineToString(A[1],!0,0,A[0]);$&&$.isWrapped?H[H.length-1]+=q:H.push(q)}}return H.map(j=>j.replace(R," ")).join(_.isWindows?`\r
`:`
`)}clearSelection(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()}refresh(k){this._refreshAnimationFrame||(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._refresh())),_.isLinux&&k&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}_refresh(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:this._activeSelectionMode===3})}_isClickInSelection(k){const A=this._getMouseBufferCoords(k),B=this._model.finalSelectionStart,H=this._model.finalSelectionEnd;return!!(B&&H&&A)&&this._areCoordsInSelection(A,B,H)}isCellInSelection(k,A){const B=this._model.finalSelectionStart,H=this._model.finalSelectionEnd;return!(!B||!H)&&this._areCoordsInSelection([k,A],B,H)}_areCoordsInSelection(k,A,B){return k[1]>A[1]&&k[1]<B[1]||A[1]===B[1]&&k[1]===A[1]&&k[0]>=A[0]&&k[0]<B[0]||A[1]<B[1]&&k[1]===B[1]&&k[0]<B[0]||A[1]<B[1]&&k[1]===A[1]&&k[0]>=A[0]}_selectWordAtCursor(k,A){var B,H;const j=(H=(B=this._linkifier.currentLink)===null||B===void 0?void 0:B.link)===null||H===void 0?void 0:H.range;if(j)return this._model.selectionStart=[j.start.x-1,j.start.y-1],this._model.selectionStartLength=(0,f.getRangeLength)(j,this._bufferService.cols),this._model.selectionEnd=void 0,!0;const $=this._getMouseBufferCoords(k);return!!$&&(this._selectWordAt($,A),this._model.selectionEnd=void 0,!0)}selectAll(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()}selectLines(k,A){this._model.clearSelection(),k=Math.max(k,0),A=Math.min(A,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,k],this._model.selectionEnd=[this._bufferService.cols,A],this.refresh(),this._onSelectionChange.fire()}_handleTrim(k){this._model.handleTrim(k)&&this.refresh()}_getMouseBufferCoords(k){const A=this._mouseService.getCoords(k,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(A)return A[0]--,A[1]--,A[1]+=this._bufferService.buffer.ydisp,A}_getMouseEventScrollAmount(k){let A=(0,m.getCoordsRelativeToElement)(this._coreBrowserService.window,k,this._screenElement)[1];const B=this._renderService.dimensions.css.canvas.height;return A>=0&&A<=B?0:(A>B&&(A-=B),A=Math.min(Math.max(A,-50),50),A/=50,A/Math.abs(A)+Math.round(14*A))}shouldForceSelection(k){return _.isMac?k.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:k.shiftKey}handleMouseDown(k){if(this._mouseDownTimeStamp=k.timeStamp,(k.button!==2||!this.hasSelection)&&k.button===0){if(!this._enabled){if(!this.shouldForceSelection(k))return;k.stopPropagation()}k.preventDefault(),this._dragScrollAmount=0,this._enabled&&k.shiftKey?this._handleIncrementalClick(k):k.detail===1?this._handleSingleClick(k):k.detail===2?this._handleDoubleClick(k):k.detail===3&&this._handleTripleClick(k),this._addMouseDownListeners(),this.refresh(!0)}}_addMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=this._coreBrowserService.window.setInterval(()=>this._dragScroll(),50)}_removeMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0}_handleIncrementalClick(k){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(k))}_handleSingleClick(k){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(k)?3:0,this._model.selectionStart=this._getMouseBufferCoords(k),!this._model.selectionStart)return;this._model.selectionEnd=void 0;const A=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);A&&A.length!==this._model.selectionStart[0]&&A.hasWidth(this._model.selectionStart[0])===0&&this._model.selectionStart[0]++}_handleDoubleClick(k){this._selectWordAtCursor(k,!0)&&(this._activeSelectionMode=1)}_handleTripleClick(k){const A=this._getMouseBufferCoords(k);A&&(this._activeSelectionMode=2,this._selectLineAt(A[1]))}shouldColumnSelect(k){return k.altKey&&!(_.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)}_handleMouseMove(k){if(k.stopImmediatePropagation(),!this._model.selectionStart)return;const A=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(k),!this._model.selectionEnd)return void this.refresh(!0);this._activeSelectionMode===2?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:this._activeSelectionMode===1&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(k),this._activeSelectionMode!==3&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));const B=this._bufferService.buffer;if(this._model.selectionEnd[1]<B.lines.length){const H=B.lines.get(this._model.selectionEnd[1]);H&&H.hasWidth(this._model.selectionEnd[0])===0&&this._model.selectionEnd[0]++}A&&A[0]===this._model.selectionEnd[0]&&A[1]===this._model.selectionEnd[1]||this.refresh(!0)}_dragScroll(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});const k=this._bufferService.buffer;this._dragScrollAmount>0?(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(k.ydisp+this._bufferService.rows,k.lines.length-1)):(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=k.ydisp),this.refresh()}}_handleMouseUp(k){const A=k.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&A<500&&k.altKey&&this._optionsService.rawOptions.altClickMovesCursor){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){const B=this._mouseService.getCoords(k,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(B&&B[0]!==void 0&&B[1]!==void 0){const H=(0,y.moveToCellSequence)(B[0]-1,B[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(H,!0)}}}else this._fireEventIfSelectionChanged()}_fireEventIfSelectionChanged(){const k=this._model.finalSelectionStart,A=this._model.finalSelectionEnd,B=!(!k||!A||k[0]===A[0]&&k[1]===A[1]);B?k&&A&&(this._oldSelectionStart&&this._oldSelectionEnd&&k[0]===this._oldSelectionStart[0]&&k[1]===this._oldSelectionStart[1]&&A[0]===this._oldSelectionEnd[0]&&A[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(k,A,B)):this._oldHasSelection&&this._fireOnSelectionChange(k,A,B)}_fireOnSelectionChange(k,A,B){this._oldSelectionStart=k,this._oldSelectionEnd=A,this._oldHasSelection=B,this._onSelectionChange.fire()}_handleBufferActivate(k){this.clearSelection(),this._trimListener.dispose(),this._trimListener=k.activeBuffer.lines.onTrim(A=>this._handleTrim(A))}_convertViewportColToCharacterIndex(k,A){let B=A;for(let H=0;A>=H;H++){const j=k.loadCell(H,this._workCell).getChars().length;this._workCell.getWidth()===0?B--:j>1&&A!==H&&(B+=j-1)}return B}setSelection(k,A,B){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[k,A],this._model.selectionStartLength=B,this.refresh(),this._fireEventIfSelectionChanged()}rightClickSelect(k){this._isClickInSelection(k)||(this._selectWordAtCursor(k,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())}_getWordAt(k,A,B=!0,H=!0){if(k[0]>=this._bufferService.cols)return;const j=this._bufferService.buffer,$=j.lines.get(k[1]);if(!$)return;const q=j.translateBufferLineToString(k[1],!1);let Q=this._convertViewportColToCharacterIndex($,k[0]),X=Q;const ee=k[0]-Q;let O=0,z=0,I=0,F=0;if(q.charAt(Q)===" "){for(;Q>0&&q.charAt(Q-1)===" ";)Q--;for(;X<q.length&&q.charAt(X+1)===" ";)X++}else{let ae=k[0],se=k[0];$.getWidth(ae)===0&&(O++,ae--),$.getWidth(se)===2&&(z++,se++);const ue=$.getString(se).length;for(ue>1&&(F+=ue-1,X+=ue-1);ae>0&&Q>0&&!this._isCharWordSeparator($.loadCell(ae-1,this._workCell));){$.loadCell(ae-1,this._workCell);const N=this._workCell.getChars().length;this._workCell.getWidth()===0?(O++,ae--):N>1&&(I+=N-1,Q-=N-1),Q--,ae--}for(;se<$.length&&X+1<q.length&&!this._isCharWordSeparator($.loadCell(se+1,this._workCell));){$.loadCell(se+1,this._workCell);const N=this._workCell.getChars().length;this._workCell.getWidth()===2?(z++,se++):N>1&&(F+=N-1,X+=N-1),X++,se++}}X++;let J=Q+ee-O+I,ne=Math.min(this._bufferService.cols,X-Q+O+z-I-F);if(A||q.slice(Q,X).trim()!==""){if(B&&J===0&&$.getCodePoint(0)!==32){const ae=j.lines.get(k[1]-1);if(ae&&$.isWrapped&&ae.getCodePoint(this._bufferService.cols-1)!==32){const se=this._getWordAt([this._bufferService.cols-1,k[1]-1],!1,!0,!1);if(se){const ue=this._bufferService.cols-se.start;J-=ue,ne+=ue}}}if(H&&J+ne===this._bufferService.cols&&$.getCodePoint(this._bufferService.cols-1)!==32){const ae=j.lines.get(k[1]+1);if(ae!=null&&ae.isWrapped&&ae.getCodePoint(0)!==32){const se=this._getWordAt([0,k[1]+1],!1,!1,!0);se&&(ne+=se.length)}}return{start:J,length:ne}}}_selectWordAt(k,A){const B=this._getWordAt(k,A);if(B){for(;B.start<0;)B.start+=this._bufferService.cols,k[1]--;this._model.selectionStart=[B.start,k[1]],this._model.selectionStartLength=B.length}}_selectToWordAt(k){const A=this._getWordAt(k,!0);if(A){let B=k[1];for(;A.start<0;)A.start+=this._bufferService.cols,B--;if(!this._model.areSelectionValuesReversed())for(;A.start+A.length>this._bufferService.cols;)A.length-=this._bufferService.cols,B++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?A.start:A.start+A.length,B]}}_isCharWordSeparator(k){return k.getWidth()!==0&&this._optionsService.rawOptions.wordSeparator.indexOf(k.getChars())>=0}_selectLineAt(k){const A=this._bufferService.buffer.getWrappedRangeForLine(k),B={start:{x:0,y:A.first},end:{x:this._bufferService.cols-1,y:A.last}};this._model.selectionStart=[0,A.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=(0,f.getRangeLength)(B,this._bufferService.cols)}};l.SelectionService=D=p([g(3,S.IBufferService),g(4,S.ICoreService),g(5,C.IMouseService),g(6,S.IOptionsService),g(7,C.IRenderService),g(8,C.ICoreBrowserService)],D)},4725:(u,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.IThemeService=l.ICharacterJoinerService=l.ISelectionService=l.IRenderService=l.IMouseService=l.ICoreBrowserService=l.ICharSizeService=void 0;const p=c(8343);l.ICharSizeService=(0,p.createDecorator)("CharSizeService"),l.ICoreBrowserService=(0,p.createDecorator)("CoreBrowserService"),l.IMouseService=(0,p.createDecorator)("MouseService"),l.IRenderService=(0,p.createDecorator)("RenderService"),l.ISelectionService=(0,p.createDecorator)("SelectionService"),l.ICharacterJoinerService=(0,p.createDecorator)("CharacterJoinerService"),l.IThemeService=(0,p.createDecorator)("ThemeService")},6731:function(u,l,c){var p=this&&this.__decorate||function(D,k,A,B){var H,j=arguments.length,$=j<3?k:B===null?B=Object.getOwnPropertyDescriptor(k,A):B;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$=Reflect.decorate(D,k,A,B);else for(var q=D.length-1;q>=0;q--)(H=D[q])&&($=(j<3?H($):j>3?H(k,A,$):H(k,A))||$);return j>3&&$&&Object.defineProperty(k,A,$),$},g=this&&this.__param||function(D,k){return function(A,B){k(A,B,D)}};Object.defineProperty(l,"__esModule",{value:!0}),l.ThemeService=l.DEFAULT_ANSI_COLORS=void 0;const m=c(7239),y=c(8055),b=c(8460),C=c(844),x=c(2585),d=y.css.toColor("#ffffff"),_=y.css.toColor("#000000"),f=y.css.toColor("#ffffff"),v=y.css.toColor("#000000"),S={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};l.DEFAULT_ANSI_COLORS=Object.freeze((()=>{const D=[y.css.toColor("#2e3436"),y.css.toColor("#cc0000"),y.css.toColor("#4e9a06"),y.css.toColor("#c4a000"),y.css.toColor("#3465a4"),y.css.toColor("#75507b"),y.css.toColor("#06989a"),y.css.toColor("#d3d7cf"),y.css.toColor("#555753"),y.css.toColor("#ef2929"),y.css.toColor("#8ae234"),y.css.toColor("#fce94f"),y.css.toColor("#729fcf"),y.css.toColor("#ad7fa8"),y.css.toColor("#34e2e2"),y.css.toColor("#eeeeec")],k=[0,95,135,175,215,255];for(let A=0;A<216;A++){const B=k[A/36%6|0],H=k[A/6%6|0],j=k[A%6];D.push({css:y.channels.toCss(B,H,j),rgba:y.channels.toRgba(B,H,j)})}for(let A=0;A<24;A++){const B=8+10*A;D.push({css:y.channels.toCss(B,B,B),rgba:y.channels.toRgba(B,B,B)})}return D})());let E=l.ThemeService=class extends C.Disposable{get colors(){return this._colors}constructor(D){super(),this._optionsService=D,this._contrastCache=new m.ColorContrastCache,this._halfContrastCache=new m.ColorContrastCache,this._onChangeColors=this.register(new b.EventEmitter),this.onChangeColors=this._onChangeColors.event,this._colors={foreground:d,background:_,cursor:f,cursorAccent:v,selectionForeground:void 0,selectionBackgroundTransparent:S,selectionBackgroundOpaque:y.color.blend(_,S),selectionInactiveBackgroundTransparent:S,selectionInactiveBackgroundOpaque:y.color.blend(_,S),ansi:l.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache,halfContrastCache:this._halfContrastCache},this._updateRestoreColors(),this._setTheme(this._optionsService.rawOptions.theme),this.register(this._optionsService.onSpecificOptionChange("minimumContrastRatio",()=>this._contrastCache.clear())),this.register(this._optionsService.onSpecificOptionChange("theme",()=>this._setTheme(this._optionsService.rawOptions.theme)))}_setTheme(D={}){const k=this._colors;if(k.foreground=R(D.foreground,d),k.background=R(D.background,_),k.cursor=R(D.cursor,f),k.cursorAccent=R(D.cursorAccent,v),k.selectionBackgroundTransparent=R(D.selectionBackground,S),k.selectionBackgroundOpaque=y.color.blend(k.background,k.selectionBackgroundTransparent),k.selectionInactiveBackgroundTransparent=R(D.selectionInactiveBackground,k.selectionBackgroundTransparent),k.selectionInactiveBackgroundOpaque=y.color.blend(k.background,k.selectionInactiveBackgroundTransparent),k.selectionForeground=D.selectionForeground?R(D.selectionForeground,y.NULL_COLOR):void 0,k.selectionForeground===y.NULL_COLOR&&(k.selectionForeground=void 0),y.color.isOpaque(k.selectionBackgroundTransparent)&&(k.selectionBackgroundTransparent=y.color.opacity(k.selectionBackgroundTransparent,.3)),y.color.isOpaque(k.selectionInactiveBackgroundTransparent)&&(k.selectionInactiveBackgroundTransparent=y.color.opacity(k.selectionInactiveBackgroundTransparent,.3)),k.ansi=l.DEFAULT_ANSI_COLORS.slice(),k.ansi[0]=R(D.black,l.DEFAULT_ANSI_COLORS[0]),k.ansi[1]=R(D.red,l.DEFAULT_ANSI_COLORS[1]),k.ansi[2]=R(D.green,l.DEFAULT_ANSI_COLORS[2]),k.ansi[3]=R(D.yellow,l.DEFAULT_ANSI_COLORS[3]),k.ansi[4]=R(D.blue,l.DEFAULT_ANSI_COLORS[4]),k.ansi[5]=R(D.magenta,l.DEFAULT_ANSI_COLORS[5]),k.ansi[6]=R(D.cyan,l.DEFAULT_ANSI_COLORS[6]),k.ansi[7]=R(D.white,l.DEFAULT_ANSI_COLORS[7]),k.ansi[8]=R(D.brightBlack,l.DEFAULT_ANSI_COLORS[8]),k.ansi[9]=R(D.brightRed,l.DEFAULT_ANSI_COLORS[9]),k.ansi[10]=R(D.brightGreen,l.DEFAULT_ANSI_COLORS[10]),k.ansi[11]=R(D.brightYellow,l.DEFAULT_ANSI_COLORS[11]),k.ansi[12]=R(D.brightBlue,l.DEFAULT_ANSI_COLORS[12]),k.ansi[13]=R(D.brightMagenta,l.DEFAULT_ANSI_COLORS[13]),k.ansi[14]=R(D.brightCyan,l.DEFAULT_ANSI_COLORS[14]),k.ansi[15]=R(D.brightWhite,l.DEFAULT_ANSI_COLORS[15]),D.extendedAnsi){const A=Math.min(k.ansi.length-16,D.extendedAnsi.length);for(let B=0;B<A;B++)k.ansi[B+16]=R(D.extendedAnsi[B],l.DEFAULT_ANSI_COLORS[B+16])}this._contrastCache.clear(),this._halfContrastCache.clear(),this._updateRestoreColors(),this._onChangeColors.fire(this.colors)}restoreColor(D){this._restoreColor(D),this._onChangeColors.fire(this.colors)}_restoreColor(D){if(D!==void 0)switch(D){case 256:this._colors.foreground=this._restoreColors.foreground;break;case 257:this._colors.background=this._restoreColors.background;break;case 258:this._colors.cursor=this._restoreColors.cursor;break;default:this._colors.ansi[D]=this._restoreColors.ansi[D]}else for(let k=0;k<this._restoreColors.ansi.length;++k)this._colors.ansi[k]=this._restoreColors.ansi[k]}modifyColors(D){D(this._colors),this._onChangeColors.fire(this.colors)}_updateRestoreColors(){this._restoreColors={foreground:this._colors.foreground,background:this._colors.background,cursor:this._colors.cursor,ansi:this._colors.ansi.slice()}}};function R(D,k){if(D!==void 0)try{return y.css.toColor(D)}catch{}return k}l.ThemeService=E=p([g(0,x.IOptionsService)],E)},6349:(u,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.CircularList=void 0;const p=c(8460),g=c(844);class m extends g.Disposable{constructor(b){super(),this._maxLength=b,this.onDeleteEmitter=this.register(new p.EventEmitter),this.onDelete=this.onDeleteEmitter.event,this.onInsertEmitter=this.register(new p.EventEmitter),this.onInsert=this.onInsertEmitter.event,this.onTrimEmitter=this.register(new p.EventEmitter),this.onTrim=this.onTrimEmitter.event,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}get maxLength(){return this._maxLength}set maxLength(b){if(this._maxLength===b)return;const C=new Array(b);for(let x=0;x<Math.min(b,this.length);x++)C[x]=this._array[this._getCyclicIndex(x)];this._array=C,this._maxLength=b,this._startIndex=0}get length(){return this._length}set length(b){if(b>this._length)for(let C=this._length;C<b;C++)this._array[C]=void 0;this._length=b}get(b){return this._array[this._getCyclicIndex(b)]}set(b,C){this._array[this._getCyclicIndex(b)]=C}push(b){this._array[this._getCyclicIndex(this._length)]=b,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++}recycle(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]}get isFull(){return this._length===this._maxLength}pop(){return this._array[this._getCyclicIndex(this._length---1)]}splice(b,C,...x){if(C){for(let d=b;d<this._length-C;d++)this._array[this._getCyclicIndex(d)]=this._array[this._getCyclicIndex(d+C)];this._length-=C,this.onDeleteEmitter.fire({index:b,amount:C})}for(let d=this._length-1;d>=b;d--)this._array[this._getCyclicIndex(d+x.length)]=this._array[this._getCyclicIndex(d)];for(let d=0;d<x.length;d++)this._array[this._getCyclicIndex(b+d)]=x[d];if(x.length&&this.onInsertEmitter.fire({index:b,amount:x.length}),this._length+x.length>this._maxLength){const d=this._length+x.length-this._maxLength;this._startIndex+=d,this._length=this._maxLength,this.onTrimEmitter.fire(d)}else this._length+=x.length}trimStart(b){b>this._length&&(b=this._length),this._startIndex+=b,this._length-=b,this.onTrimEmitter.fire(b)}shiftElements(b,C,x){if(!(C<=0)){if(b<0||b>=this._length)throw new Error("start argument out of range");if(b+x<0)throw new Error("Cannot shift elements in list beyond index 0");if(x>0){for(let _=C-1;_>=0;_--)this.set(b+_+x,this.get(b+_));const d=b+C+x-this._length;if(d>0)for(this._length+=d;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(let d=0;d<C;d++)this.set(b+d+x,this.get(b+d))}}_getCyclicIndex(b){return(this._startIndex+b)%this._maxLength}}l.CircularList=m},1439:(u,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.clone=void 0,l.clone=function c(p,g=5){if(typeof p!="object")return p;const m=Array.isArray(p)?[]:{};for(const y in p)m[y]=g<=1?p[y]:p[y]&&c(p[y],g-1);return m}},8055:(u,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.contrastRatio=l.toPaddedHex=l.rgba=l.rgb=l.css=l.color=l.channels=l.NULL_COLOR=void 0;const p=c(6114);let g=0,m=0,y=0,b=0;var C,x,d,_,f;function v(E){const R=E.toString(16);return R.length<2?"0"+R:R}function S(E,R){return E<R?(R+.05)/(E+.05):(E+.05)/(R+.05)}l.NULL_COLOR={css:"#00000000",rgba:0},function(E){E.toCss=function(R,D,k,A){return A!==void 0?`#${v(R)}${v(D)}${v(k)}${v(A)}`:`#${v(R)}${v(D)}${v(k)}`},E.toRgba=function(R,D,k,A=255){return(R<<24|D<<16|k<<8|A)>>>0}}(C||(l.channels=C={})),function(E){function R(D,k){return b=Math.round(255*k),[g,m,y]=f.toChannels(D.rgba),{css:C.toCss(g,m,y,b),rgba:C.toRgba(g,m,y,b)}}E.blend=function(D,k){if(b=(255&k.rgba)/255,b===1)return{css:k.css,rgba:k.rgba};const A=k.rgba>>24&255,B=k.rgba>>16&255,H=k.rgba>>8&255,j=D.rgba>>24&255,$=D.rgba>>16&255,q=D.rgba>>8&255;return g=j+Math.round((A-j)*b),m=$+Math.round((B-$)*b),y=q+Math.round((H-q)*b),{css:C.toCss(g,m,y),rgba:C.toRgba(g,m,y)}},E.isOpaque=function(D){return(255&D.rgba)==255},E.ensureContrastRatio=function(D,k,A){const B=f.ensureContrastRatio(D.rgba,k.rgba,A);if(B)return f.toColor(B>>24&255,B>>16&255,B>>8&255)},E.opaque=function(D){const k=(255|D.rgba)>>>0;return[g,m,y]=f.toChannels(k),{css:C.toCss(g,m,y),rgba:k}},E.opacity=R,E.multiplyOpacity=function(D,k){return b=255&D.rgba,R(D,b*k/255)},E.toColorRGB=function(D){return[D.rgba>>24&255,D.rgba>>16&255,D.rgba>>8&255]}}(x||(l.color=x={})),function(E){let R,D;if(!p.isNode){const k=document.createElement("canvas");k.width=1,k.height=1;const A=k.getContext("2d",{willReadFrequently:!0});A&&(R=A,R.globalCompositeOperation="copy",D=R.createLinearGradient(0,0,1,1))}E.toColor=function(k){if(k.match(/#[\da-f]{3,8}/i))switch(k.length){case 4:return g=parseInt(k.slice(1,2).repeat(2),16),m=parseInt(k.slice(2,3).repeat(2),16),y=parseInt(k.slice(3,4).repeat(2),16),f.toColor(g,m,y);case 5:return g=parseInt(k.slice(1,2).repeat(2),16),m=parseInt(k.slice(2,3).repeat(2),16),y=parseInt(k.slice(3,4).repeat(2),16),b=parseInt(k.slice(4,5).repeat(2),16),f.toColor(g,m,y,b);case 7:return{css:k,rgba:(parseInt(k.slice(1),16)<<8|255)>>>0};case 9:return{css:k,rgba:parseInt(k.slice(1),16)>>>0}}const A=k.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(A)return g=parseInt(A[1]),m=parseInt(A[2]),y=parseInt(A[3]),b=Math.round(255*(A[5]===void 0?1:parseFloat(A[5]))),f.toColor(g,m,y,b);if(!R||!D)throw new Error("css.toColor: Unsupported css format");if(R.fillStyle=D,R.fillStyle=k,typeof R.fillStyle!="string")throw new Error("css.toColor: Unsupported css format");if(R.fillRect(0,0,1,1),[g,m,y,b]=R.getImageData(0,0,1,1).data,b!==255)throw new Error("css.toColor: Unsupported css format");return{rgba:C.toRgba(g,m,y,b),css:k}}}(d||(l.css=d={})),function(E){function R(D,k,A){const B=D/255,H=k/255,j=A/255;return .2126*(B<=.03928?B/12.92:Math.pow((B+.055)/1.055,2.4))+.7152*(H<=.03928?H/12.92:Math.pow((H+.055)/1.055,2.4))+.0722*(j<=.03928?j/12.92:Math.pow((j+.055)/1.055,2.4))}E.relativeLuminance=function(D){return R(D>>16&255,D>>8&255,255&D)},E.relativeLuminance2=R}(_||(l.rgb=_={})),function(E){function R(k,A,B){const H=k>>24&255,j=k>>16&255,$=k>>8&255;let q=A>>24&255,Q=A>>16&255,X=A>>8&255,ee=S(_.relativeLuminance2(q,Q,X),_.relativeLuminance2(H,j,$));for(;ee<B&&(q>0||Q>0||X>0);)q-=Math.max(0,Math.ceil(.1*q)),Q-=Math.max(0,Math.ceil(.1*Q)),X-=Math.max(0,Math.ceil(.1*X)),ee=S(_.relativeLuminance2(q,Q,X),_.relativeLuminance2(H,j,$));return(q<<24|Q<<16|X<<8|255)>>>0}function D(k,A,B){const H=k>>24&255,j=k>>16&255,$=k>>8&255;let q=A>>24&255,Q=A>>16&255,X=A>>8&255,ee=S(_.relativeLuminance2(q,Q,X),_.relativeLuminance2(H,j,$));for(;ee<B&&(q<255||Q<255||X<255);)q=Math.min(255,q+Math.ceil(.1*(255-q))),Q=Math.min(255,Q+Math.ceil(.1*(255-Q))),X=Math.min(255,X+Math.ceil(.1*(255-X))),ee=S(_.relativeLuminance2(q,Q,X),_.relativeLuminance2(H,j,$));return(q<<24|Q<<16|X<<8|255)>>>0}E.ensureContrastRatio=function(k,A,B){const H=_.relativeLuminance(k>>8),j=_.relativeLuminance(A>>8);if(S(H,j)<B){if(j<H){const Q=R(k,A,B),X=S(H,_.relativeLuminance(Q>>8));if(X<B){const ee=D(k,A,B);return X>S(H,_.relativeLuminance(ee>>8))?Q:ee}return Q}const $=D(k,A,B),q=S(H,_.relativeLuminance($>>8));if(q<B){const Q=R(k,A,B);return q>S(H,_.relativeLuminance(Q>>8))?$:Q}return $}},E.reduceLuminance=R,E.increaseLuminance=D,E.toChannels=function(k){return[k>>24&255,k>>16&255,k>>8&255,255&k]},E.toColor=function(k,A,B,H){return{css:C.toCss(k,A,B,H),rgba:C.toRgba(k,A,B,H)}}}(f||(l.rgba=f={})),l.toPaddedHex=v,l.contrastRatio=S},8969:(u,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.CoreTerminal=void 0;const p=c(844),g=c(2585),m=c(4348),y=c(7866),b=c(744),C=c(7302),x=c(6975),d=c(8460),_=c(1753),f=c(1480),v=c(7994),S=c(9282),E=c(5435),R=c(5981),D=c(2660);let k=!1;class A extends p.Disposable{get onScroll(){return this._onScrollApi||(this._onScrollApi=this.register(new d.EventEmitter),this._onScroll.event(H=>{var j;(j=this._onScrollApi)===null||j===void 0||j.fire(H.position)})),this._onScrollApi.event}get cols(){return this._bufferService.cols}get rows(){return this._bufferService.rows}get buffers(){return this._bufferService.buffers}get options(){return this.optionsService.options}set options(H){for(const j in H)this.optionsService.options[j]=H[j]}constructor(H){super(),this._windowsWrappingHeuristics=this.register(new p.MutableDisposable),this._onBinary=this.register(new d.EventEmitter),this.onBinary=this._onBinary.event,this._onData=this.register(new d.EventEmitter),this.onData=this._onData.event,this._onLineFeed=this.register(new d.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onResize=this.register(new d.EventEmitter),this.onResize=this._onResize.event,this._onWriteParsed=this.register(new d.EventEmitter),this.onWriteParsed=this._onWriteParsed.event,this._onScroll=this.register(new d.EventEmitter),this._instantiationService=new m.InstantiationService,this.optionsService=this.register(new C.OptionsService(H)),this._instantiationService.setService(g.IOptionsService,this.optionsService),this._bufferService=this.register(this._instantiationService.createInstance(b.BufferService)),this._instantiationService.setService(g.IBufferService,this._bufferService),this._logService=this.register(this._instantiationService.createInstance(y.LogService)),this._instantiationService.setService(g.ILogService,this._logService),this.coreService=this.register(this._instantiationService.createInstance(x.CoreService)),this._instantiationService.setService(g.ICoreService,this.coreService),this.coreMouseService=this.register(this._instantiationService.createInstance(_.CoreMouseService)),this._instantiationService.setService(g.ICoreMouseService,this.coreMouseService),this.unicodeService=this.register(this._instantiationService.createInstance(f.UnicodeService)),this._instantiationService.setService(g.IUnicodeService,this.unicodeService),this._charsetService=this._instantiationService.createInstance(v.CharsetService),this._instantiationService.setService(g.ICharsetService,this._charsetService),this._oscLinkService=this._instantiationService.createInstance(D.OscLinkService),this._instantiationService.setService(g.IOscLinkService,this._oscLinkService),this._inputHandler=this.register(new E.InputHandler(this._bufferService,this._charsetService,this.coreService,this._logService,this.optionsService,this._oscLinkService,this.coreMouseService,this.unicodeService)),this.register((0,d.forwardEvent)(this._inputHandler.onLineFeed,this._onLineFeed)),this.register(this._inputHandler),this.register((0,d.forwardEvent)(this._bufferService.onResize,this._onResize)),this.register((0,d.forwardEvent)(this.coreService.onData,this._onData)),this.register((0,d.forwardEvent)(this.coreService.onBinary,this._onBinary)),this.register(this.coreService.onRequestScrollToBottom(()=>this.scrollToBottom())),this.register(this.coreService.onUserInput(()=>this._writeBuffer.handleUserInput())),this.register(this.optionsService.onMultipleOptionChange(["windowsMode","windowsPty"],()=>this._handleWindowsPtyOptionChange())),this.register(this._bufferService.onScroll(j=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this.register(this._inputHandler.onScroll(j=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this._writeBuffer=this.register(new R.WriteBuffer((j,$)=>this._inputHandler.parse(j,$))),this.register((0,d.forwardEvent)(this._writeBuffer.onWriteParsed,this._onWriteParsed))}write(H,j){this._writeBuffer.write(H,j)}writeSync(H,j){this._logService.logLevel<=g.LogLevelEnum.WARN&&!k&&(this._logService.warn("writeSync is unreliable and will be removed soon."),k=!0),this._writeBuffer.writeSync(H,j)}resize(H,j){isNaN(H)||isNaN(j)||(H=Math.max(H,b.MINIMUM_COLS),j=Math.max(j,b.MINIMUM_ROWS),this._bufferService.resize(H,j))}scroll(H,j=!1){this._bufferService.scroll(H,j)}scrollLines(H,j,$){this._bufferService.scrollLines(H,j,$)}scrollPages(H){this.scrollLines(H*(this.rows-1))}scrollToTop(){this.scrollLines(-this._bufferService.buffer.ydisp)}scrollToBottom(){this.scrollLines(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp)}scrollToLine(H){const j=H-this._bufferService.buffer.ydisp;j!==0&&this.scrollLines(j)}registerEscHandler(H,j){return this._inputHandler.registerEscHandler(H,j)}registerDcsHandler(H,j){return this._inputHandler.registerDcsHandler(H,j)}registerCsiHandler(H,j){return this._inputHandler.registerCsiHandler(H,j)}registerOscHandler(H,j){return this._inputHandler.registerOscHandler(H,j)}_setup(){this._handleWindowsPtyOptionChange()}reset(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()}_handleWindowsPtyOptionChange(){let H=!1;const j=this.optionsService.rawOptions.windowsPty;j&&j.buildNumber!==void 0&&j.buildNumber!==void 0?H=j.backend==="conpty"&&j.buildNumber<21376:this.optionsService.rawOptions.windowsMode&&(H=!0),H?this._enableWindowsWrappingHeuristics():this._windowsWrappingHeuristics.clear()}_enableWindowsWrappingHeuristics(){if(!this._windowsWrappingHeuristics.value){const H=[];H.push(this.onLineFeed(S.updateWindowsModeWrappedState.bind(null,this._bufferService))),H.push(this.registerCsiHandler({final:"H"},()=>((0,S.updateWindowsModeWrappedState)(this._bufferService),!1))),this._windowsWrappingHeuristics.value=(0,p.toDisposable)(()=>{for(const j of H)j.dispose()})}}}l.CoreTerminal=A},8460:(u,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.forwardEvent=l.EventEmitter=void 0,l.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=c=>(this._listeners.push(c),{dispose:()=>{if(!this._disposed){for(let p=0;p<this._listeners.length;p++)if(this._listeners[p]===c)return void this._listeners.splice(p,1)}}})),this._event}fire(c,p){const g=[];for(let m=0;m<this._listeners.length;m++)g.push(this._listeners[m]);for(let m=0;m<g.length;m++)g[m].call(void 0,c,p)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},l.forwardEvent=function(c,p){return c(g=>p.fire(g))}},5435:function(u,l,c){var p=this&&this.__decorate||function(ee,O,z,I){var F,J=arguments.length,ne=J<3?O:I===null?I=Object.getOwnPropertyDescriptor(O,z):I;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ne=Reflect.decorate(ee,O,z,I);else for(var ae=ee.length-1;ae>=0;ae--)(F=ee[ae])&&(ne=(J<3?F(ne):J>3?F(O,z,ne):F(O,z))||ne);return J>3&&ne&&Object.defineProperty(O,z,ne),ne},g=this&&this.__param||function(ee,O){return function(z,I){O(z,I,ee)}};Object.defineProperty(l,"__esModule",{value:!0}),l.InputHandler=l.WindowsOptionsReportType=void 0;const m=c(2584),y=c(7116),b=c(2015),C=c(844),x=c(482),d=c(8437),_=c(8460),f=c(643),v=c(511),S=c(3734),E=c(2585),R=c(6242),D=c(6351),k=c(5941),A={"(":0,")":1,"*":2,"+":3,"-":1,".":2},B=131072;function H(ee,O){if(ee>24)return O.setWinLines||!1;switch(ee){case 1:return!!O.restoreWin;case 2:return!!O.minimizeWin;case 3:return!!O.setWinPosition;case 4:return!!O.setWinSizePixels;case 5:return!!O.raiseWin;case 6:return!!O.lowerWin;case 7:return!!O.refreshWin;case 8:return!!O.setWinSizeChars;case 9:return!!O.maximizeWin;case 10:return!!O.fullscreenWin;case 11:return!!O.getWinState;case 13:return!!O.getWinPosition;case 14:return!!O.getWinSizePixels;case 15:return!!O.getScreenSizePixels;case 16:return!!O.getCellSizePixels;case 18:return!!O.getWinSizeChars;case 19:return!!O.getScreenSizeChars;case 20:return!!O.getIconTitle;case 21:return!!O.getWinTitle;case 22:return!!O.pushTitle;case 23:return!!O.popTitle;case 24:return!!O.setWinLines}return!1}var j;(function(ee){ee[ee.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",ee[ee.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS"})(j||(l.WindowsOptionsReportType=j={}));let $=0;class q extends C.Disposable{getAttrData(){return this._curAttrData}constructor(O,z,I,F,J,ne,ae,se,ue=new b.EscapeSequenceParser){super(),this._bufferService=O,this._charsetService=z,this._coreService=I,this._logService=F,this._optionsService=J,this._oscLinkService=ne,this._coreMouseService=ae,this._unicodeService=se,this._parser=ue,this._parseBuffer=new Uint32Array(4096),this._stringDecoder=new x.StringToUtf32,this._utf8Decoder=new x.Utf8ToUtf32,this._workCell=new v.CellData,this._windowTitle="",this._iconName="",this._windowTitleStack=[],this._iconNameStack=[],this._curAttrData=d.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=d.DEFAULT_ATTR_DATA.clone(),this._onRequestBell=this.register(new _.EventEmitter),this.onRequestBell=this._onRequestBell.event,this._onRequestRefreshRows=this.register(new _.EventEmitter),this.onRequestRefreshRows=this._onRequestRefreshRows.event,this._onRequestReset=this.register(new _.EventEmitter),this.onRequestReset=this._onRequestReset.event,this._onRequestSendFocus=this.register(new _.EventEmitter),this.onRequestSendFocus=this._onRequestSendFocus.event,this._onRequestSyncScrollBar=this.register(new _.EventEmitter),this.onRequestSyncScrollBar=this._onRequestSyncScrollBar.event,this._onRequestWindowsOptionsReport=this.register(new _.EventEmitter),this.onRequestWindowsOptionsReport=this._onRequestWindowsOptionsReport.event,this._onA11yChar=this.register(new _.EventEmitter),this.onA11yChar=this._onA11yChar.event,this._onA11yTab=this.register(new _.EventEmitter),this.onA11yTab=this._onA11yTab.event,this._onCursorMove=this.register(new _.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onLineFeed=this.register(new _.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onScroll=this.register(new _.EventEmitter),this.onScroll=this._onScroll.event,this._onTitleChange=this.register(new _.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onColor=this.register(new _.EventEmitter),this.onColor=this._onColor.event,this._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},this._specialColors=[256,257,258],this.register(this._parser),this._dirtyRowTracker=new Q(this._bufferService),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(N=>this._activeBuffer=N.activeBuffer)),this._parser.setCsiHandlerFallback((N,W)=>{this._logService.debug("Unknown CSI code: ",{identifier:this._parser.identToString(N),params:W.toArray()})}),this._parser.setEscHandlerFallback(N=>{this._logService.debug("Unknown ESC code: ",{identifier:this._parser.identToString(N)})}),this._parser.setExecuteHandlerFallback(N=>{this._logService.debug("Unknown EXECUTE code: ",{code:N})}),this._parser.setOscHandlerFallback((N,W,te)=>{this._logService.debug("Unknown OSC code: ",{identifier:N,action:W,data:te})}),this._parser.setDcsHandlerFallback((N,W,te)=>{W==="HOOK"&&(te=te.toArray()),this._logService.debug("Unknown DCS code: ",{identifier:this._parser.identToString(N),action:W,payload:te})}),this._parser.setPrintHandler((N,W,te)=>this.print(N,W,te)),this._parser.registerCsiHandler({final:"@"},N=>this.insertChars(N)),this._parser.registerCsiHandler({intermediates:" ",final:"@"},N=>this.scrollLeft(N)),this._parser.registerCsiHandler({final:"A"},N=>this.cursorUp(N)),this._parser.registerCsiHandler({intermediates:" ",final:"A"},N=>this.scrollRight(N)),this._parser.registerCsiHandler({final:"B"},N=>this.cursorDown(N)),this._parser.registerCsiHandler({final:"C"},N=>this.cursorForward(N)),this._parser.registerCsiHandler({final:"D"},N=>this.cursorBackward(N)),this._parser.registerCsiHandler({final:"E"},N=>this.cursorNextLine(N)),this._parser.registerCsiHandler({final:"F"},N=>this.cursorPrecedingLine(N)),this._parser.registerCsiHandler({final:"G"},N=>this.cursorCharAbsolute(N)),this._parser.registerCsiHandler({final:"H"},N=>this.cursorPosition(N)),this._parser.registerCsiHandler({final:"I"},N=>this.cursorForwardTab(N)),this._parser.registerCsiHandler({final:"J"},N=>this.eraseInDisplay(N,!1)),this._parser.registerCsiHandler({prefix:"?",final:"J"},N=>this.eraseInDisplay(N,!0)),this._parser.registerCsiHandler({final:"K"},N=>this.eraseInLine(N,!1)),this._parser.registerCsiHandler({prefix:"?",final:"K"},N=>this.eraseInLine(N,!0)),this._parser.registerCsiHandler({final:"L"},N=>this.insertLines(N)),this._parser.registerCsiHandler({final:"M"},N=>this.deleteLines(N)),this._parser.registerCsiHandler({final:"P"},N=>this.deleteChars(N)),this._parser.registerCsiHandler({final:"S"},N=>this.scrollUp(N)),this._parser.registerCsiHandler({final:"T"},N=>this.scrollDown(N)),this._parser.registerCsiHandler({final:"X"},N=>this.eraseChars(N)),this._parser.registerCsiHandler({final:"Z"},N=>this.cursorBackwardTab(N)),this._parser.registerCsiHandler({final:"`"},N=>this.charPosAbsolute(N)),this._parser.registerCsiHandler({final:"a"},N=>this.hPositionRelative(N)),this._parser.registerCsiHandler({final:"b"},N=>this.repeatPrecedingCharacter(N)),this._parser.registerCsiHandler({final:"c"},N=>this.sendDeviceAttributesPrimary(N)),this._parser.registerCsiHandler({prefix:">",final:"c"},N=>this.sendDeviceAttributesSecondary(N)),this._parser.registerCsiHandler({final:"d"},N=>this.linePosAbsolute(N)),this._parser.registerCsiHandler({final:"e"},N=>this.vPositionRelative(N)),this._parser.registerCsiHandler({final:"f"},N=>this.hVPosition(N)),this._parser.registerCsiHandler({final:"g"},N=>this.tabClear(N)),this._parser.registerCsiHandler({final:"h"},N=>this.setMode(N)),this._parser.registerCsiHandler({prefix:"?",final:"h"},N=>this.setModePrivate(N)),this._parser.registerCsiHandler({final:"l"},N=>this.resetMode(N)),this._parser.registerCsiHandler({prefix:"?",final:"l"},N=>this.resetModePrivate(N)),this._parser.registerCsiHandler({final:"m"},N=>this.charAttributes(N)),this._parser.registerCsiHandler({final:"n"},N=>this.deviceStatus(N)),this._parser.registerCsiHandler({prefix:"?",final:"n"},N=>this.deviceStatusPrivate(N)),this._parser.registerCsiHandler({intermediates:"!",final:"p"},N=>this.softReset(N)),this._parser.registerCsiHandler({intermediates:" ",final:"q"},N=>this.setCursorStyle(N)),this._parser.registerCsiHandler({final:"r"},N=>this.setScrollRegion(N)),this._parser.registerCsiHandler({final:"s"},N=>this.saveCursor(N)),this._parser.registerCsiHandler({final:"t"},N=>this.windowOptions(N)),this._parser.registerCsiHandler({final:"u"},N=>this.restoreCursor(N)),this._parser.registerCsiHandler({intermediates:"'",final:"}"},N=>this.insertColumns(N)),this._parser.registerCsiHandler({intermediates:"'",final:"~"},N=>this.deleteColumns(N)),this._parser.registerCsiHandler({intermediates:'"',final:"q"},N=>this.selectProtected(N)),this._parser.registerCsiHandler({intermediates:"$",final:"p"},N=>this.requestMode(N,!0)),this._parser.registerCsiHandler({prefix:"?",intermediates:"$",final:"p"},N=>this.requestMode(N,!1)),this._parser.setExecuteHandler(m.C0.BEL,()=>this.bell()),this._parser.setExecuteHandler(m.C0.LF,()=>this.lineFeed()),this._parser.setExecuteHandler(m.C0.VT,()=>this.lineFeed()),this._parser.setExecuteHandler(m.C0.FF,()=>this.lineFeed()),this._parser.setExecuteHandler(m.C0.CR,()=>this.carriageReturn()),this._parser.setExecuteHandler(m.C0.BS,()=>this.backspace()),this._parser.setExecuteHandler(m.C0.HT,()=>this.tab()),this._parser.setExecuteHandler(m.C0.SO,()=>this.shiftOut()),this._parser.setExecuteHandler(m.C0.SI,()=>this.shiftIn()),this._parser.setExecuteHandler(m.C1.IND,()=>this.index()),this._parser.setExecuteHandler(m.C1.NEL,()=>this.nextLine()),this._parser.setExecuteHandler(m.C1.HTS,()=>this.tabSet()),this._parser.registerOscHandler(0,new R.OscHandler(N=>(this.setTitle(N),this.setIconName(N),!0))),this._parser.registerOscHandler(1,new R.OscHandler(N=>this.setIconName(N))),this._parser.registerOscHandler(2,new R.OscHandler(N=>this.setTitle(N))),this._parser.registerOscHandler(4,new R.OscHandler(N=>this.setOrReportIndexedColor(N))),this._parser.registerOscHandler(8,new R.OscHandler(N=>this.setHyperlink(N))),this._parser.registerOscHandler(10,new R.OscHandler(N=>this.setOrReportFgColor(N))),this._parser.registerOscHandler(11,new R.OscHandler(N=>this.setOrReportBgColor(N))),this._parser.registerOscHandler(12,new R.OscHandler(N=>this.setOrReportCursorColor(N))),this._parser.registerOscHandler(104,new R.OscHandler(N=>this.restoreIndexedColor(N))),this._parser.registerOscHandler(110,new R.OscHandler(N=>this.restoreFgColor(N))),this._parser.registerOscHandler(111,new R.OscHandler(N=>this.restoreBgColor(N))),this._parser.registerOscHandler(112,new R.OscHandler(N=>this.restoreCursorColor(N))),this._parser.registerEscHandler({final:"7"},()=>this.saveCursor()),this._parser.registerEscHandler({final:"8"},()=>this.restoreCursor()),this._parser.registerEscHandler({final:"D"},()=>this.index()),this._parser.registerEscHandler({final:"E"},()=>this.nextLine()),this._parser.registerEscHandler({final:"H"},()=>this.tabSet()),this._parser.registerEscHandler({final:"M"},()=>this.reverseIndex()),this._parser.registerEscHandler({final:"="},()=>this.keypadApplicationMode()),this._parser.registerEscHandler({final:">"},()=>this.keypadNumericMode()),this._parser.registerEscHandler({final:"c"},()=>this.fullReset()),this._parser.registerEscHandler({final:"n"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"o"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"|"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"}"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"~"},()=>this.setgLevel(1)),this._parser.registerEscHandler({intermediates:"%",final:"@"},()=>this.selectDefaultCharset()),this._parser.registerEscHandler({intermediates:"%",final:"G"},()=>this.selectDefaultCharset());for(const N in y.CHARSETS)this._parser.registerEscHandler({intermediates:"(",final:N},()=>this.selectCharset("("+N)),this._parser.registerEscHandler({intermediates:")",final:N},()=>this.selectCharset(")"+N)),this._parser.registerEscHandler({intermediates:"*",final:N},()=>this.selectCharset("*"+N)),this._parser.registerEscHandler({intermediates:"+",final:N},()=>this.selectCharset("+"+N)),this._parser.registerEscHandler({intermediates:"-",final:N},()=>this.selectCharset("-"+N)),this._parser.registerEscHandler({intermediates:".",final:N},()=>this.selectCharset("."+N)),this._parser.registerEscHandler({intermediates:"/",final:N},()=>this.selectCharset("/"+N));this._parser.registerEscHandler({intermediates:"#",final:"8"},()=>this.screenAlignmentPattern()),this._parser.setErrorHandler(N=>(this._logService.error("Parsing error: ",N),N)),this._parser.registerDcsHandler({intermediates:"$",final:"q"},new D.DcsHandler((N,W)=>this.requestStatusString(N,W)))}_preserveStack(O,z,I,F){this._parseStack.paused=!0,this._parseStack.cursorStartX=O,this._parseStack.cursorStartY=z,this._parseStack.decodedLength=I,this._parseStack.position=F}_logSlowResolvingAsync(O){this._logService.logLevel<=E.LogLevelEnum.WARN&&Promise.race([O,new Promise((z,I)=>setTimeout(()=>I("#SLOW_TIMEOUT"),5e3))]).catch(z=>{if(z!=="#SLOW_TIMEOUT")throw z;console.warn("async parser handler taking longer than 5000 ms")})}_getCurrentLinkId(){return this._curAttrData.extended.urlId}parse(O,z){let I,F=this._activeBuffer.x,J=this._activeBuffer.y,ne=0;const ae=this._parseStack.paused;if(ae){if(I=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,z))return this._logSlowResolvingAsync(I),I;F=this._parseStack.cursorStartX,J=this._parseStack.cursorStartY,this._parseStack.paused=!1,O.length>B&&(ne=this._parseStack.position+B)}if(this._logService.logLevel<=E.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+(typeof O=="string"?` "${O}"`:` "${Array.prototype.map.call(O,se=>String.fromCharCode(se)).join("")}"`),typeof O=="string"?O.split("").map(se=>se.charCodeAt(0)):O),this._parseBuffer.length<O.length&&this._parseBuffer.length<B&&(this._parseBuffer=new Uint32Array(Math.min(O.length,B))),ae||this._dirtyRowTracker.clearRange(),O.length>B)for(let se=ne;se<O.length;se+=B){const ue=se+B<O.length?se+B:O.length,N=typeof O=="string"?this._stringDecoder.decode(O.substring(se,ue),this._parseBuffer):this._utf8Decoder.decode(O.subarray(se,ue),this._parseBuffer);if(I=this._parser.parse(this._parseBuffer,N))return this._preserveStack(F,J,N,se),this._logSlowResolvingAsync(I),I}else if(!ae){const se=typeof O=="string"?this._stringDecoder.decode(O,this._parseBuffer):this._utf8Decoder.decode(O,this._parseBuffer);if(I=this._parser.parse(this._parseBuffer,se))return this._preserveStack(F,J,se,0),this._logSlowResolvingAsync(I),I}this._activeBuffer.x===F&&this._activeBuffer.y===J||this._onCursorMove.fire(),this._onRequestRefreshRows.fire(this._dirtyRowTracker.start,this._dirtyRowTracker.end)}print(O,z,I){let F,J;const ne=this._charsetService.charset,ae=this._optionsService.rawOptions.screenReaderMode,se=this._bufferService.cols,ue=this._coreService.decPrivateModes.wraparound,N=this._coreService.modes.insertMode,W=this._curAttrData;let te=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._activeBuffer.x&&I-z>0&&te.getWidth(this._activeBuffer.x-1)===2&&te.setCellFromCodePoint(this._activeBuffer.x-1,0,1,W.fg,W.bg,W.extended);for(let Y=z;Y<I;++Y){if(F=O[Y],J=this._unicodeService.wcwidth(F),F<127&&ne){const me=ne[String.fromCharCode(F)];me&&(F=me.charCodeAt(0))}if(ae&&this._onA11yChar.fire((0,x.stringFromCodePoint)(F)),this._getCurrentLinkId()&&this._oscLinkService.addLineToLink(this._getCurrentLinkId(),this._activeBuffer.ybase+this._activeBuffer.y),J||!this._activeBuffer.x){if(this._activeBuffer.x+J-1>=se){if(ue){for(;this._activeBuffer.x<se;)te.setCellFromCodePoint(this._activeBuffer.x++,0,1,W.fg,W.bg,W.extended);this._activeBuffer.x=0,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),te=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y)}else if(this._activeBuffer.x=se-1,J===2)continue}if(N&&(te.insertCells(this._activeBuffer.x,J,this._activeBuffer.getNullCell(W),W),te.getWidth(se-1)===2&&te.setCellFromCodePoint(se-1,f.NULL_CELL_CODE,f.NULL_CELL_WIDTH,W.fg,W.bg,W.extended)),te.setCellFromCodePoint(this._activeBuffer.x++,F,J,W.fg,W.bg,W.extended),J>0)for(;--J;)te.setCellFromCodePoint(this._activeBuffer.x++,0,0,W.fg,W.bg,W.extended)}else te.getWidth(this._activeBuffer.x-1)?te.addCodepointToCell(this._activeBuffer.x-1,F):te.addCodepointToCell(this._activeBuffer.x-2,F)}I-z>0&&(te.loadCell(this._activeBuffer.x-1,this._workCell),this._workCell.getWidth()===2||this._workCell.getCode()>65535?this._parser.precedingCodepoint=0:this._workCell.isCombined()?this._parser.precedingCodepoint=this._workCell.getChars().charCodeAt(0):this._parser.precedingCodepoint=this._workCell.content),this._activeBuffer.x<se&&I-z>0&&te.getWidth(this._activeBuffer.x)===0&&!te.hasContent(this._activeBuffer.x)&&te.setCellFromCodePoint(this._activeBuffer.x,0,1,W.fg,W.bg,W.extended),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}registerCsiHandler(O,z){return O.final!=="t"||O.prefix||O.intermediates?this._parser.registerCsiHandler(O,z):this._parser.registerCsiHandler(O,I=>!H(I.params[0],this._optionsService.rawOptions.windowOptions)||z(I))}registerDcsHandler(O,z){return this._parser.registerDcsHandler(O,new D.DcsHandler(z))}registerEscHandler(O,z){return this._parser.registerEscHandler(O,z)}registerOscHandler(O,z){return this._parser.registerOscHandler(O,new R.OscHandler(z))}bell(){return this._onRequestBell.fire(),!0}lineFeed(){return this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows?this._activeBuffer.y=this._bufferService.rows-1:this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0}carriageReturn(){return this._activeBuffer.x=0,!0}backspace(){var O;if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(this._activeBuffer.x===0&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&(!((O=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y))===null||O===void 0)&&O.isWrapped)){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;const z=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);z.hasWidth(this._activeBuffer.x)&&!z.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0}tab(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;const O=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-O),!0}shiftOut(){return this._charsetService.setgLevel(1),!0}shiftIn(){return this._charsetService.setgLevel(0),!0}_restrictCursor(O=this._bufferService.cols-1){this._activeBuffer.x=Math.min(O,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_setCursor(O,z){this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=O,this._activeBuffer.y=this._activeBuffer.scrollTop+z):(this._activeBuffer.x=O,this._activeBuffer.y=z),this._restrictCursor(),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_moveCursor(O,z){this._restrictCursor(),this._setCursor(this._activeBuffer.x+O,this._activeBuffer.y+z)}cursorUp(O){const z=this._activeBuffer.y-this._activeBuffer.scrollTop;return z>=0?this._moveCursor(0,-Math.min(z,O.params[0]||1)):this._moveCursor(0,-(O.params[0]||1)),!0}cursorDown(O){const z=this._activeBuffer.scrollBottom-this._activeBuffer.y;return z>=0?this._moveCursor(0,Math.min(z,O.params[0]||1)):this._moveCursor(0,O.params[0]||1),!0}cursorForward(O){return this._moveCursor(O.params[0]||1,0),!0}cursorBackward(O){return this._moveCursor(-(O.params[0]||1),0),!0}cursorNextLine(O){return this.cursorDown(O),this._activeBuffer.x=0,!0}cursorPrecedingLine(O){return this.cursorUp(O),this._activeBuffer.x=0,!0}cursorCharAbsolute(O){return this._setCursor((O.params[0]||1)-1,this._activeBuffer.y),!0}cursorPosition(O){return this._setCursor(O.length>=2?(O.params[1]||1)-1:0,(O.params[0]||1)-1),!0}charPosAbsolute(O){return this._setCursor((O.params[0]||1)-1,this._activeBuffer.y),!0}hPositionRelative(O){return this._moveCursor(O.params[0]||1,0),!0}linePosAbsolute(O){return this._setCursor(this._activeBuffer.x,(O.params[0]||1)-1),!0}vPositionRelative(O){return this._moveCursor(0,O.params[0]||1),!0}hVPosition(O){return this.cursorPosition(O),!0}tabClear(O){const z=O.params[0];return z===0?delete this._activeBuffer.tabs[this._activeBuffer.x]:z===3&&(this._activeBuffer.tabs={}),!0}cursorForwardTab(O){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let z=O.params[0]||1;for(;z--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0}cursorBackwardTab(O){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let z=O.params[0]||1;for(;z--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0}selectProtected(O){const z=O.params[0];return z===1&&(this._curAttrData.bg|=536870912),z!==2&&z!==0||(this._curAttrData.bg&=-536870913),!0}_eraseInBufferLine(O,z,I,F=!1,J=!1){const ne=this._activeBuffer.lines.get(this._activeBuffer.ybase+O);ne.replaceCells(z,I,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData(),J),F&&(ne.isWrapped=!1)}_resetBufferLine(O,z=!1){const I=this._activeBuffer.lines.get(this._activeBuffer.ybase+O);I&&(I.fill(this._activeBuffer.getNullCell(this._eraseAttrData()),z),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+O),I.isWrapped=!1)}eraseInDisplay(O,z=!1){let I;switch(this._restrictCursor(this._bufferService.cols),O.params[0]){case 0:for(I=this._activeBuffer.y,this._dirtyRowTracker.markDirty(I),this._eraseInBufferLine(I++,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,z);I<this._bufferService.rows;I++)this._resetBufferLine(I,z);this._dirtyRowTracker.markDirty(I);break;case 1:for(I=this._activeBuffer.y,this._dirtyRowTracker.markDirty(I),this._eraseInBufferLine(I,0,this._activeBuffer.x+1,!0,z),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(I+1).isWrapped=!1);I--;)this._resetBufferLine(I,z);this._dirtyRowTracker.markDirty(0);break;case 2:for(I=this._bufferService.rows,this._dirtyRowTracker.markDirty(I-1);I--;)this._resetBufferLine(I,z);this._dirtyRowTracker.markDirty(0);break;case 3:const F=this._activeBuffer.lines.length-this._bufferService.rows;F>0&&(this._activeBuffer.lines.trimStart(F),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-F,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-F,0),this._onScroll.fire(0))}return!0}eraseInLine(O,z=!1){switch(this._restrictCursor(this._bufferService.cols),O.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,z);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1,z);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0,z)}return this._dirtyRowTracker.markDirty(this._activeBuffer.y),!0}insertLines(O){this._restrictCursor();let z=O.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const I=this._activeBuffer.ybase+this._activeBuffer.y,F=this._bufferService.rows-1-this._activeBuffer.scrollBottom,J=this._bufferService.rows-1+this._activeBuffer.ybase-F+1;for(;z--;)this._activeBuffer.lines.splice(J-1,1),this._activeBuffer.lines.splice(I,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}deleteLines(O){this._restrictCursor();let z=O.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const I=this._activeBuffer.ybase+this._activeBuffer.y;let F;for(F=this._bufferService.rows-1-this._activeBuffer.scrollBottom,F=this._bufferService.rows-1+this._activeBuffer.ybase-F;z--;)this._activeBuffer.lines.splice(I,1),this._activeBuffer.lines.splice(F,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}insertChars(O){this._restrictCursor();const z=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return z&&(z.insertCells(this._activeBuffer.x,O.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}deleteChars(O){this._restrictCursor();const z=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return z&&(z.deleteCells(this._activeBuffer.x,O.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}scrollUp(O){let z=O.params[0]||1;for(;z--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollDown(O){let z=O.params[0]||1;for(;z--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(d.DEFAULT_ATTR_DATA));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollLeft(O){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const z=O.params[0]||1;for(let I=this._activeBuffer.scrollTop;I<=this._activeBuffer.scrollBottom;++I){const F=this._activeBuffer.lines.get(this._activeBuffer.ybase+I);F.deleteCells(0,z,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),F.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollRight(O){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const z=O.params[0]||1;for(let I=this._activeBuffer.scrollTop;I<=this._activeBuffer.scrollBottom;++I){const F=this._activeBuffer.lines.get(this._activeBuffer.ybase+I);F.insertCells(0,z,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),F.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}insertColumns(O){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const z=O.params[0]||1;for(let I=this._activeBuffer.scrollTop;I<=this._activeBuffer.scrollBottom;++I){const F=this._activeBuffer.lines.get(this._activeBuffer.ybase+I);F.insertCells(this._activeBuffer.x,z,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),F.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}deleteColumns(O){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const z=O.params[0]||1;for(let I=this._activeBuffer.scrollTop;I<=this._activeBuffer.scrollBottom;++I){const F=this._activeBuffer.lines.get(this._activeBuffer.ybase+I);F.deleteCells(this._activeBuffer.x,z,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),F.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}eraseChars(O){this._restrictCursor();const z=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return z&&(z.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(O.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}repeatPrecedingCharacter(O){if(!this._parser.precedingCodepoint)return!0;const z=O.params[0]||1,I=new Uint32Array(z);for(let F=0;F<z;++F)I[F]=this._parser.precedingCodepoint;return this.print(I,0,I.length),!0}sendDeviceAttributesPrimary(O){return O.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(m.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(m.C0.ESC+"[?6c")),!0}sendDeviceAttributesSecondary(O){return O.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(m.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(m.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(O.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(m.C0.ESC+"[>83;40003;0c")),!0}_is(O){return(this._optionsService.rawOptions.termName+"").indexOf(O)===0}setMode(O){for(let z=0;z<O.length;z++)switch(O.params[z]){case 4:this._coreService.modes.insertMode=!0;break;case 20:this._optionsService.options.convertEol=!0}return!0}setModePrivate(O){for(let z=0;z<O.length;z++)switch(O.params[z]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,y.DEFAULT_CHARSET),this._charsetService.setgCharset(1,y.DEFAULT_CHARSET),this._charsetService.setgCharset(2,y.DEFAULT_CHARSET),this._charsetService.setgCharset(3,y.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:this._optionsService.options.cursorBlink=!0;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="SGR_PIXELS";break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0}resetMode(O){for(let z=0;z<O.length;z++)switch(O.params[z]){case 4:this._coreService.modes.insertMode=!1;break;case 20:this._optionsService.options.convertEol=!1}return!0}resetModePrivate(O){for(let z=0;z<O.length;z++)switch(O.params[z]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:this._optionsService.options.cursorBlink=!1;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:case 1016:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),O.params[z]===1049&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0}requestMode(O,z){const I=this._coreService.decPrivateModes,{activeProtocol:F,activeEncoding:J}=this._coreMouseService,ne=this._coreService,{buffers:ae,cols:se}=this._bufferService,{active:ue,alt:N}=ae,W=this._optionsService.rawOptions,te=Ce=>Ce?1:2,Y=O.params[0];return me=Y,le=z?Y===2?4:Y===4?te(ne.modes.insertMode):Y===12?3:Y===20?te(W.convertEol):0:Y===1?te(I.applicationCursorKeys):Y===3?W.windowOptions.setWinLines?se===80?2:se===132?1:0:0:Y===6?te(I.origin):Y===7?te(I.wraparound):Y===8?3:Y===9?te(F==="X10"):Y===12?te(W.cursorBlink):Y===25?te(!ne.isCursorHidden):Y===45?te(I.reverseWraparound):Y===66?te(I.applicationKeypad):Y===67?4:Y===1e3?te(F==="VT200"):Y===1002?te(F==="DRAG"):Y===1003?te(F==="ANY"):Y===1004?te(I.sendFocus):Y===1005?4:Y===1006?te(J==="SGR"):Y===1015?4:Y===1016?te(J==="SGR_PIXELS"):Y===1048?1:Y===47||Y===1047||Y===1049?te(ue===N):Y===2004?te(I.bracketedPasteMode):0,ne.triggerDataEvent(`${m.C0.ESC}[${z?"":"?"}${me};${le}$y`),!0;var me,le}_updateAttrColor(O,z,I,F,J){return z===2?(O|=50331648,O&=-16777216,O|=S.AttributeData.fromColorRGB([I,F,J])):z===5&&(O&=-50331904,O|=33554432|255&I),O}_extractColor(O,z,I){const F=[0,0,-1,0,0,0];let J=0,ne=0;do{if(F[ne+J]=O.params[z+ne],O.hasSubParams(z+ne)){const ae=O.getSubParams(z+ne);let se=0;do F[1]===5&&(J=1),F[ne+se+1+J]=ae[se];while(++se<ae.length&&se+ne+1+J<F.length);break}if(F[1]===5&&ne+J>=2||F[1]===2&&ne+J>=5)break;F[1]&&(J=1)}while(++ne+z<O.length&&ne+J<F.length);for(let ae=2;ae<F.length;++ae)F[ae]===-1&&(F[ae]=0);switch(F[0]){case 38:I.fg=this._updateAttrColor(I.fg,F[1],F[3],F[4],F[5]);break;case 48:I.bg=this._updateAttrColor(I.bg,F[1],F[3],F[4],F[5]);break;case 58:I.extended=I.extended.clone(),I.extended.underlineColor=this._updateAttrColor(I.extended.underlineColor,F[1],F[3],F[4],F[5])}return ne}_processUnderline(O,z){z.extended=z.extended.clone(),(!~O||O>5)&&(O=1),z.extended.underlineStyle=O,z.fg|=268435456,O===0&&(z.fg&=-268435457),z.updateExtended()}_processSGR0(O){O.fg=d.DEFAULT_ATTR_DATA.fg,O.bg=d.DEFAULT_ATTR_DATA.bg,O.extended=O.extended.clone(),O.extended.underlineStyle=0,O.extended.underlineColor&=-67108864,O.updateExtended()}charAttributes(O){if(O.length===1&&O.params[0]===0)return this._processSGR0(this._curAttrData),!0;const z=O.length;let I;const F=this._curAttrData;for(let J=0;J<z;J++)I=O.params[J],I>=30&&I<=37?(F.fg&=-50331904,F.fg|=16777216|I-30):I>=40&&I<=47?(F.bg&=-50331904,F.bg|=16777216|I-40):I>=90&&I<=97?(F.fg&=-50331904,F.fg|=16777224|I-90):I>=100&&I<=107?(F.bg&=-50331904,F.bg|=16777224|I-100):I===0?this._processSGR0(F):I===1?F.fg|=134217728:I===3?F.bg|=67108864:I===4?(F.fg|=268435456,this._processUnderline(O.hasSubParams(J)?O.getSubParams(J)[0]:1,F)):I===5?F.fg|=536870912:I===7?F.fg|=67108864:I===8?F.fg|=1073741824:I===9?F.fg|=2147483648:I===2?F.bg|=134217728:I===21?this._processUnderline(2,F):I===22?(F.fg&=-134217729,F.bg&=-134217729):I===23?F.bg&=-67108865:I===24?(F.fg&=-268435457,this._processUnderline(0,F)):I===25?F.fg&=-536870913:I===27?F.fg&=-67108865:I===28?F.fg&=-1073741825:I===29?F.fg&=2147483647:I===39?(F.fg&=-67108864,F.fg|=16777215&d.DEFAULT_ATTR_DATA.fg):I===49?(F.bg&=-67108864,F.bg|=16777215&d.DEFAULT_ATTR_DATA.bg):I===38||I===48||I===58?J+=this._extractColor(O,J,F):I===53?F.bg|=1073741824:I===55?F.bg&=-1073741825:I===59?(F.extended=F.extended.clone(),F.extended.underlineColor=-1,F.updateExtended()):I===100?(F.fg&=-67108864,F.fg|=16777215&d.DEFAULT_ATTR_DATA.fg,F.bg&=-67108864,F.bg|=16777215&d.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",I);return!0}deviceStatus(O){switch(O.params[0]){case 5:this._coreService.triggerDataEvent(`${m.C0.ESC}[0n`);break;case 6:const z=this._activeBuffer.y+1,I=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${m.C0.ESC}[${z};${I}R`)}return!0}deviceStatusPrivate(O){if(O.params[0]===6){const z=this._activeBuffer.y+1,I=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${m.C0.ESC}[?${z};${I}R`)}return!0}softReset(O){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=d.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0}setCursorStyle(O){const z=O.params[0]||1;switch(z){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}const I=z%2==1;return this._optionsService.options.cursorBlink=I,!0}setScrollRegion(O){const z=O.params[0]||1;let I;return(O.length<2||(I=O.params[1])>this._bufferService.rows||I===0)&&(I=this._bufferService.rows),I>z&&(this._activeBuffer.scrollTop=z-1,this._activeBuffer.scrollBottom=I-1,this._setCursor(0,0)),!0}windowOptions(O){if(!H(O.params[0],this._optionsService.rawOptions.windowOptions))return!0;const z=O.length>1?O.params[1]:0;switch(O.params[0]){case 14:z!==2&&this._onRequestWindowsOptionsReport.fire(j.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(j.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(`${m.C0.ESC}[8;${this._bufferService.rows};${this._bufferService.cols}t`);break;case 22:z!==0&&z!==2||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),z!==0&&z!==1||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:z!==0&&z!==2||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),z!==0&&z!==1||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0}saveCursor(O){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0}restoreCursor(O){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0}setTitle(O){return this._windowTitle=O,this._onTitleChange.fire(O),!0}setIconName(O){return this._iconName=O,!0}setOrReportIndexedColor(O){const z=[],I=O.split(";");for(;I.length>1;){const F=I.shift(),J=I.shift();if(/^\d+$/.exec(F)){const ne=parseInt(F);if(X(ne))if(J==="?")z.push({type:0,index:ne});else{const ae=(0,k.parseColor)(J);ae&&z.push({type:1,index:ne,color:ae})}}}return z.length&&this._onColor.fire(z),!0}setHyperlink(O){const z=O.split(";");return!(z.length<2)&&(z[1]?this._createHyperlink(z[0],z[1]):!z[0]&&this._finishHyperlink())}_createHyperlink(O,z){this._getCurrentLinkId()&&this._finishHyperlink();const I=O.split(":");let F;const J=I.findIndex(ne=>ne.startsWith("id="));return J!==-1&&(F=I[J].slice(3)||void 0),this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=this._oscLinkService.registerLink({id:F,uri:z}),this._curAttrData.updateExtended(),!0}_finishHyperlink(){return this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=0,this._curAttrData.updateExtended(),!0}_setOrReportSpecialColor(O,z){const I=O.split(";");for(let F=0;F<I.length&&!(z>=this._specialColors.length);++F,++z)if(I[F]==="?")this._onColor.fire([{type:0,index:this._specialColors[z]}]);else{const J=(0,k.parseColor)(I[F]);J&&this._onColor.fire([{type:1,index:this._specialColors[z],color:J}])}return!0}setOrReportFgColor(O){return this._setOrReportSpecialColor(O,0)}setOrReportBgColor(O){return this._setOrReportSpecialColor(O,1)}setOrReportCursorColor(O){return this._setOrReportSpecialColor(O,2)}restoreIndexedColor(O){if(!O)return this._onColor.fire([{type:2}]),!0;const z=[],I=O.split(";");for(let F=0;F<I.length;++F)if(/^\d+$/.exec(I[F])){const J=parseInt(I[F]);X(J)&&z.push({type:2,index:J})}return z.length&&this._onColor.fire(z),!0}restoreFgColor(O){return this._onColor.fire([{type:2,index:256}]),!0}restoreBgColor(O){return this._onColor.fire([{type:2,index:257}]),!0}restoreCursorColor(O){return this._onColor.fire([{type:2,index:258}]),!0}nextLine(){return this._activeBuffer.x=0,this.index(),!0}keypadApplicationMode(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0}keypadNumericMode(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0}selectDefaultCharset(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,y.DEFAULT_CHARSET),!0}selectCharset(O){return O.length!==2?(this.selectDefaultCharset(),!0):(O[0]==="/"||this._charsetService.setgCharset(A[O[0]],y.CHARSETS[O[1]]||y.DEFAULT_CHARSET),!0)}index(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0}tabSet(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0}reverseIndex(){if(this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop){const O=this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop;this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,O,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)}else this._activeBuffer.y--,this._restrictCursor();return!0}fullReset(){return this._parser.reset(),this._onRequestReset.fire(),!0}reset(){this._curAttrData=d.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=d.DEFAULT_ATTR_DATA.clone()}_eraseAttrData(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal}setgLevel(O){return this._charsetService.setgLevel(O),!0}screenAlignmentPattern(){const O=new v.CellData;O.content=4194373,O.fg=this._curAttrData.fg,O.bg=this._curAttrData.bg,this._setCursor(0,0);for(let z=0;z<this._bufferService.rows;++z){const I=this._activeBuffer.ybase+this._activeBuffer.y+z,F=this._activeBuffer.lines.get(I);F&&(F.fill(O),F.isWrapped=!1)}return this._dirtyRowTracker.markAllDirty(),this._setCursor(0,0),!0}requestStatusString(O,z){const I=this._bufferService.buffer,F=this._optionsService.rawOptions;return(J=>(this._coreService.triggerDataEvent(`${m.C0.ESC}${J}${m.C0.ESC}\\`),!0))(O==='"q'?`P1$r${this._curAttrData.isProtected()?1:0}"q`:O==='"p'?'P1$r61;1"p':O==="r"?`P1$r${I.scrollTop+1};${I.scrollBottom+1}r`:O==="m"?"P1$r0m":O===" q"?`P1$r${{block:2,underline:4,bar:6}[F.cursorStyle]-(F.cursorBlink?1:0)} q`:"P0$r")}markRangeDirty(O,z){this._dirtyRowTracker.markRangeDirty(O,z)}}l.InputHandler=q;let Q=class{constructor(ee){this._bufferService=ee,this.clearRange()}clearRange(){this.start=this._bufferService.buffer.y,this.end=this._bufferService.buffer.y}markDirty(ee){ee<this.start?this.start=ee:ee>this.end&&(this.end=ee)}markRangeDirty(ee,O){ee>O&&($=ee,ee=O,O=$),ee<this.start&&(this.start=ee),O>this.end&&(this.end=O)}markAllDirty(){this.markRangeDirty(0,this._bufferService.rows-1)}};function X(ee){return 0<=ee&&ee<256}Q=p([g(0,E.IBufferService)],Q)},844:(u,l)=>{function c(p){for(const g of p)g.dispose();p.length=0}Object.defineProperty(l,"__esModule",{value:!0}),l.getDisposeArrayDisposable=l.disposeArray=l.toDisposable=l.MutableDisposable=l.Disposable=void 0,l.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const p of this._disposables)p.dispose();this._disposables.length=0}register(p){return this._disposables.push(p),p}unregister(p){const g=this._disposables.indexOf(p);g!==-1&&this._disposables.splice(g,1)}},l.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(p){var g;this._isDisposed||p===this._value||((g=this._value)===null||g===void 0||g.dispose(),this._value=p)}clear(){this.value=void 0}dispose(){var p;this._isDisposed=!0,(p=this._value)===null||p===void 0||p.dispose(),this._value=void 0}},l.toDisposable=function(p){return{dispose:p}},l.disposeArray=c,l.getDisposeArrayDisposable=function(p){return{dispose:()=>c(p)}}},1505:(u,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.FourKeyMap=l.TwoKeyMap=void 0;class c{constructor(){this._data={}}set(g,m,y){this._data[g]||(this._data[g]={}),this._data[g][m]=y}get(g,m){return this._data[g]?this._data[g][m]:void 0}clear(){this._data={}}}l.TwoKeyMap=c,l.FourKeyMap=class{constructor(){this._data=new c}set(p,g,m,y,b){this._data.get(p,g)||this._data.set(p,g,new c),this._data.get(p,g).set(m,y,b)}get(p,g,m,y){var b;return(b=this._data.get(p,g))===null||b===void 0?void 0:b.get(m,y)}clear(){this._data.clear()}}},6114:(u,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.isChromeOS=l.isLinux=l.isWindows=l.isIphone=l.isIpad=l.isMac=l.getSafariVersion=l.isSafari=l.isLegacyEdge=l.isFirefox=l.isNode=void 0,l.isNode=typeof navigator>"u";const c=l.isNode?"node":navigator.userAgent,p=l.isNode?"node":navigator.platform;l.isFirefox=c.includes("Firefox"),l.isLegacyEdge=c.includes("Edge"),l.isSafari=/^((?!chrome|android).)*safari/i.test(c),l.getSafariVersion=function(){if(!l.isSafari)return 0;const g=c.match(/Version\/(\d+)/);return g===null||g.length<2?0:parseInt(g[1])},l.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(p),l.isIpad=p==="iPad",l.isIphone=p==="iPhone",l.isWindows=["Windows","Win16","Win32","WinCE"].includes(p),l.isLinux=p.indexOf("Linux")>=0,l.isChromeOS=/\bCrOS\b/.test(c)},6106:(u,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.SortedList=void 0;let c=0;l.SortedList=class{constructor(p){this._getKey=p,this._array=[]}clear(){this._array.length=0}insert(p){this._array.length!==0?(c=this._search(this._getKey(p)),this._array.splice(c,0,p)):this._array.push(p)}delete(p){if(this._array.length===0)return!1;const g=this._getKey(p);if(g===void 0||(c=this._search(g),c===-1)||this._getKey(this._array[c])!==g)return!1;do if(this._array[c]===p)return this._array.splice(c,1),!0;while(++c<this._array.length&&this._getKey(this._array[c])===g);return!1}*getKeyIterator(p){if(this._array.length!==0&&(c=this._search(p),!(c<0||c>=this._array.length)&&this._getKey(this._array[c])===p))do yield this._array[c];while(++c<this._array.length&&this._getKey(this._array[c])===p)}forEachByKey(p,g){if(this._array.length!==0&&(c=this._search(p),!(c<0||c>=this._array.length)&&this._getKey(this._array[c])===p))do g(this._array[c]);while(++c<this._array.length&&this._getKey(this._array[c])===p)}values(){return[...this._array].values()}_search(p){let g=0,m=this._array.length-1;for(;m>=g;){let y=g+m>>1;const b=this._getKey(this._array[y]);if(b>p)m=y-1;else{if(!(b<p)){for(;y>0&&this._getKey(this._array[y-1])===p;)y--;return y}g=y+1}}return g}}},7226:(u,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.DebouncedIdleTask=l.IdleTaskQueue=l.PriorityTaskQueue=void 0;const p=c(6114);class g{constructor(){this._tasks=[],this._i=0}enqueue(b){this._tasks.push(b),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(b){this._idleCallback=void 0;let C=0,x=0,d=b.timeRemaining(),_=0;for(;this._i<this._tasks.length;){if(C=Date.now(),this._tasks[this._i]()||this._i++,C=Math.max(1,Date.now()-C),x=Math.max(C,x),_=b.timeRemaining(),1.5*x>_)return d-C<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(d-C))}ms`),void this._start();d=_}this.clear()}}class m extends g{_requestCallback(b){return setTimeout(()=>b(this._createDeadline(16)))}_cancelCallback(b){clearTimeout(b)}_createDeadline(b){const C=Date.now()+b;return{timeRemaining:()=>Math.max(0,C-Date.now())}}}l.PriorityTaskQueue=m,l.IdleTaskQueue=!p.isNode&&"requestIdleCallback"in window?class extends g{_requestCallback(y){return requestIdleCallback(y)}_cancelCallback(y){cancelIdleCallback(y)}}:m,l.DebouncedIdleTask=class{constructor(){this._queue=new l.IdleTaskQueue}set(y){this._queue.clear(),this._queue.enqueue(y)}flush(){this._queue.flush()}}},9282:(u,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.updateWindowsModeWrappedState=void 0;const p=c(643);l.updateWindowsModeWrappedState=function(g){const m=g.buffer.lines.get(g.buffer.ybase+g.buffer.y-1),y=m==null?void 0:m.get(g.cols-1),b=g.buffer.lines.get(g.buffer.ybase+g.buffer.y);b&&y&&(b.isWrapped=y[p.CHAR_DATA_CODE_INDEX]!==p.NULL_CELL_CODE&&y[p.CHAR_DATA_CODE_INDEX]!==p.WHITESPACE_CELL_CODE)}},3734:(u,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.ExtendedAttrs=l.AttributeData=void 0;class c{constructor(){this.fg=0,this.bg=0,this.extended=new p}static toColorRGB(m){return[m>>>16&255,m>>>8&255,255&m]}static fromColorRGB(m){return(255&m[0])<<16|(255&m[1])<<8|255&m[2]}clone(){const m=new c;return m.fg=this.fg,m.bg=this.bg,m.extended=this.extended.clone(),m}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&this.extended.underlineStyle!==0?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}isOverline(){return 1073741824&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return(50331648&this.fg)==50331648}isBgRGB(){return(50331648&this.bg)==50331648}isFgPalette(){return(50331648&this.fg)==16777216||(50331648&this.fg)==33554432}isBgPalette(){return(50331648&this.bg)==16777216||(50331648&this.bg)==33554432}isFgDefault(){return(50331648&this.fg)==0}isBgDefault(){return(50331648&this.bg)==0}isAttributeDefault(){return this.fg===0&&this.bg===0}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==50331648:this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==16777216||(50331648&this.extended.underlineColor)==33554432:this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==0:this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}}l.AttributeData=c;class p{get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(m){this._ext=m}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(m){this._ext&=-469762049,this._ext|=m<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(m){this._ext&=-67108864,this._ext|=67108863&m}get urlId(){return this._urlId}set urlId(m){this._urlId=m}constructor(m=0,y=0){this._ext=0,this._urlId=0,this._ext=m,this._urlId=y}clone(){return new p(this._ext,this._urlId)}isEmpty(){return this.underlineStyle===0&&this._urlId===0}}l.ExtendedAttrs=p},9092:(u,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.Buffer=l.MAX_BUFFER_SIZE=void 0;const p=c(6349),g=c(7226),m=c(3734),y=c(8437),b=c(4634),C=c(511),x=c(643),d=c(4863),_=c(7116);l.MAX_BUFFER_SIZE=4294967295,l.Buffer=class{constructor(f,v,S){this._hasScrollback=f,this._optionsService=v,this._bufferService=S,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.tabs={},this.savedY=0,this.savedX=0,this.savedCurAttrData=y.DEFAULT_ATTR_DATA.clone(),this.savedCharset=_.DEFAULT_CHARSET,this.markers=[],this._nullCell=C.CellData.fromCharData([0,x.NULL_CELL_CHAR,x.NULL_CELL_WIDTH,x.NULL_CELL_CODE]),this._whitespaceCell=C.CellData.fromCharData([0,x.WHITESPACE_CELL_CHAR,x.WHITESPACE_CELL_WIDTH,x.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._memoryCleanupQueue=new g.IdleTaskQueue,this._memoryCleanupPosition=0,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new p.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}getNullCell(f){return f?(this._nullCell.fg=f.fg,this._nullCell.bg=f.bg,this._nullCell.extended=f.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new m.ExtendedAttrs),this._nullCell}getWhitespaceCell(f){return f?(this._whitespaceCell.fg=f.fg,this._whitespaceCell.bg=f.bg,this._whitespaceCell.extended=f.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new m.ExtendedAttrs),this._whitespaceCell}getBlankLine(f,v){return new y.BufferLine(this._bufferService.cols,this.getNullCell(f),v)}get hasScrollback(){return this._hasScrollback&&this.lines.maxLength>this._rows}get isCursorInViewport(){const f=this.ybase+this.y-this.ydisp;return f>=0&&f<this._rows}_getCorrectBufferLength(f){if(!this._hasScrollback)return f;const v=f+this._optionsService.rawOptions.scrollback;return v>l.MAX_BUFFER_SIZE?l.MAX_BUFFER_SIZE:v}fillViewportRows(f){if(this.lines.length===0){f===void 0&&(f=y.DEFAULT_ATTR_DATA);let v=this._rows;for(;v--;)this.lines.push(this.getBlankLine(f))}}clear(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new p.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}resize(f,v){const S=this.getNullCell(y.DEFAULT_ATTR_DATA);let E=0;const R=this._getCorrectBufferLength(v);if(R>this.lines.maxLength&&(this.lines.maxLength=R),this.lines.length>0){if(this._cols<f)for(let k=0;k<this.lines.length;k++)E+=+this.lines.get(k).resize(f,S);let D=0;if(this._rows<v)for(let k=this._rows;k<v;k++)this.lines.length<v+this.ybase&&(this._optionsService.rawOptions.windowsMode||this._optionsService.rawOptions.windowsPty.backend!==void 0||this._optionsService.rawOptions.windowsPty.buildNumber!==void 0?this.lines.push(new y.BufferLine(f,S)):this.ybase>0&&this.lines.length<=this.ybase+this.y+D+1?(this.ybase--,D++,this.ydisp>0&&this.ydisp--):this.lines.push(new y.BufferLine(f,S)));else for(let k=this._rows;k>v;k--)this.lines.length>v+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(R<this.lines.maxLength){const k=this.lines.length-R;k>0&&(this.lines.trimStart(k),this.ybase=Math.max(this.ybase-k,0),this.ydisp=Math.max(this.ydisp-k,0),this.savedY=Math.max(this.savedY-k,0)),this.lines.maxLength=R}this.x=Math.min(this.x,f-1),this.y=Math.min(this.y,v-1),D&&(this.y+=D),this.savedX=Math.min(this.savedX,f-1),this.scrollTop=0}if(this.scrollBottom=v-1,this._isReflowEnabled&&(this._reflow(f,v),this._cols>f))for(let D=0;D<this.lines.length;D++)E+=+this.lines.get(D).resize(f,S);this._cols=f,this._rows=v,this._memoryCleanupQueue.clear(),E>.1*this.lines.length&&(this._memoryCleanupPosition=0,this._memoryCleanupQueue.enqueue(()=>this._batchedMemoryCleanup()))}_batchedMemoryCleanup(){let f=!0;this._memoryCleanupPosition>=this.lines.length&&(this._memoryCleanupPosition=0,f=!1);let v=0;for(;this._memoryCleanupPosition<this.lines.length;)if(v+=this.lines.get(this._memoryCleanupPosition++).cleanupMemory(),v>100)return!0;return f}get _isReflowEnabled(){const f=this._optionsService.rawOptions.windowsPty;return f&&f.buildNumber?this._hasScrollback&&f.backend==="conpty"&&f.buildNumber>=21376:this._hasScrollback&&!this._optionsService.rawOptions.windowsMode}_reflow(f,v){this._cols!==f&&(f>this._cols?this._reflowLarger(f,v):this._reflowSmaller(f,v))}_reflowLarger(f,v){const S=(0,b.reflowLargerGetLinesToRemove)(this.lines,this._cols,f,this.ybase+this.y,this.getNullCell(y.DEFAULT_ATTR_DATA));if(S.length>0){const E=(0,b.reflowLargerCreateNewLayout)(this.lines,S);(0,b.reflowLargerApplyNewLayout)(this.lines,E.layout),this._reflowLargerAdjustViewport(f,v,E.countRemoved)}}_reflowLargerAdjustViewport(f,v,S){const E=this.getNullCell(y.DEFAULT_ATTR_DATA);let R=S;for(;R-- >0;)this.ybase===0?(this.y>0&&this.y--,this.lines.length<v&&this.lines.push(new y.BufferLine(f,E))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-S,0)}_reflowSmaller(f,v){const S=this.getNullCell(y.DEFAULT_ATTR_DATA),E=[];let R=0;for(let D=this.lines.length-1;D>=0;D--){let k=this.lines.get(D);if(!k||!k.isWrapped&&k.getTrimmedLength()<=f)continue;const A=[k];for(;k.isWrapped&&D>0;)k=this.lines.get(--D),A.unshift(k);const B=this.ybase+this.y;if(B>=D&&B<D+A.length)continue;const H=A[A.length-1].getTrimmedLength(),j=(0,b.reflowSmallerGetNewLineLengths)(A,this._cols,f),$=j.length-A.length;let q;q=this.ybase===0&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+$):Math.max(0,this.lines.length-this.lines.maxLength+$);const Q=[];for(let F=0;F<$;F++){const J=this.getBlankLine(y.DEFAULT_ATTR_DATA,!0);Q.push(J)}Q.length>0&&(E.push({start:D+A.length+R,newLines:Q}),R+=Q.length),A.push(...Q);let X=j.length-1,ee=j[X];ee===0&&(X--,ee=j[X]);let O=A.length-$-1,z=H;for(;O>=0;){const F=Math.min(z,ee);if(A[X]===void 0)break;if(A[X].copyCellsFrom(A[O],z-F,ee-F,F,!0),ee-=F,ee===0&&(X--,ee=j[X]),z-=F,z===0){O--;const J=Math.max(O,0);z=(0,b.getWrappedLineTrimmedLength)(A,J,this._cols)}}for(let F=0;F<A.length;F++)j[F]<f&&A[F].setCell(j[F],S);let I=$-q;for(;I-- >0;)this.ybase===0?this.y<v-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+R)-v&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+$,this.ybase+v-1)}if(E.length>0){const D=[],k=[];for(let X=0;X<this.lines.length;X++)k.push(this.lines.get(X));const A=this.lines.length;let B=A-1,H=0,j=E[H];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+R);let $=0;for(let X=Math.min(this.lines.maxLength-1,A+R-1);X>=0;X--)if(j&&j.start>B+$){for(let ee=j.newLines.length-1;ee>=0;ee--)this.lines.set(X--,j.newLines[ee]);X++,D.push({index:B+1,amount:j.newLines.length}),$+=j.newLines.length,j=E[++H]}else this.lines.set(X,k[B--]);let q=0;for(let X=D.length-1;X>=0;X--)D[X].index+=q,this.lines.onInsertEmitter.fire(D[X]),q+=D[X].amount;const Q=Math.max(0,A+R-this.lines.maxLength);Q>0&&this.lines.onTrimEmitter.fire(Q)}}translateBufferLineToString(f,v,S=0,E){const R=this.lines.get(f);return R?R.translateToString(v,S,E):""}getWrappedRangeForLine(f){let v=f,S=f;for(;v>0&&this.lines.get(v).isWrapped;)v--;for(;S+1<this.lines.length&&this.lines.get(S+1).isWrapped;)S++;return{first:v,last:S}}setupTabStops(f){for(f!=null?this.tabs[f]||(f=this.prevStop(f)):(this.tabs={},f=0);f<this._cols;f+=this._optionsService.rawOptions.tabStopWidth)this.tabs[f]=!0}prevStop(f){for(f==null&&(f=this.x);!this.tabs[--f]&&f>0;);return f>=this._cols?this._cols-1:f<0?0:f}nextStop(f){for(f==null&&(f=this.x);!this.tabs[++f]&&f<this._cols;);return f>=this._cols?this._cols-1:f<0?0:f}clearMarkers(f){this._isClearing=!0;for(let v=0;v<this.markers.length;v++)this.markers[v].line===f&&(this.markers[v].dispose(),this.markers.splice(v--,1));this._isClearing=!1}clearAllMarkers(){this._isClearing=!0;for(let f=0;f<this.markers.length;f++)this.markers[f].dispose(),this.markers.splice(f--,1);this._isClearing=!1}addMarker(f){const v=new d.Marker(f);return this.markers.push(v),v.register(this.lines.onTrim(S=>{v.line-=S,v.line<0&&v.dispose()})),v.register(this.lines.onInsert(S=>{v.line>=S.index&&(v.line+=S.amount)})),v.register(this.lines.onDelete(S=>{v.line>=S.index&&v.line<S.index+S.amount&&v.dispose(),v.line>S.index&&(v.line-=S.amount)})),v.register(v.onDispose(()=>this._removeMarker(v))),v}_removeMarker(f){this._isClearing||this.markers.splice(this.markers.indexOf(f),1)}}},8437:(u,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.BufferLine=l.DEFAULT_ATTR_DATA=void 0;const p=c(3734),g=c(511),m=c(643),y=c(482);l.DEFAULT_ATTR_DATA=Object.freeze(new p.AttributeData);let b=0;class C{constructor(d,_,f=!1){this.isWrapped=f,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*d);const v=_||g.CellData.fromCharData([0,m.NULL_CELL_CHAR,m.NULL_CELL_WIDTH,m.NULL_CELL_CODE]);for(let S=0;S<d;++S)this.setCell(S,v);this.length=d}get(d){const _=this._data[3*d+0],f=2097151&_;return[this._data[3*d+1],2097152&_?this._combined[d]:f?(0,y.stringFromCodePoint)(f):"",_>>22,2097152&_?this._combined[d].charCodeAt(this._combined[d].length-1):f]}set(d,_){this._data[3*d+1]=_[m.CHAR_DATA_ATTR_INDEX],_[m.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[d]=_[1],this._data[3*d+0]=2097152|d|_[m.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*d+0]=_[m.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|_[m.CHAR_DATA_WIDTH_INDEX]<<22}getWidth(d){return this._data[3*d+0]>>22}hasWidth(d){return 12582912&this._data[3*d+0]}getFg(d){return this._data[3*d+1]}getBg(d){return this._data[3*d+2]}hasContent(d){return 4194303&this._data[3*d+0]}getCodePoint(d){const _=this._data[3*d+0];return 2097152&_?this._combined[d].charCodeAt(this._combined[d].length-1):2097151&_}isCombined(d){return 2097152&this._data[3*d+0]}getString(d){const _=this._data[3*d+0];return 2097152&_?this._combined[d]:2097151&_?(0,y.stringFromCodePoint)(2097151&_):""}isProtected(d){return 536870912&this._data[3*d+2]}loadCell(d,_){return b=3*d,_.content=this._data[b+0],_.fg=this._data[b+1],_.bg=this._data[b+2],2097152&_.content&&(_.combinedData=this._combined[d]),268435456&_.bg&&(_.extended=this._extendedAttrs[d]),_}setCell(d,_){2097152&_.content&&(this._combined[d]=_.combinedData),268435456&_.bg&&(this._extendedAttrs[d]=_.extended),this._data[3*d+0]=_.content,this._data[3*d+1]=_.fg,this._data[3*d+2]=_.bg}setCellFromCodePoint(d,_,f,v,S,E){268435456&S&&(this._extendedAttrs[d]=E),this._data[3*d+0]=_|f<<22,this._data[3*d+1]=v,this._data[3*d+2]=S}addCodepointToCell(d,_){let f=this._data[3*d+0];2097152&f?this._combined[d]+=(0,y.stringFromCodePoint)(_):(2097151&f?(this._combined[d]=(0,y.stringFromCodePoint)(2097151&f)+(0,y.stringFromCodePoint)(_),f&=-2097152,f|=2097152):f=_|4194304,this._data[3*d+0]=f)}insertCells(d,_,f,v){if((d%=this.length)&&this.getWidth(d-1)===2&&this.setCellFromCodePoint(d-1,0,1,(v==null?void 0:v.fg)||0,(v==null?void 0:v.bg)||0,(v==null?void 0:v.extended)||new p.ExtendedAttrs),_<this.length-d){const S=new g.CellData;for(let E=this.length-d-_-1;E>=0;--E)this.setCell(d+_+E,this.loadCell(d+E,S));for(let E=0;E<_;++E)this.setCell(d+E,f)}else for(let S=d;S<this.length;++S)this.setCell(S,f);this.getWidth(this.length-1)===2&&this.setCellFromCodePoint(this.length-1,0,1,(v==null?void 0:v.fg)||0,(v==null?void 0:v.bg)||0,(v==null?void 0:v.extended)||new p.ExtendedAttrs)}deleteCells(d,_,f,v){if(d%=this.length,_<this.length-d){const S=new g.CellData;for(let E=0;E<this.length-d-_;++E)this.setCell(d+E,this.loadCell(d+_+E,S));for(let E=this.length-_;E<this.length;++E)this.setCell(E,f)}else for(let S=d;S<this.length;++S)this.setCell(S,f);d&&this.getWidth(d-1)===2&&this.setCellFromCodePoint(d-1,0,1,(v==null?void 0:v.fg)||0,(v==null?void 0:v.bg)||0,(v==null?void 0:v.extended)||new p.ExtendedAttrs),this.getWidth(d)!==0||this.hasContent(d)||this.setCellFromCodePoint(d,0,1,(v==null?void 0:v.fg)||0,(v==null?void 0:v.bg)||0,(v==null?void 0:v.extended)||new p.ExtendedAttrs)}replaceCells(d,_,f,v,S=!1){if(S)for(d&&this.getWidth(d-1)===2&&!this.isProtected(d-1)&&this.setCellFromCodePoint(d-1,0,1,(v==null?void 0:v.fg)||0,(v==null?void 0:v.bg)||0,(v==null?void 0:v.extended)||new p.ExtendedAttrs),_<this.length&&this.getWidth(_-1)===2&&!this.isProtected(_)&&this.setCellFromCodePoint(_,0,1,(v==null?void 0:v.fg)||0,(v==null?void 0:v.bg)||0,(v==null?void 0:v.extended)||new p.ExtendedAttrs);d<_&&d<this.length;)this.isProtected(d)||this.setCell(d,f),d++;else for(d&&this.getWidth(d-1)===2&&this.setCellFromCodePoint(d-1,0,1,(v==null?void 0:v.fg)||0,(v==null?void 0:v.bg)||0,(v==null?void 0:v.extended)||new p.ExtendedAttrs),_<this.length&&this.getWidth(_-1)===2&&this.setCellFromCodePoint(_,0,1,(v==null?void 0:v.fg)||0,(v==null?void 0:v.bg)||0,(v==null?void 0:v.extended)||new p.ExtendedAttrs);d<_&&d<this.length;)this.setCell(d++,f)}resize(d,_){if(d===this.length)return 4*this._data.length*2<this._data.buffer.byteLength;const f=3*d;if(d>this.length){if(this._data.buffer.byteLength>=4*f)this._data=new Uint32Array(this._data.buffer,0,f);else{const v=new Uint32Array(f);v.set(this._data),this._data=v}for(let v=this.length;v<d;++v)this.setCell(v,_)}else{this._data=this._data.subarray(0,f);const v=Object.keys(this._combined);for(let E=0;E<v.length;E++){const R=parseInt(v[E],10);R>=d&&delete this._combined[R]}const S=Object.keys(this._extendedAttrs);for(let E=0;E<S.length;E++){const R=parseInt(S[E],10);R>=d&&delete this._extendedAttrs[R]}}return this.length=d,4*f*2<this._data.buffer.byteLength}cleanupMemory(){if(4*this._data.length*2<this._data.buffer.byteLength){const d=new Uint32Array(this._data.length);return d.set(this._data),this._data=d,1}return 0}fill(d,_=!1){if(_)for(let f=0;f<this.length;++f)this.isProtected(f)||this.setCell(f,d);else{this._combined={},this._extendedAttrs={};for(let f=0;f<this.length;++f)this.setCell(f,d)}}copyFrom(d){this.length!==d.length?this._data=new Uint32Array(d._data):this._data.set(d._data),this.length=d.length,this._combined={};for(const _ in d._combined)this._combined[_]=d._combined[_];this._extendedAttrs={};for(const _ in d._extendedAttrs)this._extendedAttrs[_]=d._extendedAttrs[_];this.isWrapped=d.isWrapped}clone(){const d=new C(0);d._data=new Uint32Array(this._data),d.length=this.length;for(const _ in this._combined)d._combined[_]=this._combined[_];for(const _ in this._extendedAttrs)d._extendedAttrs[_]=this._extendedAttrs[_];return d.isWrapped=this.isWrapped,d}getTrimmedLength(){for(let d=this.length-1;d>=0;--d)if(4194303&this._data[3*d+0])return d+(this._data[3*d+0]>>22);return 0}getNoBgTrimmedLength(){for(let d=this.length-1;d>=0;--d)if(4194303&this._data[3*d+0]||50331648&this._data[3*d+2])return d+(this._data[3*d+0]>>22);return 0}copyCellsFrom(d,_,f,v,S){const E=d._data;if(S)for(let D=v-1;D>=0;D--){for(let k=0;k<3;k++)this._data[3*(f+D)+k]=E[3*(_+D)+k];268435456&E[3*(_+D)+2]&&(this._extendedAttrs[f+D]=d._extendedAttrs[_+D])}else for(let D=0;D<v;D++){for(let k=0;k<3;k++)this._data[3*(f+D)+k]=E[3*(_+D)+k];268435456&E[3*(_+D)+2]&&(this._extendedAttrs[f+D]=d._extendedAttrs[_+D])}const R=Object.keys(d._combined);for(let D=0;D<R.length;D++){const k=parseInt(R[D],10);k>=_&&(this._combined[k-_+f]=d._combined[k])}}translateToString(d=!1,_=0,f=this.length){d&&(f=Math.min(f,this.getTrimmedLength()));let v="";for(;_<f;){const S=this._data[3*_+0],E=2097151&S;v+=2097152&S?this._combined[_]:E?(0,y.stringFromCodePoint)(E):m.WHITESPACE_CELL_CHAR,_+=S>>22||1}return v}}l.BufferLine=C},4841:(u,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.getRangeLength=void 0,l.getRangeLength=function(c,p){if(c.start.y>c.end.y)throw new Error(`Buffer range end (${c.end.x}, ${c.end.y}) cannot be before start (${c.start.x}, ${c.start.y})`);return p*(c.end.y-c.start.y)+(c.end.x-c.start.x+1)}},4634:(u,l)=>{function c(p,g,m){if(g===p.length-1)return p[g].getTrimmedLength();const y=!p[g].hasContent(m-1)&&p[g].getWidth(m-1)===1,b=p[g+1].getWidth(0)===2;return y&&b?m-1:m}Object.defineProperty(l,"__esModule",{value:!0}),l.getWrappedLineTrimmedLength=l.reflowSmallerGetNewLineLengths=l.reflowLargerApplyNewLayout=l.reflowLargerCreateNewLayout=l.reflowLargerGetLinesToRemove=void 0,l.reflowLargerGetLinesToRemove=function(p,g,m,y,b){const C=[];for(let x=0;x<p.length-1;x++){let d=x,_=p.get(++d);if(!_.isWrapped)continue;const f=[p.get(x)];for(;d<p.length&&_.isWrapped;)f.push(_),_=p.get(++d);if(y>=x&&y<d){x+=f.length-1;continue}let v=0,S=c(f,v,g),E=1,R=0;for(;E<f.length;){const k=c(f,E,g),A=k-R,B=m-S,H=Math.min(A,B);f[v].copyCellsFrom(f[E],R,S,H,!1),S+=H,S===m&&(v++,S=0),R+=H,R===k&&(E++,R=0),S===0&&v!==0&&f[v-1].getWidth(m-1)===2&&(f[v].copyCellsFrom(f[v-1],m-1,S++,1,!1),f[v-1].setCell(m-1,b))}f[v].replaceCells(S,m,b);let D=0;for(let k=f.length-1;k>0&&(k>v||f[k].getTrimmedLength()===0);k--)D++;D>0&&(C.push(x+f.length-D),C.push(D)),x+=f.length-1}return C},l.reflowLargerCreateNewLayout=function(p,g){const m=[];let y=0,b=g[y],C=0;for(let x=0;x<p.length;x++)if(b===x){const d=g[++y];p.onDeleteEmitter.fire({index:x-C,amount:d}),x+=d-1,C+=d,b=g[++y]}else m.push(x);return{layout:m,countRemoved:C}},l.reflowLargerApplyNewLayout=function(p,g){const m=[];for(let y=0;y<g.length;y++)m.push(p.get(g[y]));for(let y=0;y<m.length;y++)p.set(y,m[y]);p.length=g.length},l.reflowSmallerGetNewLineLengths=function(p,g,m){const y=[],b=p.map((_,f)=>c(p,f,g)).reduce((_,f)=>_+f);let C=0,x=0,d=0;for(;d<b;){if(b-d<m){y.push(b-d);break}C+=m;const _=c(p,x,g);C>_&&(C-=_,x++);const f=p[x].getWidth(C-1)===2;f&&C--;const v=f?m-1:m;y.push(v),d+=v}return y},l.getWrappedLineTrimmedLength=c},5295:(u,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.BufferSet=void 0;const p=c(8460),g=c(844),m=c(9092);class y extends g.Disposable{constructor(C,x){super(),this._optionsService=C,this._bufferService=x,this._onBufferActivate=this.register(new p.EventEmitter),this.onBufferActivate=this._onBufferActivate.event,this.reset(),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.resize(this._bufferService.cols,this._bufferService.rows))),this.register(this._optionsService.onSpecificOptionChange("tabStopWidth",()=>this.setupTabStops()))}reset(){this._normal=new m.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new m.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()}get alt(){return this._alt}get active(){return this._activeBuffer}get normal(){return this._normal}activateNormalBuffer(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clearAllMarkers(),this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))}activateAltBuffer(C){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(C),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))}resize(C,x){this._normal.resize(C,x),this._alt.resize(C,x),this.setupTabStops(C)}setupTabStops(C){this._normal.setupTabStops(C),this._alt.setupTabStops(C)}}l.BufferSet=y},511:(u,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.CellData=void 0;const p=c(482),g=c(643),m=c(3734);class y extends m.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new m.ExtendedAttrs,this.combinedData=""}static fromCharData(C){const x=new y;return x.setFromCharData(C),x}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,p.stringFromCodePoint)(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(C){this.fg=C[g.CHAR_DATA_ATTR_INDEX],this.bg=0;let x=!1;if(C[g.CHAR_DATA_CHAR_INDEX].length>2)x=!0;else if(C[g.CHAR_DATA_CHAR_INDEX].length===2){const d=C[g.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=d&&d<=56319){const _=C[g.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=_&&_<=57343?this.content=1024*(d-55296)+_-56320+65536|C[g.CHAR_DATA_WIDTH_INDEX]<<22:x=!0}else x=!0}else this.content=C[g.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|C[g.CHAR_DATA_WIDTH_INDEX]<<22;x&&(this.combinedData=C[g.CHAR_DATA_CHAR_INDEX],this.content=2097152|C[g.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}l.CellData=y},643:(u,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.WHITESPACE_CELL_CODE=l.WHITESPACE_CELL_WIDTH=l.WHITESPACE_CELL_CHAR=l.NULL_CELL_CODE=l.NULL_CELL_WIDTH=l.NULL_CELL_CHAR=l.CHAR_DATA_CODE_INDEX=l.CHAR_DATA_WIDTH_INDEX=l.CHAR_DATA_CHAR_INDEX=l.CHAR_DATA_ATTR_INDEX=l.DEFAULT_EXT=l.DEFAULT_ATTR=l.DEFAULT_COLOR=void 0,l.DEFAULT_COLOR=0,l.DEFAULT_ATTR=256|l.DEFAULT_COLOR<<9,l.DEFAULT_EXT=0,l.CHAR_DATA_ATTR_INDEX=0,l.CHAR_DATA_CHAR_INDEX=1,l.CHAR_DATA_WIDTH_INDEX=2,l.CHAR_DATA_CODE_INDEX=3,l.NULL_CELL_CHAR="",l.NULL_CELL_WIDTH=1,l.NULL_CELL_CODE=0,l.WHITESPACE_CELL_CHAR=" ",l.WHITESPACE_CELL_WIDTH=1,l.WHITESPACE_CELL_CODE=32},4863:(u,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.Marker=void 0;const p=c(8460),g=c(844);class m{get id(){return this._id}constructor(b){this.line=b,this.isDisposed=!1,this._disposables=[],this._id=m._nextId++,this._onDispose=this.register(new p.EventEmitter),this.onDispose=this._onDispose.event}dispose(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),(0,g.disposeArray)(this._disposables),this._disposables.length=0)}register(b){return this._disposables.push(b),b}}l.Marker=m,m._nextId=1},7116:(u,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.DEFAULT_CHARSET=l.CHARSETS=void 0,l.CHARSETS={},l.DEFAULT_CHARSET=l.CHARSETS.B,l.CHARSETS[0]={"`":"",a:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",i:"",j:"",k:"",l:"",m:"",n:"",o:"",p:"",q:"",r:"",s:"",t:"",u:"",v:"",w:"",x:"",y:"",z:"","{":"","|":"","}":"","~":""},l.CHARSETS.A={"#":""},l.CHARSETS.B=void 0,l.CHARSETS[4]={"#":"","@":"","[":"ij","\\":"","]":"|","{":"","|":"f","}":"","~":""},l.CHARSETS.C=l.CHARSETS[5]={"[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},l.CHARSETS.R={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},l.CHARSETS.Q={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},l.CHARSETS.K={"@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},l.CHARSETS.Y={"#":"","@":"","[":"","\\":"","]":"","`":"","{":"","|":"","}":"","~":""},l.CHARSETS.E=l.CHARSETS[6]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},l.CHARSETS.Z={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":""},l.CHARSETS.H=l.CHARSETS[7]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},l.CHARSETS["="]={"#":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":""}},2584:(u,l)=>{var c,p,g;Object.defineProperty(l,"__esModule",{value:!0}),l.C1_ESCAPED=l.C1=l.C0=void 0,function(m){m.NUL="\0",m.SOH="",m.STX="",m.ETX="",m.EOT="",m.ENQ="",m.ACK="",m.BEL="\x07",m.BS="\b",m.HT="	",m.LF=`
`,m.VT="\v",m.FF="\f",m.CR="\r",m.SO="",m.SI="",m.DLE="",m.DC1="",m.DC2="",m.DC3="",m.DC4="",m.NAK="",m.SYN="",m.ETB="",m.CAN="",m.EM="",m.SUB="",m.ESC="\x1B",m.FS="",m.GS="",m.RS="",m.US="",m.SP=" ",m.DEL=""}(c||(l.C0=c={})),function(m){m.PAD="",m.HOP="",m.BPH="",m.NBH="",m.IND="",m.NEL="",m.SSA="",m.ESA="",m.HTS="",m.HTJ="",m.VTS="",m.PLD="",m.PLU="",m.RI="",m.SS2="",m.SS3="",m.DCS="",m.PU1="",m.PU2="",m.STS="",m.CCH="",m.MW="",m.SPA="",m.EPA="",m.SOS="",m.SGCI="",m.SCI="",m.CSI="",m.ST="",m.OSC="",m.PM="",m.APC=""}(p||(l.C1=p={})),function(m){m.ST=`${c.ESC}\\`}(g||(l.C1_ESCAPED=g={}))},7399:(u,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.evaluateKeyboardEvent=void 0;const p=c(2584),g={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};l.evaluateKeyboardEvent=function(m,y,b,C){const x={type:0,cancel:!1,key:void 0},d=(m.shiftKey?1:0)|(m.altKey?2:0)|(m.ctrlKey?4:0)|(m.metaKey?8:0);switch(m.keyCode){case 0:m.key==="UIKeyInputUpArrow"?x.key=y?p.C0.ESC+"OA":p.C0.ESC+"[A":m.key==="UIKeyInputLeftArrow"?x.key=y?p.C0.ESC+"OD":p.C0.ESC+"[D":m.key==="UIKeyInputRightArrow"?x.key=y?p.C0.ESC+"OC":p.C0.ESC+"[C":m.key==="UIKeyInputDownArrow"&&(x.key=y?p.C0.ESC+"OB":p.C0.ESC+"[B");break;case 8:if(m.altKey){x.key=p.C0.ESC+p.C0.DEL;break}x.key=p.C0.DEL;break;case 9:if(m.shiftKey){x.key=p.C0.ESC+"[Z";break}x.key=p.C0.HT,x.cancel=!0;break;case 13:x.key=m.altKey?p.C0.ESC+p.C0.CR:p.C0.CR,x.cancel=!0;break;case 27:x.key=p.C0.ESC,m.altKey&&(x.key=p.C0.ESC+p.C0.ESC),x.cancel=!0;break;case 37:if(m.metaKey)break;d?(x.key=p.C0.ESC+"[1;"+(d+1)+"D",x.key===p.C0.ESC+"[1;3D"&&(x.key=p.C0.ESC+(b?"b":"[1;5D"))):x.key=y?p.C0.ESC+"OD":p.C0.ESC+"[D";break;case 39:if(m.metaKey)break;d?(x.key=p.C0.ESC+"[1;"+(d+1)+"C",x.key===p.C0.ESC+"[1;3C"&&(x.key=p.C0.ESC+(b?"f":"[1;5C"))):x.key=y?p.C0.ESC+"OC":p.C0.ESC+"[C";break;case 38:if(m.metaKey)break;d?(x.key=p.C0.ESC+"[1;"+(d+1)+"A",b||x.key!==p.C0.ESC+"[1;3A"||(x.key=p.C0.ESC+"[1;5A")):x.key=y?p.C0.ESC+"OA":p.C0.ESC+"[A";break;case 40:if(m.metaKey)break;d?(x.key=p.C0.ESC+"[1;"+(d+1)+"B",b||x.key!==p.C0.ESC+"[1;3B"||(x.key=p.C0.ESC+"[1;5B")):x.key=y?p.C0.ESC+"OB":p.C0.ESC+"[B";break;case 45:m.shiftKey||m.ctrlKey||(x.key=p.C0.ESC+"[2~");break;case 46:x.key=d?p.C0.ESC+"[3;"+(d+1)+"~":p.C0.ESC+"[3~";break;case 36:x.key=d?p.C0.ESC+"[1;"+(d+1)+"H":y?p.C0.ESC+"OH":p.C0.ESC+"[H";break;case 35:x.key=d?p.C0.ESC+"[1;"+(d+1)+"F":y?p.C0.ESC+"OF":p.C0.ESC+"[F";break;case 33:m.shiftKey?x.type=2:m.ctrlKey?x.key=p.C0.ESC+"[5;"+(d+1)+"~":x.key=p.C0.ESC+"[5~";break;case 34:m.shiftKey?x.type=3:m.ctrlKey?x.key=p.C0.ESC+"[6;"+(d+1)+"~":x.key=p.C0.ESC+"[6~";break;case 112:x.key=d?p.C0.ESC+"[1;"+(d+1)+"P":p.C0.ESC+"OP";break;case 113:x.key=d?p.C0.ESC+"[1;"+(d+1)+"Q":p.C0.ESC+"OQ";break;case 114:x.key=d?p.C0.ESC+"[1;"+(d+1)+"R":p.C0.ESC+"OR";break;case 115:x.key=d?p.C0.ESC+"[1;"+(d+1)+"S":p.C0.ESC+"OS";break;case 116:x.key=d?p.C0.ESC+"[15;"+(d+1)+"~":p.C0.ESC+"[15~";break;case 117:x.key=d?p.C0.ESC+"[17;"+(d+1)+"~":p.C0.ESC+"[17~";break;case 118:x.key=d?p.C0.ESC+"[18;"+(d+1)+"~":p.C0.ESC+"[18~";break;case 119:x.key=d?p.C0.ESC+"[19;"+(d+1)+"~":p.C0.ESC+"[19~";break;case 120:x.key=d?p.C0.ESC+"[20;"+(d+1)+"~":p.C0.ESC+"[20~";break;case 121:x.key=d?p.C0.ESC+"[21;"+(d+1)+"~":p.C0.ESC+"[21~";break;case 122:x.key=d?p.C0.ESC+"[23;"+(d+1)+"~":p.C0.ESC+"[23~";break;case 123:x.key=d?p.C0.ESC+"[24;"+(d+1)+"~":p.C0.ESC+"[24~";break;default:if(!m.ctrlKey||m.shiftKey||m.altKey||m.metaKey)if(b&&!C||!m.altKey||m.metaKey)!b||m.altKey||m.ctrlKey||m.shiftKey||!m.metaKey?m.key&&!m.ctrlKey&&!m.altKey&&!m.metaKey&&m.keyCode>=48&&m.key.length===1?x.key=m.key:m.key&&m.ctrlKey&&(m.key==="_"&&(x.key=p.C0.US),m.key==="@"&&(x.key=p.C0.NUL)):m.keyCode===65&&(x.type=1);else{const _=g[m.keyCode],f=_==null?void 0:_[m.shiftKey?1:0];if(f)x.key=p.C0.ESC+f;else if(m.keyCode>=65&&m.keyCode<=90){const v=m.ctrlKey?m.keyCode-64:m.keyCode+32;let S=String.fromCharCode(v);m.shiftKey&&(S=S.toUpperCase()),x.key=p.C0.ESC+S}else if(m.keyCode===32)x.key=p.C0.ESC+(m.ctrlKey?p.C0.NUL:" ");else if(m.key==="Dead"&&m.code.startsWith("Key")){let v=m.code.slice(3,4);m.shiftKey||(v=v.toLowerCase()),x.key=p.C0.ESC+v,x.cancel=!0}}else m.keyCode>=65&&m.keyCode<=90?x.key=String.fromCharCode(m.keyCode-64):m.keyCode===32?x.key=p.C0.NUL:m.keyCode>=51&&m.keyCode<=55?x.key=String.fromCharCode(m.keyCode-51+27):m.keyCode===56?x.key=p.C0.DEL:m.keyCode===219?x.key=p.C0.ESC:m.keyCode===220?x.key=p.C0.FS:m.keyCode===221&&(x.key=p.C0.GS)}return x}},482:(u,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.Utf8ToUtf32=l.StringToUtf32=l.utf32ToString=l.stringFromCodePoint=void 0,l.stringFromCodePoint=function(c){return c>65535?(c-=65536,String.fromCharCode(55296+(c>>10))+String.fromCharCode(c%1024+56320)):String.fromCharCode(c)},l.utf32ToString=function(c,p=0,g=c.length){let m="";for(let y=p;y<g;++y){let b=c[y];b>65535?(b-=65536,m+=String.fromCharCode(55296+(b>>10))+String.fromCharCode(b%1024+56320)):m+=String.fromCharCode(b)}return m},l.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(c,p){const g=c.length;if(!g)return 0;let m=0,y=0;if(this._interim){const b=c.charCodeAt(y++);56320<=b&&b<=57343?p[m++]=1024*(this._interim-55296)+b-56320+65536:(p[m++]=this._interim,p[m++]=b),this._interim=0}for(let b=y;b<g;++b){const C=c.charCodeAt(b);if(55296<=C&&C<=56319){if(++b>=g)return this._interim=C,m;const x=c.charCodeAt(b);56320<=x&&x<=57343?p[m++]=1024*(C-55296)+x-56320+65536:(p[m++]=C,p[m++]=x)}else C!==65279&&(p[m++]=C)}return m}},l.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(c,p){const g=c.length;if(!g)return 0;let m,y,b,C,x=0,d=0,_=0;if(this.interim[0]){let S=!1,E=this.interim[0];E&=(224&E)==192?31:(240&E)==224?15:7;let R,D=0;for(;(R=63&this.interim[++D])&&D<4;)E<<=6,E|=R;const k=(224&this.interim[0])==192?2:(240&this.interim[0])==224?3:4,A=k-D;for(;_<A;){if(_>=g)return 0;if(R=c[_++],(192&R)!=128){_--,S=!0;break}this.interim[D++]=R,E<<=6,E|=63&R}S||(k===2?E<128?_--:p[x++]=E:k===3?E<2048||E>=55296&&E<=57343||E===65279||(p[x++]=E):E<65536||E>1114111||(p[x++]=E)),this.interim.fill(0)}const f=g-4;let v=_;for(;v<g;){for(;!(!(v<f)||128&(m=c[v])||128&(y=c[v+1])||128&(b=c[v+2])||128&(C=c[v+3]));)p[x++]=m,p[x++]=y,p[x++]=b,p[x++]=C,v+=4;if(m=c[v++],m<128)p[x++]=m;else if((224&m)==192){if(v>=g)return this.interim[0]=m,x;if(y=c[v++],(192&y)!=128){v--;continue}if(d=(31&m)<<6|63&y,d<128){v--;continue}p[x++]=d}else if((240&m)==224){if(v>=g)return this.interim[0]=m,x;if(y=c[v++],(192&y)!=128){v--;continue}if(v>=g)return this.interim[0]=m,this.interim[1]=y,x;if(b=c[v++],(192&b)!=128){v--;continue}if(d=(15&m)<<12|(63&y)<<6|63&b,d<2048||d>=55296&&d<=57343||d===65279)continue;p[x++]=d}else if((248&m)==240){if(v>=g)return this.interim[0]=m,x;if(y=c[v++],(192&y)!=128){v--;continue}if(v>=g)return this.interim[0]=m,this.interim[1]=y,x;if(b=c[v++],(192&b)!=128){v--;continue}if(v>=g)return this.interim[0]=m,this.interim[1]=y,this.interim[2]=b,x;if(C=c[v++],(192&C)!=128){v--;continue}if(d=(7&m)<<18|(63&y)<<12|(63&b)<<6|63&C,d<65536||d>1114111)continue;p[x++]=d}}return x}}},225:(u,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.UnicodeV6=void 0;const c=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],p=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];let g;l.UnicodeV6=class{constructor(){if(this.version="6",!g){g=new Uint8Array(65536),g.fill(1),g[0]=0,g.fill(0,1,32),g.fill(0,127,160),g.fill(2,4352,4448),g[9001]=2,g[9002]=2,g.fill(2,11904,42192),g[12351]=1,g.fill(2,44032,55204),g.fill(2,63744,64256),g.fill(2,65040,65050),g.fill(2,65072,65136),g.fill(2,65280,65377),g.fill(2,65504,65511);for(let m=0;m<c.length;++m)g.fill(0,c[m][0],c[m][1]+1)}}wcwidth(m){return m<32?0:m<127?1:m<65536?g[m]:function(y,b){let C,x=0,d=b.length-1;if(y<b[0][0]||y>b[d][1])return!1;for(;d>=x;)if(C=x+d>>1,y>b[C][1])x=C+1;else{if(!(y<b[C][0]))return!0;d=C-1}return!1}(m,p)?0:m>=131072&&m<=196605||m>=196608&&m<=262141?2:1}}},5981:(u,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.WriteBuffer=void 0;const p=c(8460),g=c(844);class m extends g.Disposable{constructor(b){super(),this._action=b,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._didUserInput=!1,this._onWriteParsed=this.register(new p.EventEmitter),this.onWriteParsed=this._onWriteParsed.event}handleUserInput(){this._didUserInput=!0}writeSync(b,C){if(C!==void 0&&this._syncCalls>C)return void(this._syncCalls=0);if(this._pendingData+=b.length,this._writeBuffer.push(b),this._callbacks.push(void 0),this._syncCalls++,this._isSyncWriting)return;let x;for(this._isSyncWriting=!0;x=this._writeBuffer.shift();){this._action(x);const d=this._callbacks.shift();d&&d()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}write(b,C){if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");if(!this._writeBuffer.length){if(this._bufferOffset=0,this._didUserInput)return this._didUserInput=!1,this._pendingData+=b.length,this._writeBuffer.push(b),this._callbacks.push(C),void this._innerWrite();setTimeout(()=>this._innerWrite())}this._pendingData+=b.length,this._writeBuffer.push(b),this._callbacks.push(C)}_innerWrite(b=0,C=!0){const x=b||Date.now();for(;this._writeBuffer.length>this._bufferOffset;){const d=this._writeBuffer[this._bufferOffset],_=this._action(d,C);if(_){const v=S=>Date.now()-x>=12?setTimeout(()=>this._innerWrite(0,S)):this._innerWrite(x,S);return void _.catch(S=>(queueMicrotask(()=>{throw S}),Promise.resolve(!1))).then(v)}const f=this._callbacks[this._bufferOffset];if(f&&f(),this._bufferOffset++,this._pendingData-=d.length,Date.now()-x>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout(()=>this._innerWrite())):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()}}l.WriteBuffer=m},5941:(u,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.toRgbString=l.parseColor=void 0;const c=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,p=/^[\da-f]+$/;function g(m,y){const b=m.toString(16),C=b.length<2?"0"+b:b;switch(y){case 4:return b[0];case 8:return C;case 12:return(C+C).slice(0,3);default:return C+C}}l.parseColor=function(m){if(!m)return;let y=m.toLowerCase();if(y.indexOf("rgb:")===0){y=y.slice(4);const b=c.exec(y);if(b){const C=b[1]?15:b[4]?255:b[7]?4095:65535;return[Math.round(parseInt(b[1]||b[4]||b[7]||b[10],16)/C*255),Math.round(parseInt(b[2]||b[5]||b[8]||b[11],16)/C*255),Math.round(parseInt(b[3]||b[6]||b[9]||b[12],16)/C*255)]}}else if(y.indexOf("#")===0&&(y=y.slice(1),p.exec(y)&&[3,6,9,12].includes(y.length))){const b=y.length/3,C=[0,0,0];for(let x=0;x<3;++x){const d=parseInt(y.slice(b*x,b*x+b),16);C[x]=b===1?d<<4:b===2?d:b===3?d>>4:d>>8}return C}},l.toRgbString=function(m,y=16){const[b,C,x]=m;return`rgb:${g(b,y)}/${g(C,y)}/${g(x,y)}`}},5770:(u,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.PAYLOAD_LIMIT=void 0,l.PAYLOAD_LIMIT=1e7},6351:(u,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.DcsHandler=l.DcsParser=void 0;const p=c(482),g=c(8742),m=c(5770),y=[];l.DcsParser=class{constructor(){this._handlers=Object.create(null),this._active=y,this._ident=0,this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=y}registerHandler(C,x){this._handlers[C]===void 0&&(this._handlers[C]=[]);const d=this._handlers[C];return d.push(x),{dispose:()=>{const _=d.indexOf(x);_!==-1&&d.splice(_,1)}}}clearHandler(C){this._handlers[C]&&delete this._handlers[C]}setHandlerFallback(C){this._handlerFb=C}reset(){if(this._active.length)for(let C=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;C>=0;--C)this._active[C].unhook(!1);this._stack.paused=!1,this._active=y,this._ident=0}hook(C,x){if(this.reset(),this._ident=C,this._active=this._handlers[C]||y,this._active.length)for(let d=this._active.length-1;d>=0;d--)this._active[d].hook(x);else this._handlerFb(this._ident,"HOOK",x)}put(C,x,d){if(this._active.length)for(let _=this._active.length-1;_>=0;_--)this._active[_].put(C,x,d);else this._handlerFb(this._ident,"PUT",(0,p.utf32ToString)(C,x,d))}unhook(C,x=!0){if(this._active.length){let d=!1,_=this._active.length-1,f=!1;if(this._stack.paused&&(_=this._stack.loopPosition-1,d=x,f=this._stack.fallThrough,this._stack.paused=!1),!f&&d===!1){for(;_>=0&&(d=this._active[_].unhook(C),d!==!0);_--)if(d instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=_,this._stack.fallThrough=!1,d;_--}for(;_>=0;_--)if(d=this._active[_].unhook(!1),d instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=_,this._stack.fallThrough=!0,d}else this._handlerFb(this._ident,"UNHOOK",C);this._active=y,this._ident=0}};const b=new g.Params;b.addParam(0),l.DcsHandler=class{constructor(C){this._handler=C,this._data="",this._params=b,this._hitLimit=!1}hook(C){this._params=C.length>1||C.params[0]?C.clone():b,this._data="",this._hitLimit=!1}put(C,x,d){this._hitLimit||(this._data+=(0,p.utf32ToString)(C,x,d),this._data.length>m.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}unhook(C){let x=!1;if(this._hitLimit)x=!1;else if(C&&(x=this._handler(this._data,this._params),x instanceof Promise))return x.then(d=>(this._params=b,this._data="",this._hitLimit=!1,d));return this._params=b,this._data="",this._hitLimit=!1,x}}},2015:(u,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.EscapeSequenceParser=l.VT500_TRANSITION_TABLE=l.TransitionTable=void 0;const p=c(844),g=c(8742),m=c(6242),y=c(6351);class b{constructor(_){this.table=new Uint8Array(_)}setDefault(_,f){this.table.fill(_<<4|f)}add(_,f,v,S){this.table[f<<8|_]=v<<4|S}addMany(_,f,v,S){for(let E=0;E<_.length;E++)this.table[f<<8|_[E]]=v<<4|S}}l.TransitionTable=b;const C=160;l.VT500_TRANSITION_TABLE=function(){const d=new b(4095),_=Array.apply(null,Array(256)).map((D,k)=>k),f=(D,k)=>_.slice(D,k),v=f(32,127),S=f(0,24);S.push(25),S.push.apply(S,f(28,32));const E=f(0,14);let R;for(R in d.setDefault(1,0),d.addMany(v,0,2,0),E)d.addMany([24,26,153,154],R,3,0),d.addMany(f(128,144),R,3,0),d.addMany(f(144,152),R,3,0),d.add(156,R,0,0),d.add(27,R,11,1),d.add(157,R,4,8),d.addMany([152,158,159],R,0,7),d.add(155,R,11,3),d.add(144,R,11,9);return d.addMany(S,0,3,0),d.addMany(S,1,3,1),d.add(127,1,0,1),d.addMany(S,8,0,8),d.addMany(S,3,3,3),d.add(127,3,0,3),d.addMany(S,4,3,4),d.add(127,4,0,4),d.addMany(S,6,3,6),d.addMany(S,5,3,5),d.add(127,5,0,5),d.addMany(S,2,3,2),d.add(127,2,0,2),d.add(93,1,4,8),d.addMany(v,8,5,8),d.add(127,8,5,8),d.addMany([156,27,24,26,7],8,6,0),d.addMany(f(28,32),8,0,8),d.addMany([88,94,95],1,0,7),d.addMany(v,7,0,7),d.addMany(S,7,0,7),d.add(156,7,0,0),d.add(127,7,0,7),d.add(91,1,11,3),d.addMany(f(64,127),3,7,0),d.addMany(f(48,60),3,8,4),d.addMany([60,61,62,63],3,9,4),d.addMany(f(48,60),4,8,4),d.addMany(f(64,127),4,7,0),d.addMany([60,61,62,63],4,0,6),d.addMany(f(32,64),6,0,6),d.add(127,6,0,6),d.addMany(f(64,127),6,0,0),d.addMany(f(32,48),3,9,5),d.addMany(f(32,48),5,9,5),d.addMany(f(48,64),5,0,6),d.addMany(f(64,127),5,7,0),d.addMany(f(32,48),4,9,5),d.addMany(f(32,48),1,9,2),d.addMany(f(32,48),2,9,2),d.addMany(f(48,127),2,10,0),d.addMany(f(48,80),1,10,0),d.addMany(f(81,88),1,10,0),d.addMany([89,90,92],1,10,0),d.addMany(f(96,127),1,10,0),d.add(80,1,11,9),d.addMany(S,9,0,9),d.add(127,9,0,9),d.addMany(f(28,32),9,0,9),d.addMany(f(32,48),9,9,12),d.addMany(f(48,60),9,8,10),d.addMany([60,61,62,63],9,9,10),d.addMany(S,11,0,11),d.addMany(f(32,128),11,0,11),d.addMany(f(28,32),11,0,11),d.addMany(S,10,0,10),d.add(127,10,0,10),d.addMany(f(28,32),10,0,10),d.addMany(f(48,60),10,8,10),d.addMany([60,61,62,63],10,0,11),d.addMany(f(32,48),10,9,12),d.addMany(S,12,0,12),d.add(127,12,0,12),d.addMany(f(28,32),12,0,12),d.addMany(f(32,48),12,9,12),d.addMany(f(48,64),12,0,11),d.addMany(f(64,127),12,12,13),d.addMany(f(64,127),10,12,13),d.addMany(f(64,127),9,12,13),d.addMany(S,13,13,13),d.addMany(v,13,13,13),d.add(127,13,0,13),d.addMany([27,156,24,26],13,14,0),d.add(C,0,2,0),d.add(C,8,5,8),d.add(C,6,0,6),d.add(C,11,0,11),d.add(C,13,13,13),d}();class x extends p.Disposable{constructor(_=l.VT500_TRANSITION_TABLE){super(),this._transitions=_,this._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},this.initialState=0,this.currentState=this.initialState,this._params=new g.Params,this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._printHandlerFb=(f,v,S)=>{},this._executeHandlerFb=f=>{},this._csiHandlerFb=(f,v)=>{},this._escHandlerFb=f=>{},this._errorHandlerFb=f=>f,this._printHandler=this._printHandlerFb,this._executeHandlers=Object.create(null),this._csiHandlers=Object.create(null),this._escHandlers=Object.create(null),this.register((0,p.toDisposable)(()=>{this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null)})),this._oscParser=this.register(new m.OscParser),this._dcsParser=this.register(new y.DcsParser),this._errorHandler=this._errorHandlerFb,this.registerEscHandler({final:"\\"},()=>!0)}_identifier(_,f=[64,126]){let v=0;if(_.prefix){if(_.prefix.length>1)throw new Error("only one byte as prefix supported");if(v=_.prefix.charCodeAt(0),v&&60>v||v>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(_.intermediates){if(_.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(let E=0;E<_.intermediates.length;++E){const R=_.intermediates.charCodeAt(E);if(32>R||R>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");v<<=8,v|=R}}if(_.final.length!==1)throw new Error("final must be a single byte");const S=_.final.charCodeAt(0);if(f[0]>S||S>f[1])throw new Error(`final must be in range ${f[0]} .. ${f[1]}`);return v<<=8,v|=S,v}identToString(_){const f=[];for(;_;)f.push(String.fromCharCode(255&_)),_>>=8;return f.reverse().join("")}setPrintHandler(_){this._printHandler=_}clearPrintHandler(){this._printHandler=this._printHandlerFb}registerEscHandler(_,f){const v=this._identifier(_,[48,126]);this._escHandlers[v]===void 0&&(this._escHandlers[v]=[]);const S=this._escHandlers[v];return S.push(f),{dispose:()=>{const E=S.indexOf(f);E!==-1&&S.splice(E,1)}}}clearEscHandler(_){this._escHandlers[this._identifier(_,[48,126])]&&delete this._escHandlers[this._identifier(_,[48,126])]}setEscHandlerFallback(_){this._escHandlerFb=_}setExecuteHandler(_,f){this._executeHandlers[_.charCodeAt(0)]=f}clearExecuteHandler(_){this._executeHandlers[_.charCodeAt(0)]&&delete this._executeHandlers[_.charCodeAt(0)]}setExecuteHandlerFallback(_){this._executeHandlerFb=_}registerCsiHandler(_,f){const v=this._identifier(_);this._csiHandlers[v]===void 0&&(this._csiHandlers[v]=[]);const S=this._csiHandlers[v];return S.push(f),{dispose:()=>{const E=S.indexOf(f);E!==-1&&S.splice(E,1)}}}clearCsiHandler(_){this._csiHandlers[this._identifier(_)]&&delete this._csiHandlers[this._identifier(_)]}setCsiHandlerFallback(_){this._csiHandlerFb=_}registerDcsHandler(_,f){return this._dcsParser.registerHandler(this._identifier(_),f)}clearDcsHandler(_){this._dcsParser.clearHandler(this._identifier(_))}setDcsHandlerFallback(_){this._dcsParser.setHandlerFallback(_)}registerOscHandler(_,f){return this._oscParser.registerHandler(_,f)}clearOscHandler(_){this._oscParser.clearHandler(_)}setOscHandlerFallback(_){this._oscParser.setHandlerFallback(_)}setErrorHandler(_){this._errorHandler=_}clearErrorHandler(){this._errorHandler=this._errorHandlerFb}reset(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._parseStack.state!==0&&(this._parseStack.state=2,this._parseStack.handlers=[])}_preserveStack(_,f,v,S,E){this._parseStack.state=_,this._parseStack.handlers=f,this._parseStack.handlerPos=v,this._parseStack.transition=S,this._parseStack.chunkPos=E}parse(_,f,v){let S,E=0,R=0,D=0;if(this._parseStack.state)if(this._parseStack.state===2)this._parseStack.state=0,D=this._parseStack.chunkPos+1;else{if(v===void 0||this._parseStack.state===1)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");const k=this._parseStack.handlers;let A=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(v===!1&&A>-1){for(;A>=0&&(S=k[A](this._params),S!==!0);A--)if(S instanceof Promise)return this._parseStack.handlerPos=A,S}this._parseStack.handlers=[];break;case 4:if(v===!1&&A>-1){for(;A>=0&&(S=k[A](),S!==!0);A--)if(S instanceof Promise)return this._parseStack.handlerPos=A,S}this._parseStack.handlers=[];break;case 6:if(E=_[this._parseStack.chunkPos],S=this._dcsParser.unhook(E!==24&&E!==26,v),S)return S;E===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(E=_[this._parseStack.chunkPos],S=this._oscParser.end(E!==24&&E!==26,v),S)return S;E===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,D=this._parseStack.chunkPos+1,this.precedingCodepoint=0,this.currentState=15&this._parseStack.transition}for(let k=D;k<f;++k){switch(E=_[k],R=this._transitions.table[this.currentState<<8|(E<160?E:C)],R>>4){case 2:for(let $=k+1;;++$){if($>=f||(E=_[$])<32||E>126&&E<C){this._printHandler(_,k,$),k=$-1;break}if(++$>=f||(E=_[$])<32||E>126&&E<C){this._printHandler(_,k,$),k=$-1;break}if(++$>=f||(E=_[$])<32||E>126&&E<C){this._printHandler(_,k,$),k=$-1;break}if(++$>=f||(E=_[$])<32||E>126&&E<C){this._printHandler(_,k,$),k=$-1;break}}break;case 3:this._executeHandlers[E]?this._executeHandlers[E]():this._executeHandlerFb(E),this.precedingCodepoint=0;break;case 0:break;case 1:if(this._errorHandler({position:k,code:E,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:const A=this._csiHandlers[this._collect<<8|E];let B=A?A.length-1:-1;for(;B>=0&&(S=A[B](this._params),S!==!0);B--)if(S instanceof Promise)return this._preserveStack(3,A,B,R,k),S;B<0&&this._csiHandlerFb(this._collect<<8|E,this._params),this.precedingCodepoint=0;break;case 8:do switch(E){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(E-48)}while(++k<f&&(E=_[k])>47&&E<60);k--;break;case 9:this._collect<<=8,this._collect|=E;break;case 10:const H=this._escHandlers[this._collect<<8|E];let j=H?H.length-1:-1;for(;j>=0&&(S=H[j](),S!==!0);j--)if(S instanceof Promise)return this._preserveStack(4,H,j,R,k),S;j<0&&this._escHandlerFb(this._collect<<8|E),this.precedingCodepoint=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|E,this._params);break;case 13:for(let $=k+1;;++$)if($>=f||(E=_[$])===24||E===26||E===27||E>127&&E<C){this._dcsParser.put(_,k,$),k=$-1;break}break;case 14:if(S=this._dcsParser.unhook(E!==24&&E!==26),S)return this._preserveStack(6,[],0,R,k),S;E===27&&(R|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0;break;case 4:this._oscParser.start();break;case 5:for(let $=k+1;;$++)if($>=f||(E=_[$])<32||E>127&&E<C){this._oscParser.put(_,k,$),k=$-1;break}break;case 6:if(S=this._oscParser.end(E!==24&&E!==26),S)return this._preserveStack(5,[],0,R,k),S;E===27&&(R|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0}this.currentState=15&R}}}l.EscapeSequenceParser=x},6242:(u,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.OscHandler=l.OscParser=void 0;const p=c(5770),g=c(482),m=[];l.OscParser=class{constructor(){this._state=0,this._active=m,this._id=-1,this._handlers=Object.create(null),this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}registerHandler(y,b){this._handlers[y]===void 0&&(this._handlers[y]=[]);const C=this._handlers[y];return C.push(b),{dispose:()=>{const x=C.indexOf(b);x!==-1&&C.splice(x,1)}}}clearHandler(y){this._handlers[y]&&delete this._handlers[y]}setHandlerFallback(y){this._handlerFb=y}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=m}reset(){if(this._state===2)for(let y=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;y>=0;--y)this._active[y].end(!1);this._stack.paused=!1,this._active=m,this._id=-1,this._state=0}_start(){if(this._active=this._handlers[this._id]||m,this._active.length)for(let y=this._active.length-1;y>=0;y--)this._active[y].start();else this._handlerFb(this._id,"START")}_put(y,b,C){if(this._active.length)for(let x=this._active.length-1;x>=0;x--)this._active[x].put(y,b,C);else this._handlerFb(this._id,"PUT",(0,g.utf32ToString)(y,b,C))}start(){this.reset(),this._state=1}put(y,b,C){if(this._state!==3){if(this._state===1)for(;b<C;){const x=y[b++];if(x===59){this._state=2,this._start();break}if(x<48||57<x)return void(this._state=3);this._id===-1&&(this._id=0),this._id=10*this._id+x-48}this._state===2&&C-b>0&&this._put(y,b,C)}}end(y,b=!0){if(this._state!==0){if(this._state!==3)if(this._state===1&&this._start(),this._active.length){let C=!1,x=this._active.length-1,d=!1;if(this._stack.paused&&(x=this._stack.loopPosition-1,C=b,d=this._stack.fallThrough,this._stack.paused=!1),!d&&C===!1){for(;x>=0&&(C=this._active[x].end(y),C!==!0);x--)if(C instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=x,this._stack.fallThrough=!1,C;x--}for(;x>=0;x--)if(C=this._active[x].end(!1),C instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=x,this._stack.fallThrough=!0,C}else this._handlerFb(this._id,"END",y);this._active=m,this._id=-1,this._state=0}}},l.OscHandler=class{constructor(y){this._handler=y,this._data="",this._hitLimit=!1}start(){this._data="",this._hitLimit=!1}put(y,b,C){this._hitLimit||(this._data+=(0,g.utf32ToString)(y,b,C),this._data.length>p.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}end(y){let b=!1;if(this._hitLimit)b=!1;else if(y&&(b=this._handler(this._data),b instanceof Promise))return b.then(C=>(this._data="",this._hitLimit=!1,C));return this._data="",this._hitLimit=!1,b}}},8742:(u,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.Params=void 0;const c=2147483647;class p{static fromArray(m){const y=new p;if(!m.length)return y;for(let b=Array.isArray(m[0])?1:0;b<m.length;++b){const C=m[b];if(Array.isArray(C))for(let x=0;x<C.length;++x)y.addSubParam(C[x]);else y.addParam(C)}return y}constructor(m=32,y=32){if(this.maxLength=m,this.maxSubParamsLength=y,y>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(m),this.length=0,this._subParams=new Int32Array(y),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(m),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}clone(){const m=new p(this.maxLength,this.maxSubParamsLength);return m.params.set(this.params),m.length=this.length,m._subParams.set(this._subParams),m._subParamsLength=this._subParamsLength,m._subParamsIdx.set(this._subParamsIdx),m._rejectDigits=this._rejectDigits,m._rejectSubDigits=this._rejectSubDigits,m._digitIsSub=this._digitIsSub,m}toArray(){const m=[];for(let y=0;y<this.length;++y){m.push(this.params[y]);const b=this._subParamsIdx[y]>>8,C=255&this._subParamsIdx[y];C-b>0&&m.push(Array.prototype.slice.call(this._subParams,b,C))}return m}reset(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}addParam(m){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(m<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=m>c?c:m}}addSubParam(m){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(m<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=m>c?c:m,this._subParamsIdx[this.length-1]++}}hasSubParams(m){return(255&this._subParamsIdx[m])-(this._subParamsIdx[m]>>8)>0}getSubParams(m){const y=this._subParamsIdx[m]>>8,b=255&this._subParamsIdx[m];return b-y>0?this._subParams.subarray(y,b):null}getSubParamsAll(){const m={};for(let y=0;y<this.length;++y){const b=this._subParamsIdx[y]>>8,C=255&this._subParamsIdx[y];C-b>0&&(m[y]=this._subParams.slice(b,C))}return m}addDigit(m){let y;if(this._rejectDigits||!(y=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)return;const b=this._digitIsSub?this._subParams:this.params,C=b[y-1];b[y-1]=~C?Math.min(10*C+m,c):m}}l.Params=p},5741:(u,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.AddonManager=void 0,l.AddonManager=class{constructor(){this._addons=[]}dispose(){for(let c=this._addons.length-1;c>=0;c--)this._addons[c].instance.dispose()}loadAddon(c,p){const g={instance:p,dispose:p.dispose,isDisposed:!1};this._addons.push(g),p.dispose=()=>this._wrappedAddonDispose(g),p.activate(c)}_wrappedAddonDispose(c){if(c.isDisposed)return;let p=-1;for(let g=0;g<this._addons.length;g++)if(this._addons[g]===c){p=g;break}if(p===-1)throw new Error("Could not dispose an addon that has not been loaded");c.isDisposed=!0,c.dispose.apply(c.instance),this._addons.splice(p,1)}}},8771:(u,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.BufferApiView=void 0;const p=c(3785),g=c(511);l.BufferApiView=class{constructor(m,y){this._buffer=m,this.type=y}init(m){return this._buffer=m,this}get cursorY(){return this._buffer.y}get cursorX(){return this._buffer.x}get viewportY(){return this._buffer.ydisp}get baseY(){return this._buffer.ybase}get length(){return this._buffer.lines.length}getLine(m){const y=this._buffer.lines.get(m);if(y)return new p.BufferLineApiView(y)}getNullCell(){return new g.CellData}}},3785:(u,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.BufferLineApiView=void 0;const p=c(511);l.BufferLineApiView=class{constructor(g){this._line=g}get isWrapped(){return this._line.isWrapped}get length(){return this._line.length}getCell(g,m){if(!(g<0||g>=this._line.length))return m?(this._line.loadCell(g,m),m):this._line.loadCell(g,new p.CellData)}translateToString(g,m,y){return this._line.translateToString(g,m,y)}}},8285:(u,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.BufferNamespaceApi=void 0;const p=c(8771),g=c(8460),m=c(844);class y extends m.Disposable{constructor(C){super(),this._core=C,this._onBufferChange=this.register(new g.EventEmitter),this.onBufferChange=this._onBufferChange.event,this._normal=new p.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new p.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate(()=>this._onBufferChange.fire(this.active))}get active(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")}get normal(){return this._normal.init(this._core.buffers.normal)}get alternate(){return this._alternate.init(this._core.buffers.alt)}}l.BufferNamespaceApi=y},7975:(u,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.ParserApi=void 0,l.ParserApi=class{constructor(c){this._core=c}registerCsiHandler(c,p){return this._core.registerCsiHandler(c,g=>p(g.toArray()))}addCsiHandler(c,p){return this.registerCsiHandler(c,p)}registerDcsHandler(c,p){return this._core.registerDcsHandler(c,(g,m)=>p(g,m.toArray()))}addDcsHandler(c,p){return this.registerDcsHandler(c,p)}registerEscHandler(c,p){return this._core.registerEscHandler(c,p)}addEscHandler(c,p){return this.registerEscHandler(c,p)}registerOscHandler(c,p){return this._core.registerOscHandler(c,p)}addOscHandler(c,p){return this.registerOscHandler(c,p)}}},7090:(u,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.UnicodeApi=void 0,l.UnicodeApi=class{constructor(c){this._core=c}register(c){this._core.unicodeService.register(c)}get versions(){return this._core.unicodeService.versions}get activeVersion(){return this._core.unicodeService.activeVersion}set activeVersion(c){this._core.unicodeService.activeVersion=c}}},744:function(u,l,c){var p=this&&this.__decorate||function(d,_,f,v){var S,E=arguments.length,R=E<3?_:v===null?v=Object.getOwnPropertyDescriptor(_,f):v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(d,_,f,v);else for(var D=d.length-1;D>=0;D--)(S=d[D])&&(R=(E<3?S(R):E>3?S(_,f,R):S(_,f))||R);return E>3&&R&&Object.defineProperty(_,f,R),R},g=this&&this.__param||function(d,_){return function(f,v){_(f,v,d)}};Object.defineProperty(l,"__esModule",{value:!0}),l.BufferService=l.MINIMUM_ROWS=l.MINIMUM_COLS=void 0;const m=c(8460),y=c(844),b=c(5295),C=c(2585);l.MINIMUM_COLS=2,l.MINIMUM_ROWS=1;let x=l.BufferService=class extends y.Disposable{get buffer(){return this.buffers.active}constructor(d){super(),this.isUserScrolling=!1,this._onResize=this.register(new m.EventEmitter),this.onResize=this._onResize.event,this._onScroll=this.register(new m.EventEmitter),this.onScroll=this._onScroll.event,this.cols=Math.max(d.rawOptions.cols||0,l.MINIMUM_COLS),this.rows=Math.max(d.rawOptions.rows||0,l.MINIMUM_ROWS),this.buffers=this.register(new b.BufferSet(d,this))}resize(d,_){this.cols=d,this.rows=_,this.buffers.resize(d,_),this._onResize.fire({cols:d,rows:_})}reset(){this.buffers.reset(),this.isUserScrolling=!1}scroll(d,_=!1){const f=this.buffer;let v;v=this._cachedBlankLine,v&&v.length===this.cols&&v.getFg(0)===d.fg&&v.getBg(0)===d.bg||(v=f.getBlankLine(d,_),this._cachedBlankLine=v),v.isWrapped=_;const S=f.ybase+f.scrollTop,E=f.ybase+f.scrollBottom;if(f.scrollTop===0){const R=f.lines.isFull;E===f.lines.length-1?R?f.lines.recycle().copyFrom(v):f.lines.push(v.clone()):f.lines.splice(E+1,0,v.clone()),R?this.isUserScrolling&&(f.ydisp=Math.max(f.ydisp-1,0)):(f.ybase++,this.isUserScrolling||f.ydisp++)}else{const R=E-S+1;f.lines.shiftElements(S+1,R-1,-1),f.lines.set(E,v.clone())}this.isUserScrolling||(f.ydisp=f.ybase),this._onScroll.fire(f.ydisp)}scrollLines(d,_,f){const v=this.buffer;if(d<0){if(v.ydisp===0)return;this.isUserScrolling=!0}else d+v.ydisp>=v.ybase&&(this.isUserScrolling=!1);const S=v.ydisp;v.ydisp=Math.max(Math.min(v.ydisp+d,v.ybase),0),S!==v.ydisp&&(_||this._onScroll.fire(v.ydisp))}};l.BufferService=x=p([g(0,C.IOptionsService)],x)},7994:(u,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.CharsetService=void 0,l.CharsetService=class{constructor(){this.glevel=0,this._charsets=[]}reset(){this.charset=void 0,this._charsets=[],this.glevel=0}setgLevel(c){this.glevel=c,this.charset=this._charsets[c]}setgCharset(c,p){this._charsets[c]=p,this.glevel===c&&(this.charset=p)}}},1753:function(u,l,c){var p=this&&this.__decorate||function(v,S,E,R){var D,k=arguments.length,A=k<3?S:R===null?R=Object.getOwnPropertyDescriptor(S,E):R;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(v,S,E,R);else for(var B=v.length-1;B>=0;B--)(D=v[B])&&(A=(k<3?D(A):k>3?D(S,E,A):D(S,E))||A);return k>3&&A&&Object.defineProperty(S,E,A),A},g=this&&this.__param||function(v,S){return function(E,R){S(E,R,v)}};Object.defineProperty(l,"__esModule",{value:!0}),l.CoreMouseService=void 0;const m=c(2585),y=c(8460),b=c(844),C={NONE:{events:0,restrict:()=>!1},X10:{events:1,restrict:v=>v.button!==4&&v.action===1&&(v.ctrl=!1,v.alt=!1,v.shift=!1,!0)},VT200:{events:19,restrict:v=>v.action!==32},DRAG:{events:23,restrict:v=>v.action!==32||v.button!==3},ANY:{events:31,restrict:v=>!0}};function x(v,S){let E=(v.ctrl?16:0)|(v.shift?4:0)|(v.alt?8:0);return v.button===4?(E|=64,E|=v.action):(E|=3&v.button,4&v.button&&(E|=64),8&v.button&&(E|=128),v.action===32?E|=32:v.action!==0||S||(E|=3)),E}const d=String.fromCharCode,_={DEFAULT:v=>{const S=[x(v,!1)+32,v.col+32,v.row+32];return S[0]>255||S[1]>255||S[2]>255?"":`\x1B[M${d(S[0])}${d(S[1])}${d(S[2])}`},SGR:v=>{const S=v.action===0&&v.button!==4?"m":"M";return`\x1B[<${x(v,!0)};${v.col};${v.row}${S}`},SGR_PIXELS:v=>{const S=v.action===0&&v.button!==4?"m":"M";return`\x1B[<${x(v,!0)};${v.x};${v.y}${S}`}};let f=l.CoreMouseService=class extends b.Disposable{constructor(v,S){super(),this._bufferService=v,this._coreService=S,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._lastEvent=null,this._onProtocolChange=this.register(new y.EventEmitter),this.onProtocolChange=this._onProtocolChange.event;for(const E of Object.keys(C))this.addProtocol(E,C[E]);for(const E of Object.keys(_))this.addEncoding(E,_[E]);this.reset()}addProtocol(v,S){this._protocols[v]=S}addEncoding(v,S){this._encodings[v]=S}get activeProtocol(){return this._activeProtocol}get areMouseEventsActive(){return this._protocols[this._activeProtocol].events!==0}set activeProtocol(v){if(!this._protocols[v])throw new Error(`unknown protocol "${v}"`);this._activeProtocol=v,this._onProtocolChange.fire(this._protocols[v].events)}get activeEncoding(){return this._activeEncoding}set activeEncoding(v){if(!this._encodings[v])throw new Error(`unknown encoding "${v}"`);this._activeEncoding=v}reset(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null}triggerMouseEvent(v){if(v.col<0||v.col>=this._bufferService.cols||v.row<0||v.row>=this._bufferService.rows||v.button===4&&v.action===32||v.button===3&&v.action!==32||v.button!==4&&(v.action===2||v.action===3)||(v.col++,v.row++,v.action===32&&this._lastEvent&&this._equalEvents(this._lastEvent,v,this._activeEncoding==="SGR_PIXELS"))||!this._protocols[this._activeProtocol].restrict(v))return!1;const S=this._encodings[this._activeEncoding](v);return S&&(this._activeEncoding==="DEFAULT"?this._coreService.triggerBinaryEvent(S):this._coreService.triggerDataEvent(S,!0)),this._lastEvent=v,!0}explainEvents(v){return{down:!!(1&v),up:!!(2&v),drag:!!(4&v),move:!!(8&v),wheel:!!(16&v)}}_equalEvents(v,S,E){if(E){if(v.x!==S.x||v.y!==S.y)return!1}else if(v.col!==S.col||v.row!==S.row)return!1;return v.button===S.button&&v.action===S.action&&v.ctrl===S.ctrl&&v.alt===S.alt&&v.shift===S.shift}};l.CoreMouseService=f=p([g(0,m.IBufferService),g(1,m.ICoreService)],f)},6975:function(u,l,c){var p=this&&this.__decorate||function(f,v,S,E){var R,D=arguments.length,k=D<3?v:E===null?E=Object.getOwnPropertyDescriptor(v,S):E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(f,v,S,E);else for(var A=f.length-1;A>=0;A--)(R=f[A])&&(k=(D<3?R(k):D>3?R(v,S,k):R(v,S))||k);return D>3&&k&&Object.defineProperty(v,S,k),k},g=this&&this.__param||function(f,v){return function(S,E){v(S,E,f)}};Object.defineProperty(l,"__esModule",{value:!0}),l.CoreService=void 0;const m=c(1439),y=c(8460),b=c(844),C=c(2585),x=Object.freeze({insertMode:!1}),d=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0});let _=l.CoreService=class extends b.Disposable{constructor(f,v,S){super(),this._bufferService=f,this._logService=v,this._optionsService=S,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=this.register(new y.EventEmitter),this.onData=this._onData.event,this._onUserInput=this.register(new y.EventEmitter),this.onUserInput=this._onUserInput.event,this._onBinary=this.register(new y.EventEmitter),this.onBinary=this._onBinary.event,this._onRequestScrollToBottom=this.register(new y.EventEmitter),this.onRequestScrollToBottom=this._onRequestScrollToBottom.event,this.modes=(0,m.clone)(x),this.decPrivateModes=(0,m.clone)(d)}reset(){this.modes=(0,m.clone)(x),this.decPrivateModes=(0,m.clone)(d)}triggerDataEvent(f,v=!1){if(this._optionsService.rawOptions.disableStdin)return;const S=this._bufferService.buffer;v&&this._optionsService.rawOptions.scrollOnUserInput&&S.ybase!==S.ydisp&&this._onRequestScrollToBottom.fire(),v&&this._onUserInput.fire(),this._logService.debug(`sending data "${f}"`,()=>f.split("").map(E=>E.charCodeAt(0))),this._onData.fire(f)}triggerBinaryEvent(f){this._optionsService.rawOptions.disableStdin||(this._logService.debug(`sending binary "${f}"`,()=>f.split("").map(v=>v.charCodeAt(0))),this._onBinary.fire(f))}};l.CoreService=_=p([g(0,C.IBufferService),g(1,C.ILogService),g(2,C.IOptionsService)],_)},9074:(u,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.DecorationService=void 0;const p=c(8055),g=c(8460),m=c(844),y=c(6106);let b=0,C=0;class x extends m.Disposable{get decorations(){return this._decorations.values()}constructor(){super(),this._decorations=new y.SortedList(f=>f==null?void 0:f.marker.line),this._onDecorationRegistered=this.register(new g.EventEmitter),this.onDecorationRegistered=this._onDecorationRegistered.event,this._onDecorationRemoved=this.register(new g.EventEmitter),this.onDecorationRemoved=this._onDecorationRemoved.event,this.register((0,m.toDisposable)(()=>this.reset()))}registerDecoration(f){if(f.marker.isDisposed)return;const v=new d(f);if(v){const S=v.marker.onDispose(()=>v.dispose());v.onDispose(()=>{v&&(this._decorations.delete(v)&&this._onDecorationRemoved.fire(v),S.dispose())}),this._decorations.insert(v),this._onDecorationRegistered.fire(v)}return v}reset(){for(const f of this._decorations.values())f.dispose();this._decorations.clear()}*getDecorationsAtCell(f,v,S){var E,R,D;let k=0,A=0;for(const B of this._decorations.getKeyIterator(v))k=(E=B.options.x)!==null&&E!==void 0?E:0,A=k+((R=B.options.width)!==null&&R!==void 0?R:1),f>=k&&f<A&&(!S||((D=B.options.layer)!==null&&D!==void 0?D:"bottom")===S)&&(yield B)}forEachDecorationAtCell(f,v,S,E){this._decorations.forEachByKey(v,R=>{var D,k,A;b=(D=R.options.x)!==null&&D!==void 0?D:0,C=b+((k=R.options.width)!==null&&k!==void 0?k:1),f>=b&&f<C&&(!S||((A=R.options.layer)!==null&&A!==void 0?A:"bottom")===S)&&E(R)})}}l.DecorationService=x;class d extends m.Disposable{get isDisposed(){return this._isDisposed}get backgroundColorRGB(){return this._cachedBg===null&&(this.options.backgroundColor?this._cachedBg=p.css.toColor(this.options.backgroundColor):this._cachedBg=void 0),this._cachedBg}get foregroundColorRGB(){return this._cachedFg===null&&(this.options.foregroundColor?this._cachedFg=p.css.toColor(this.options.foregroundColor):this._cachedFg=void 0),this._cachedFg}constructor(f){super(),this.options=f,this.onRenderEmitter=this.register(new g.EventEmitter),this.onRender=this.onRenderEmitter.event,this._onDispose=this.register(new g.EventEmitter),this.onDispose=this._onDispose.event,this._cachedBg=null,this._cachedFg=null,this.marker=f.marker,this.options.overviewRulerOptions&&!this.options.overviewRulerOptions.position&&(this.options.overviewRulerOptions.position="full")}dispose(){this._onDispose.fire(),super.dispose()}}},4348:(u,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.InstantiationService=l.ServiceCollection=void 0;const p=c(2585),g=c(8343);class m{constructor(...b){this._entries=new Map;for(const[C,x]of b)this.set(C,x)}set(b,C){const x=this._entries.get(b);return this._entries.set(b,C),x}forEach(b){for(const[C,x]of this._entries.entries())b(C,x)}has(b){return this._entries.has(b)}get(b){return this._entries.get(b)}}l.ServiceCollection=m,l.InstantiationService=class{constructor(){this._services=new m,this._services.set(p.IInstantiationService,this)}setService(y,b){this._services.set(y,b)}getService(y){return this._services.get(y)}createInstance(y,...b){const C=(0,g.getServiceDependencies)(y).sort((_,f)=>_.index-f.index),x=[];for(const _ of C){const f=this._services.get(_.id);if(!f)throw new Error(`[createInstance] ${y.name} depends on UNKNOWN service ${_.id}.`);x.push(f)}const d=C.length>0?C[0].index:b.length;if(b.length!==d)throw new Error(`[createInstance] First service dependency of ${y.name} at position ${d+1} conflicts with ${b.length} static arguments`);return new y(...b,...x)}}},7866:function(u,l,c){var p=this&&this.__decorate||function(d,_,f,v){var S,E=arguments.length,R=E<3?_:v===null?v=Object.getOwnPropertyDescriptor(_,f):v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(d,_,f,v);else for(var D=d.length-1;D>=0;D--)(S=d[D])&&(R=(E<3?S(R):E>3?S(_,f,R):S(_,f))||R);return E>3&&R&&Object.defineProperty(_,f,R),R},g=this&&this.__param||function(d,_){return function(f,v){_(f,v,d)}};Object.defineProperty(l,"__esModule",{value:!0}),l.traceCall=l.setTraceLogger=l.LogService=void 0;const m=c(844),y=c(2585),b={trace:y.LogLevelEnum.TRACE,debug:y.LogLevelEnum.DEBUG,info:y.LogLevelEnum.INFO,warn:y.LogLevelEnum.WARN,error:y.LogLevelEnum.ERROR,off:y.LogLevelEnum.OFF};let C,x=l.LogService=class extends m.Disposable{get logLevel(){return this._logLevel}constructor(d){super(),this._optionsService=d,this._logLevel=y.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",()=>this._updateLogLevel())),C=this}_updateLogLevel(){this._logLevel=b[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(d){for(let _=0;_<d.length;_++)typeof d[_]=="function"&&(d[_]=d[_]())}_log(d,_,f){this._evalLazyOptionalParams(f),d.call(console,(this._optionsService.options.logger?"":"xterm.js: ")+_,...f)}trace(d,..._){var f,v;this._logLevel<=y.LogLevelEnum.TRACE&&this._log((v=(f=this._optionsService.options.logger)===null||f===void 0?void 0:f.trace.bind(this._optionsService.options.logger))!==null&&v!==void 0?v:console.log,d,_)}debug(d,..._){var f,v;this._logLevel<=y.LogLevelEnum.DEBUG&&this._log((v=(f=this._optionsService.options.logger)===null||f===void 0?void 0:f.debug.bind(this._optionsService.options.logger))!==null&&v!==void 0?v:console.log,d,_)}info(d,..._){var f,v;this._logLevel<=y.LogLevelEnum.INFO&&this._log((v=(f=this._optionsService.options.logger)===null||f===void 0?void 0:f.info.bind(this._optionsService.options.logger))!==null&&v!==void 0?v:console.info,d,_)}warn(d,..._){var f,v;this._logLevel<=y.LogLevelEnum.WARN&&this._log((v=(f=this._optionsService.options.logger)===null||f===void 0?void 0:f.warn.bind(this._optionsService.options.logger))!==null&&v!==void 0?v:console.warn,d,_)}error(d,..._){var f,v;this._logLevel<=y.LogLevelEnum.ERROR&&this._log((v=(f=this._optionsService.options.logger)===null||f===void 0?void 0:f.error.bind(this._optionsService.options.logger))!==null&&v!==void 0?v:console.error,d,_)}};l.LogService=x=p([g(0,y.IOptionsService)],x),l.setTraceLogger=function(d){C=d},l.traceCall=function(d,_,f){if(typeof f.value!="function")throw new Error("not supported");const v=f.value;f.value=function(...S){if(C.logLevel!==y.LogLevelEnum.TRACE)return v.apply(this,S);C.trace(`GlyphRenderer#${v.name}(${S.map(R=>JSON.stringify(R)).join(", ")})`);const E=v.apply(this,S);return C.trace(`GlyphRenderer#${v.name} return`,E),E}}},7302:(u,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.OptionsService=l.DEFAULT_OPTIONS=void 0;const p=c(8460),g=c(844),m=c(6114);l.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,cursorInactiveStyle:"outline",customGlyphs:!0,drawBoldTextInBrightColors:!0,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",ignoreBracketedPasteMode:!1,lineHeight:1,letterSpacing:0,linkHandler:null,logLevel:"info",logger:null,scrollback:1e3,scrollOnUserInput:!0,scrollSensitivity:1,screenReaderMode:!1,smoothScrollDuration:0,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!1,allowTransparency:!1,tabStopWidth:8,theme:{},rightClickSelectsWord:m.isMac,windowOptions:{},windowsMode:!1,windowsPty:{},wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRulerWidth:0};const y=["normal","bold","100","200","300","400","500","600","700","800","900"];class b extends g.Disposable{constructor(x){super(),this._onOptionChange=this.register(new p.EventEmitter),this.onOptionChange=this._onOptionChange.event;const d=Object.assign({},l.DEFAULT_OPTIONS);for(const _ in x)if(_ in d)try{const f=x[_];d[_]=this._sanitizeAndValidateOption(_,f)}catch(f){console.error(f)}this.rawOptions=d,this.options=Object.assign({},d),this._setupOptions()}onSpecificOptionChange(x,d){return this.onOptionChange(_=>{_===x&&d(this.rawOptions[x])})}onMultipleOptionChange(x,d){return this.onOptionChange(_=>{x.indexOf(_)!==-1&&d()})}_setupOptions(){const x=_=>{if(!(_ in l.DEFAULT_OPTIONS))throw new Error(`No option with key "${_}"`);return this.rawOptions[_]},d=(_,f)=>{if(!(_ in l.DEFAULT_OPTIONS))throw new Error(`No option with key "${_}"`);f=this._sanitizeAndValidateOption(_,f),this.rawOptions[_]!==f&&(this.rawOptions[_]=f,this._onOptionChange.fire(_))};for(const _ in this.rawOptions){const f={get:x.bind(this,_),set:d.bind(this,_)};Object.defineProperty(this.options,_,f)}}_sanitizeAndValidateOption(x,d){switch(x){case"cursorStyle":if(d||(d=l.DEFAULT_OPTIONS[x]),!function(_){return _==="block"||_==="underline"||_==="bar"}(d))throw new Error(`"${d}" is not a valid value for ${x}`);break;case"wordSeparator":d||(d=l.DEFAULT_OPTIONS[x]);break;case"fontWeight":case"fontWeightBold":if(typeof d=="number"&&1<=d&&d<=1e3)break;d=y.includes(d)?d:l.DEFAULT_OPTIONS[x];break;case"cursorWidth":d=Math.floor(d);case"lineHeight":case"tabStopWidth":if(d<1)throw new Error(`${x} cannot be less than 1, value: ${d}`);break;case"minimumContrastRatio":d=Math.max(1,Math.min(21,Math.round(10*d)/10));break;case"scrollback":if((d=Math.min(d,4294967295))<0)throw new Error(`${x} cannot be less than 0, value: ${d}`);break;case"fastScrollSensitivity":case"scrollSensitivity":if(d<=0)throw new Error(`${x} cannot be less than or equal to 0, value: ${d}`);break;case"rows":case"cols":if(!d&&d!==0)throw new Error(`${x} must be numeric, value: ${d}`);break;case"windowsPty":d=d??{}}return d}}l.OptionsService=b},2660:function(u,l,c){var p=this&&this.__decorate||function(b,C,x,d){var _,f=arguments.length,v=f<3?C:d===null?d=Object.getOwnPropertyDescriptor(C,x):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")v=Reflect.decorate(b,C,x,d);else for(var S=b.length-1;S>=0;S--)(_=b[S])&&(v=(f<3?_(v):f>3?_(C,x,v):_(C,x))||v);return f>3&&v&&Object.defineProperty(C,x,v),v},g=this&&this.__param||function(b,C){return function(x,d){C(x,d,b)}};Object.defineProperty(l,"__esModule",{value:!0}),l.OscLinkService=void 0;const m=c(2585);let y=l.OscLinkService=class{constructor(b){this._bufferService=b,this._nextId=1,this._entriesWithId=new Map,this._dataByLinkId=new Map}registerLink(b){const C=this._bufferService.buffer;if(b.id===void 0){const S=C.addMarker(C.ybase+C.y),E={data:b,id:this._nextId++,lines:[S]};return S.onDispose(()=>this._removeMarkerFromLink(E,S)),this._dataByLinkId.set(E.id,E),E.id}const x=b,d=this._getEntryIdKey(x),_=this._entriesWithId.get(d);if(_)return this.addLineToLink(_.id,C.ybase+C.y),_.id;const f=C.addMarker(C.ybase+C.y),v={id:this._nextId++,key:this._getEntryIdKey(x),data:x,lines:[f]};return f.onDispose(()=>this._removeMarkerFromLink(v,f)),this._entriesWithId.set(v.key,v),this._dataByLinkId.set(v.id,v),v.id}addLineToLink(b,C){const x=this._dataByLinkId.get(b);if(x&&x.lines.every(d=>d.line!==C)){const d=this._bufferService.buffer.addMarker(C);x.lines.push(d),d.onDispose(()=>this._removeMarkerFromLink(x,d))}}getLinkData(b){var C;return(C=this._dataByLinkId.get(b))===null||C===void 0?void 0:C.data}_getEntryIdKey(b){return`${b.id};;${b.uri}`}_removeMarkerFromLink(b,C){const x=b.lines.indexOf(C);x!==-1&&(b.lines.splice(x,1),b.lines.length===0&&(b.data.id!==void 0&&this._entriesWithId.delete(b.key),this._dataByLinkId.delete(b.id)))}};l.OscLinkService=y=p([g(0,m.IBufferService)],y)},8343:(u,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.createDecorator=l.getServiceDependencies=l.serviceRegistry=void 0;const c="di$target",p="di$dependencies";l.serviceRegistry=new Map,l.getServiceDependencies=function(g){return g[p]||[]},l.createDecorator=function(g){if(l.serviceRegistry.has(g))return l.serviceRegistry.get(g);const m=function(y,b,C){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");(function(x,d,_){d[c]===d?d[p].push({id:x,index:_}):(d[p]=[{id:x,index:_}],d[c]=d)})(m,y,C)};return m.toString=()=>g,l.serviceRegistry.set(g,m),m}},2585:(u,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.IDecorationService=l.IUnicodeService=l.IOscLinkService=l.IOptionsService=l.ILogService=l.LogLevelEnum=l.IInstantiationService=l.ICharsetService=l.ICoreService=l.ICoreMouseService=l.IBufferService=void 0;const p=c(8343);var g;l.IBufferService=(0,p.createDecorator)("BufferService"),l.ICoreMouseService=(0,p.createDecorator)("CoreMouseService"),l.ICoreService=(0,p.createDecorator)("CoreService"),l.ICharsetService=(0,p.createDecorator)("CharsetService"),l.IInstantiationService=(0,p.createDecorator)("InstantiationService"),function(m){m[m.TRACE=0]="TRACE",m[m.DEBUG=1]="DEBUG",m[m.INFO=2]="INFO",m[m.WARN=3]="WARN",m[m.ERROR=4]="ERROR",m[m.OFF=5]="OFF"}(g||(l.LogLevelEnum=g={})),l.ILogService=(0,p.createDecorator)("LogService"),l.IOptionsService=(0,p.createDecorator)("OptionsService"),l.IOscLinkService=(0,p.createDecorator)("OscLinkService"),l.IUnicodeService=(0,p.createDecorator)("UnicodeService"),l.IDecorationService=(0,p.createDecorator)("DecorationService")},1480:(u,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.UnicodeService=void 0;const p=c(8460),g=c(225);l.UnicodeService=class{constructor(){this._providers=Object.create(null),this._active="",this._onChange=new p.EventEmitter,this.onChange=this._onChange.event;const m=new g.UnicodeV6;this.register(m),this._active=m.version,this._activeProvider=m}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(m){if(!this._providers[m])throw new Error(`unknown Unicode version "${m}"`);this._active=m,this._activeProvider=this._providers[m],this._onChange.fire(m)}register(m){this._providers[m.version]=m}wcwidth(m){return this._activeProvider.wcwidth(m)}getStringCellWidth(m){let y=0;const b=m.length;for(let C=0;C<b;++C){let x=m.charCodeAt(C);if(55296<=x&&x<=56319){if(++C>=b)return y+this.wcwidth(x);const d=m.charCodeAt(C);56320<=d&&d<=57343?x=1024*(x-55296)+d-56320+65536:y+=this.wcwidth(d)}y+=this.wcwidth(x)}return y}}}},n={};function s(u){var l=n[u];if(l!==void 0)return l.exports;var c=n[u]={exports:{}};return r[u].call(c.exports,c,c.exports,s),c.exports}var a={};return(()=>{var u=a;Object.defineProperty(u,"__esModule",{value:!0}),u.Terminal=void 0;const l=s(9042),c=s(3236),p=s(844),g=s(5741),m=s(8285),y=s(7975),b=s(7090),C=["cols","rows"];class x extends p.Disposable{constructor(_){super(),this._core=this.register(new c.Terminal(_)),this._addonManager=this.register(new g.AddonManager),this._publicOptions=Object.assign({},this._core.options);const f=S=>this._core.options[S],v=(S,E)=>{this._checkReadonlyOptions(S),this._core.options[S]=E};for(const S in this._core.options){const E={get:f.bind(this,S),set:v.bind(this,S)};Object.defineProperty(this._publicOptions,S,E)}}_checkReadonlyOptions(_){if(C.includes(_))throw new Error(`Option "${_}" can only be set in the constructor`)}_checkProposedApi(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")}get onBell(){return this._core.onBell}get onBinary(){return this._core.onBinary}get onCursorMove(){return this._core.onCursorMove}get onData(){return this._core.onData}get onKey(){return this._core.onKey}get onLineFeed(){return this._core.onLineFeed}get onRender(){return this._core.onRender}get onResize(){return this._core.onResize}get onScroll(){return this._core.onScroll}get onSelectionChange(){return this._core.onSelectionChange}get onTitleChange(){return this._core.onTitleChange}get onWriteParsed(){return this._core.onWriteParsed}get element(){return this._core.element}get parser(){return this._parser||(this._parser=new y.ParserApi(this._core)),this._parser}get unicode(){return this._checkProposedApi(),new b.UnicodeApi(this._core)}get textarea(){return this._core.textarea}get rows(){return this._core.rows}get cols(){return this._core.cols}get buffer(){return this._buffer||(this._buffer=this.register(new m.BufferNamespaceApi(this._core))),this._buffer}get markers(){return this._checkProposedApi(),this._core.markers}get modes(){const _=this._core.coreService.decPrivateModes;let f="none";switch(this._core.coreMouseService.activeProtocol){case"X10":f="x10";break;case"VT200":f="vt200";break;case"DRAG":f="drag";break;case"ANY":f="any"}return{applicationCursorKeysMode:_.applicationCursorKeys,applicationKeypadMode:_.applicationKeypad,bracketedPasteMode:_.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:f,originMode:_.origin,reverseWraparoundMode:_.reverseWraparound,sendFocusMode:_.sendFocus,wraparoundMode:_.wraparound}}get options(){return this._publicOptions}set options(_){for(const f in _)this._publicOptions[f]=_[f]}blur(){this._core.blur()}focus(){this._core.focus()}resize(_,f){this._verifyIntegers(_,f),this._core.resize(_,f)}open(_){this._core.open(_)}attachCustomKeyEventHandler(_){this._core.attachCustomKeyEventHandler(_)}registerLinkProvider(_){return this._core.registerLinkProvider(_)}registerCharacterJoiner(_){return this._checkProposedApi(),this._core.registerCharacterJoiner(_)}deregisterCharacterJoiner(_){this._checkProposedApi(),this._core.deregisterCharacterJoiner(_)}registerMarker(_=0){return this._verifyIntegers(_),this._core.registerMarker(_)}registerDecoration(_){var f,v,S;return this._checkProposedApi(),this._verifyPositiveIntegers((f=_.x)!==null&&f!==void 0?f:0,(v=_.width)!==null&&v!==void 0?v:0,(S=_.height)!==null&&S!==void 0?S:0),this._core.registerDecoration(_)}hasSelection(){return this._core.hasSelection()}select(_,f,v){this._verifyIntegers(_,f,v),this._core.select(_,f,v)}getSelection(){return this._core.getSelection()}getSelectionPosition(){return this._core.getSelectionPosition()}clearSelection(){this._core.clearSelection()}selectAll(){this._core.selectAll()}selectLines(_,f){this._verifyIntegers(_,f),this._core.selectLines(_,f)}dispose(){super.dispose()}scrollLines(_){this._verifyIntegers(_),this._core.scrollLines(_)}scrollPages(_){this._verifyIntegers(_),this._core.scrollPages(_)}scrollToTop(){this._core.scrollToTop()}scrollToBottom(){this._core.scrollToBottom()}scrollToLine(_){this._verifyIntegers(_),this._core.scrollToLine(_)}clear(){this._core.clear()}write(_,f){this._core.write(_,f)}writeln(_,f){this._core.write(_),this._core.write(`\r
`,f)}paste(_){this._core.paste(_)}refresh(_,f){this._verifyIntegers(_,f),this._core.refresh(_,f)}reset(){this._core.reset()}clearTextureAtlas(){this._core.clearTextureAtlas()}loadAddon(_){this._addonManager.loadAddon(this,_)}static get strings(){return l}_verifyIntegers(..._){for(const f of _)if(f===1/0||isNaN(f)||f%1!=0)throw new Error("This API only accepts integers")}_verifyPositiveIntegers(..._){for(const f of _)if(f&&(f===1/0||isNaN(f)||f%1!=0||f<0))throw new Error("This API only accepts positive integers")}}u.Terminal=x})(),a})())})(dy);var FR=dy.exports,py={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(self,()=>(()=>{var r={};return(()=>{var n=r;Object.defineProperty(n,"__esModule",{value:!0}),n.FitAddon=void 0,n.FitAddon=class{activate(s){this._terminal=s}dispose(){}fit(){const s=this.proposeDimensions();if(!s||!this._terminal||isNaN(s.cols)||isNaN(s.rows))return;const a=this._terminal._core;this._terminal.rows===s.rows&&this._terminal.cols===s.cols||(a._renderService.clear(),this._terminal.resize(s.cols,s.rows))}proposeDimensions(){if(!this._terminal||!this._terminal.element||!this._terminal.element.parentElement)return;const s=this._terminal._core,a=s._renderService.dimensions;if(a.css.cell.width===0||a.css.cell.height===0)return;const u=this._terminal.options.scrollback===0?0:s.viewport.scrollBarWidth,l=window.getComputedStyle(this._terminal.element.parentElement),c=parseInt(l.getPropertyValue("height")),p=Math.max(0,parseInt(l.getPropertyValue("width"))),g=window.getComputedStyle(this._terminal.element),m=c-(parseInt(g.getPropertyValue("padding-top"))+parseInt(g.getPropertyValue("padding-bottom"))),y=p-(parseInt(g.getPropertyValue("padding-right"))+parseInt(g.getPropertyValue("padding-left")))-u;return{cols:Math.max(2,Math.floor(y/a.css.cell.width)),rows:Math.max(1,Math.floor(m/a.css.cell.height))}}}})(),r})())})(py);var HR=py.exports;const UR=({nodeName:e})=>{const t=V.useRef(null),r=V.useRef(null);return V.useEffect(()=>{if(!t.current)return;const n=new FR.Terminal({cursorBlink:!0,fontSize:13,fontFamily:'Menlo, Monaco, "Courier New", monospace',theme:{background:"#0B0F1A",foreground:"#D1D5DB",cursor:"#3B82F6"}}),s=new HR.FitAddon;n.loadAddon(s),n.open(t.current),s.fit(),r.current=n;const a=[`Initializing ${e}...`,"Loading Linux 5.15.0-generic x86_64...","Mounting root filesystem...","Starting System Logging Service...","Starting Network Service...","System OK. Initializing SSH session...","",`Ubuntu 22.04 LTS ${e} tty1`,"","Welcome to DataSpace OS!"," * Documentation:  https://docs.dataspace.ai"," * Support:        https://support.dataspace.ai","","Last login: Thu Feb 05 15:20:42 2026 from 192.168.1.5","root@dataspace-node:~# "];let u=0;const l=setInterval(()=>{u<a.length?(n.writeln(a[u]),u++):clearInterval(l)},100);return n.onData(c=>{const p=c.charCodeAt(0);p===13?n.write(`\r
root@dataspace-node:~# `):p===127?n.write("\b \b"):n.write(c)}),()=>{n.dispose()}},[e]),T.jsx("div",{className:"bg-[#0B0F1A] p-4 rounded-3xl border border-white/5 overflow-hidden shadow-inner",children:T.jsx("div",{ref:t,className:"h-64 w-full"})})},$R=()=>{const{id:e}=y0(),t=Ki(),{user:r}=Fr(d=>d.auth),[n,s]=V.useState(null),[a,u]=V.useState(!0),[l,c]=V.useState(!1),[p,g]=V.useState("control"),m="203.0.113.45",y=`ssh root@${m}`,b=d=>{navigator.clipboard.writeText(d),alert("Copied to clipboard!")},C=async()=>{try{const d=await xe.get(`/api/seeker/node/${e}?email=${r==null?void 0:r.email}`);s(d.data)}catch(d){console.error("Failed to fetch node details:",d)}finally{u(!1)}};V.useEffect(()=>{r!=null&&r.email&&e&&C()},[e,r==null?void 0:r.email]);const x=async d=>{var _,f;c(!0);try{const v=await xe.post("/api/resources/power",{nodeId:e,action:d,seekerEmail:r==null?void 0:r.email});alert(v.data.message),C()}catch(v){alert(((f=(_=v.response)==null?void 0:_.data)==null?void 0:f.error)||"Power action failed")}finally{c(!1)}};return a?T.jsx("div",{className:"min-h-screen bg-[#0B0F1A] flex items-center justify-center",children:T.jsx("div",{className:"animate-spin text-blue-500",children:T.jsx(sm,{size:40})})}):n?T.jsx("div",{className:"min-h-screen bg-[#0B0F1A] text-slate-300 font-sans p-6 md:p-10",children:T.jsxs("div",{className:"max-w-5xl mx-auto",children:[T.jsx("header",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-6",children:T.jsxs("div",{className:"flex items-center space-x-6",children:[T.jsx("button",{onClick:()=>t("/seeker/fleet"),className:"p-3 bg-slate-800 hover:bg-slate-700 rounded-2xl text-slate-400 transition-all border border-white/5",children:T.jsx(im,{size:20})}),T.jsxs("div",{children:[T.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[T.jsx("h1",{className:"text-3xl font-black text-white uppercase italic tracking-tighter",children:n.name}),T.jsx("span",{className:`px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-widest ${n.status==="Running"?"bg-emerald-500/10 text-emerald-500 border border-emerald-500/20":n.status==="Stopped"?"bg-red-500/10 text-red-400 border border-red-500/20":"bg-orange-500/10 text-orange-400 border border-orange-500/20"}`,children:n.status})]}),T.jsxs("p",{className:"text-blue-500 text-[10px] font-mono font-bold uppercase tracking-widest",children:["ID: ",n.node_hash,"  IP: 192.168.1.",n.id+100]})]})]})}),T.jsxs("div",{className:"flex space-x-2 mb-8 bg-white/5 p-1.5 rounded-2xl w-fit border border-white/5",children:[T.jsxs("button",{onClick:()=>g("control"),className:`flex items-center gap-2 px-6 py-2.5 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${p==="control"?"bg-blue-600 text-white shadow-lg":"text-slate-500 hover:text-white"}`,children:[T.jsx(ly,{size:14})," Control Center"]}),T.jsxs("button",{onClick:()=>g("connectivity"),className:`flex items-center gap-2 px-6 py-2.5 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${p==="connectivity"?"bg-blue-600 text-white shadow-lg":"text-slate-500 hover:text-white"}`,children:[T.jsx(cR,{size:14})," Connectivity"]})]}),T.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[T.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[p==="control"?T.jsxs("div",{className:"bg-[#161B2B] border border-white/5 rounded-[2.5rem] p-8 shadow-2xl",children:[T.jsxs("h3",{className:"text-sm font-black text-white uppercase tracking-widest mb-8 flex items-center gap-2",children:[T.jsx(hy,{size:16,className:"text-blue-500"})," Power Management"]}),T.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[T.jsxs("button",{disabled:l||n.status==="Running",onClick:()=>x("start"),className:"flex flex-col items-center justify-center p-8 bg-emerald-500/5 hover:bg-emerald-500/10 border border-emerald-500/20 rounded-3xl transition-all group disabled:opacity-30",children:[T.jsx(mR,{size:32,className:"text-emerald-500 mb-4 group-hover:scale-110 transition-transform"}),T.jsx("span",{className:"text-[10px] font-black uppercase text-emerald-500 tracking-widest",children:"Start Node"})]}),T.jsxs("button",{disabled:l||n.status==="Stopped",onClick:()=>x("stop"),className:"flex flex-col items-center justify-center p-8 bg-red-500/5 hover:bg-red-500/10 border border-red-500/20 rounded-3xl transition-all group disabled:opacity-30",children:[T.jsx(TR,{size:32,className:"text-red-500 mb-4 group-hover:scale-110 transition-transform"}),T.jsx("span",{className:"text-[10px] font-black uppercase text-red-400 tracking-widest",children:"Stop Node"})]}),T.jsxs("button",{disabled:l,onClick:()=>x("reboot"),className:"flex flex-col items-center justify-center p-8 bg-orange-500/5 hover:bg-orange-500/10 border border-orange-500/20 rounded-3xl transition-all group disabled:opacity-30",children:[T.jsx(sm,{size:32,className:"text-orange-400 mb-4 group-hover:rotate-180 transition-transform duration-500"}),T.jsx("span",{className:"text-[10px] font-black uppercase text-orange-400 tracking-widest",children:"Reboot"})]})]})]}):T.jsxs("div",{className:"space-y-8",children:[T.jsxs("div",{className:"bg-[#161B2B] border border-white/5 rounded-[2.5rem] p-8 shadow-2xl",children:[T.jsxs("h3",{className:"text-sm font-black text-white uppercase tracking-widest mb-8 flex items-center gap-2",children:[T.jsx(xh,{size:16,className:"text-blue-500"})," SSH Connectivity"]}),T.jsxs("div",{className:"space-y-6",children:[T.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[T.jsxs("div",{className:"p-5 bg-white/5 border border-white/5 rounded-2xl",children:[T.jsx("p",{className:"text-[9px] font-bold text-slate-500 uppercase mb-2",children:"Public IPv4"}),T.jsx("p",{className:"text-sm font-black text-white",children:m})]}),T.jsxs("div",{className:"p-5 bg-white/5 border border-white/5 rounded-2xl",children:[T.jsx("p",{className:"text-[9px] font-bold text-slate-500 uppercase mb-2",children:"Default User"}),T.jsx("p",{className:"text-sm font-black text-white",children:"root"})]})]}),T.jsxs("div",{className:"p-5 bg-black/40 border border-white/5 rounded-2xl flex items-center justify-between group",children:[T.jsxs("div",{children:[T.jsx("p",{className:"text-[9px] font-bold text-slate-500 uppercase mb-2",children:"Direct SSH Access"}),T.jsx("code",{className:"text-blue-400 text-xs font-mono",children:y})]}),T.jsx("button",{onClick:()=>b(y),className:"p-3 bg-blue-600/10 hover:bg-blue-600 text-blue-500 hover:text-white rounded-xl transition-all border border-blue-500/20",children:T.jsx(tR,{size:16})})]})]})]}),T.jsxs("div",{className:"bg-[#161B2B] border border-white/5 rounded-[2.5rem] p-8 shadow-2xl",children:[T.jsxs("h3",{className:"text-sm font-black text-white uppercase tracking-widest mb-8 flex items-center gap-2",children:[T.jsx(uy,{size:16,className:"text-blue-500"})," Web Console (Simulation)"]}),T.jsx(UR,{nodeName:n.name})]})]}),T.jsxs("div",{className:"bg-[#161B2B] border border-white/5 rounded-[2.5rem] p-8 shadow-2xl",children:[T.jsxs("h3",{className:"text-sm font-black text-white uppercase tracking-widest mb-8 flex items-center gap-2",children:[T.jsx(ml,{size:16,className:"text-blue-500"})," Technical Specifications"]}),T.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-6",children:[T.jsxs("div",{children:[T.jsx("p",{className:"text-[9px] font-bold text-slate-500 uppercase mb-1",children:"OS Distribution"}),T.jsx("p",{className:"text-xs font-black text-white uppercase",children:n.os||"Ubuntu 22.04"})]}),T.jsxs("div",{children:[T.jsx("p",{className:"text-[9px] font-bold text-slate-500 uppercase mb-1",children:"Compute Tier"}),T.jsx("p",{className:"text-xs font-black text-white uppercase",children:n.tier||"Standard"})]}),T.jsxs("div",{children:[T.jsx("p",{className:"text-[9px] font-bold text-slate-500 uppercase mb-1",children:"Zone"}),T.jsx("p",{className:"text-xs font-black text-white uppercase",children:n.zone})]}),T.jsxs("div",{children:[T.jsx("p",{className:"text-[9px] font-bold text-slate-500 uppercase mb-1",children:"Rate"}),T.jsxs("p",{className:"text-xs font-black text-emerald-500 uppercase",children:["$",n.rental_rate,"/day"]})]})]})]})]}),T.jsxs("div",{className:"space-y-6",children:[T.jsxs("div",{className:"bg-slate-900/50 border border-white/5 rounded-[2.5rem] p-8",children:[T.jsx(ay,{size:24,className:"text-blue-500 mb-6"}),T.jsxs("div",{className:"space-y-6",children:[T.jsxs("div",{children:[T.jsxs("div",{className:"flex justify-between text-[10px] font-bold uppercase mb-2",children:[T.jsx("span",{children:"CPU Utilization"}),T.jsx("span",{className:"text-blue-400",children:n.utilization||"0%"})]}),T.jsx("div",{className:"h-1.5 bg-white/5 rounded-full overflow-hidden",children:T.jsx("div",{className:"h-full bg-blue-500 transition-all duration-1000",style:{width:n.utilization||"0%"}})})]}),T.jsxs("div",{children:[T.jsxs("div",{className:"flex justify-between text-[10px] font-bold uppercase mb-2",children:[T.jsx("span",{children:"Network Health"}),T.jsx("span",{className:"text-emerald-500",children:"Optimum"})]}),T.jsx("div",{className:"h-1.5 bg-white/5 rounded-full overflow-hidden",children:T.jsx("div",{className:"h-full bg-emerald-500 w-[94%]"})})]})]})]}),T.jsxs("div",{className:"bg-blue-600/10 border border-blue-500/20 rounded-[2.5rem] p-8",children:[T.jsx(ER,{size:24,className:"text-blue-500 mb-4"}),T.jsx("h4",{className:"text-[10px] font-black text-white uppercase tracking-widest mb-2",children:"Security Active"}),T.jsx("p",{className:"text-[10px] text-slate-400 leading-relaxed uppercase",children:"End-to-end encryption active. Firewall rules configured for secure access."})]})]})]})]})}):T.jsxs("div",{className:"min-h-screen bg-[#0B0F1A] flex flex-col items-center justify-center text-white",children:[T.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Resource Not Found"}),T.jsxs("button",{onClick:()=>t("/seeker/fleet"),className:"text-blue-400 flex items-center gap-2",children:[T.jsx(im,{size:16})," Back to Fleet"]})]})},ZR=()=>{const{id:e}=y0(),t=Ki(),{isAuthenticated:r}=Fr(y=>y.auth),[n,s]=V.useState(null),[a,u]=V.useState(!0),[l,c]=V.useState(!1),[p,g]=V.useState("");V.useEffect(()=>{(async()=>{try{const b=await xe.get(`http://localhost:3000/api/datacenters/${e}`);s(b.data)}catch(b){console.error("Error fetching datacenter:",b)}finally{u(!1)}})()},[e]);const m=async()=>{if(!r){t("/login");return}try{await xe.post("http://localhost:3000/api/datacenters/contact",{datacenterId:e,message:p},{withCredentials:!0}),alert("Message sent successfully!"),c(!1),g("")}catch{alert("Failed to send message.")}};return a?T.jsx("div",{className:"flex justify-center items-center h-screen",children:"Loading..."}):n?T.jsxs("div",{className:"min-h-screen bg-gray-50 py-8 px-4 sm:px-6 lg:px-8",children:[T.jsxs("div",{className:"max-w-4xl mx-auto",children:[T.jsx("nav",{className:"mb-8",children:T.jsx(Sn,{to:"/map",className:"text-blue-600 hover:text-blue-800 font-medium flex items-center",children:" Back to Map"})}),T.jsxs("div",{className:"bg-white shadow-xl rounded-lg overflow-hidden",children:[T.jsx("div",{className:"bg-blue-900 text-white px-8 py-10",children:T.jsxs("div",{className:"flex justify-between items-start",children:[T.jsxs("div",{children:[T.jsx("h1",{className:"text-4xl font-bold mb-2",children:n.name}),T.jsxs("p",{className:"text-blue-200 text-lg flex items-center",children:[T.jsx("span",{className:"mr-2",children:""})," ",n.location]})]}),T.jsx("span",{className:`px-4 py-1 rounded-full text-sm font-semibold ${n.status==="ACTIVE"?"bg-green-500":"bg-yellow-500"}`,children:n.status})]})}),T.jsxs("div",{className:"p-8",children:[T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[T.jsxs("div",{className:"bg-gray-50 p-6 rounded-xl border border-gray-200",children:[T.jsxs("h2",{className:"text-xl font-bold mb-4 text-gray-800 flex items-center",children:[T.jsx("span",{className:"mr-2",children:""})," Infrastructure"]}),T.jsxs("div",{className:"space-y-3",children:[T.jsxs("div",{className:"flex justify-between",children:[T.jsx("span",{className:"text-gray-600",children:"Power Capacity"}),T.jsxs("span",{className:"font-semibold text-gray-900",children:[n.powerCapacityKW," kW"]})]}),T.jsxs("div",{className:"flex justify-between",children:[T.jsx("span",{className:"text-gray-600",children:"Cooling System"}),T.jsx("span",{className:"font-semibold text-gray-900",children:n.coolingSystem})]}),T.jsxs("div",{className:"flex justify-between",children:[T.jsx("span",{className:"text-gray-600",children:"Est. Year"}),T.jsx("span",{className:"font-semibold text-gray-900",children:n.establishmentYear})]})]})]}),T.jsxs("div",{className:"bg-gray-50 p-6 rounded-xl border border-gray-200",children:[T.jsxs("h2",{className:"text-xl font-bold mb-4 text-gray-800 flex items-center",children:[T.jsx("span",{className:"mr-2",children:""})," Hardware Inventory"]}),T.jsx("div",{className:"flex flex-wrap gap-2",children:n.serverModels.map((y,b)=>T.jsx("span",{className:"bg-white px-3 py-1 rounded-md border border-gray-300 text-sm font-medium text-gray-700",children:y},b))})]}),T.jsxs("div",{className:"bg-gray-50 p-6 rounded-xl border border-gray-200 col-span-1 md:col-span-2",children:[T.jsxs("h2",{className:"text-xl font-bold mb-4 text-gray-800 flex items-center",children:[T.jsx("span",{className:"mr-2",children:""})," Security & Compliance"]}),T.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:n.securityFeatures.map((y,b)=>T.jsxs("div",{className:"flex items-center text-gray-700",children:[T.jsx("span",{className:"text-green-500 mr-2",children:""})," ",y]},b))})]})]}),T.jsxs("div",{className:"mt-10 border-t pt-8 text-center",children:[T.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:["Managed by ",n.owner.companyName]}),T.jsx("p",{className:"text-gray-600 mb-6",children:"Interested in this facility? Request a quote directly."}),T.jsx("button",{onClick:()=>c(!0),className:"inline-flex items-center px-8 py-3 border border-transparent text-base font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Request Quote / Contact Offerer"})]})]})]})]}),l&&T.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:T.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[T.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:T.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),T.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:""}),T.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[T.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[T.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:["Contact ",n.owner.companyName]}),T.jsx("textarea",{className:"w-full border rounded-md p-3 focus:ring-blue-500 focus:border-blue-500",rows:4,placeholder:"I'm interested in leasing capacity at this facility...",value:p,onChange:y=>g(y.target.value)})]}),T.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[T.jsx("button",{onClick:m,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 sm:ml-3 sm:w-auto sm:text-sm",children:"Send Message"}),T.jsx("button",{onClick:()=>c(!1),className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:"Cancel"})]})]})]})})]}):T.jsx("div",{className:"flex justify-center items-center h-screen",children:"Datacenter not found"})},WR=({children:e})=>{const{user:t}=Fr(a=>a.auth),r=_o(),n=Ki(),s=()=>{r(Fl()),n("/")};return T.jsxs("div",{className:"min-h-screen bg-gray-100 flex flex-col",children:[T.jsxs("header",{className:"bg-white shadow-sm px-6 py-4 flex justify-between items-center",children:[T.jsxs("div",{children:[T.jsx("h2",{className:"text-xl font-bold text-blue-600",children:(t==null?void 0:t.companyName)||"DataSpace"}),T.jsxs("p",{className:"text-sm text-gray-500",children:["Welcome, ",(t==null?void 0:t.fullName)||(t==null?void 0:t.email)]})]}),T.jsx("button",{onClick:s,className:"text-gray-600 hover:text-red-500 font-medium",children:"Logout"})]}),T.jsxs("div",{className:"flex flex-1",children:[T.jsx("aside",{className:"w-64 bg-white border-r hidden md:block",children:T.jsxs("nav",{className:"p-4 space-y-2",children:[(t==null?void 0:t.role)===at.OFFERER&&T.jsxs(T.Fragment,{children:[T.jsx(Sn,{to:"/offerer/dashboard",className:"block p-2 rounded bg-blue-50 text-blue-700 font-medium",children:"Dashboard"}),T.jsx(Sn,{to:"/offerer/inventory",className:"block p-2 rounded text-gray-600 hover:bg-gray-50",children:"Inventory"})]}),(t==null?void 0:t.role)===at.ADMIN&&T.jsx(Sn,{to:"/admin/queue",className:"block p-2 rounded bg-red-50 text-red-700 font-medium",children:"Admin Queue"}),(t==null?void 0:t.role)===at.SEEKER&&T.jsx(Sn,{to:"/seeker/discovery",className:"block p-2 rounded text-gray-600 hover:bg-gray-50",children:"Discovery Map"})]})}),T.jsx("main",{className:"flex-1 p-8",children:e})]})]})},VR=()=>{const[e,t]=V.useState([]),[r,n]=V.useState(!0),[s,a]=V.useState(null),[u,l]=V.useState(""),[c,p]=V.useState(!1),g=async()=>{try{const b=await xe.get("http://localhost:3000/api/admin/pending",{withCredentials:!0});t(b.data)}catch(b){console.error("Failed to fetch pending datacenters",b)}finally{n(!1)}};V.useEffect(()=>{g()},[]);const m=async b=>{if(window.confirm("Are you sure you want to APPROVE this datacenter?"))try{await xe.patch(`http://localhost:3000/api/admin/datacenters/${b}/approve`,{},{withCredentials:!0}),alert("Approved successfully"),g()}catch{alert("Approval failed")}},y=async()=>{if(s)try{await xe.patch(`http://localhost:3000/api/admin/datacenters/${s.id}/reject`,{rejectionReason:u},{withCredentials:!0}),alert("Rejected successfully"),p(!1),l(""),g()}catch{alert("Rejection failed")}};return r?T.jsx("div",{className:"p-8",children:"Loading queue..."}):T.jsxs(WR,{children:[T.jsxs("div",{className:"max-w-6xl mx-auto",children:[T.jsx("h1",{className:"text-3xl font-bold mb-8 text-gray-800",children:"Admin Approval Queue"}),e.length===0?T.jsx("div",{className:"bg-white p-8 rounded-lg shadow text-center text-gray-500",children:"No pending approvals at this time."}):T.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.map(b=>T.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden border border-gray-200",children:T.jsxs("div",{className:"p-6",children:[T.jsxs("div",{className:"flex justify-between items-start mb-4",children:[T.jsxs("div",{children:[T.jsx("h2",{className:"text-xl font-bold text-gray-900",children:b.name}),T.jsx("p",{className:"text-gray-500",children:b.location})]}),T.jsx(Sn,{to:`/datacenter/${b.id}`,target:"_blank",className:"text-blue-600 hover:underline text-sm font-medium",children:"Quick View "})]}),T.jsxs("div",{className:"space-y-2 mb-6 text-sm",children:[T.jsxs("div",{className:"flex justify-between",children:[T.jsx("span",{className:"text-gray-600",children:"Company:"}),T.jsx("span",{className:"font-semibold",children:b.owner.companyName})]}),T.jsxs("div",{className:"flex justify-between",children:[T.jsx("span",{className:"text-gray-600",children:"Owner Email:"}),T.jsx("span",{className:"font-semibold",children:b.owner.email})]}),T.jsxs("div",{className:"flex justify-between",children:[T.jsx("span",{className:"text-gray-600",children:"Power:"}),T.jsxs("span",{className:"font-semibold",children:[b.powerCapacityKW," kW"]})]}),T.jsxs("div",{children:[T.jsx("span",{className:"text-gray-600",children:"Servers:"}),T.jsx("div",{className:"mt-1 flex flex-wrap gap-1",children:b.serverModels.map((C,x)=>T.jsx("span",{className:"bg-gray-100 px-2 py-0.5 rounded text-xs",children:C},x))})]})]}),T.jsxs("div",{className:"flex space-x-4",children:[T.jsx("button",{onClick:()=>m(b.id),className:"flex-1 bg-green-600 text-white py-2 rounded-md font-bold hover:bg-green-700 transition",children:"Approve"}),T.jsx("button",{onClick:()=>{a(b),p(!0)},className:"flex-1 bg-red-600 text-white py-2 rounded-md font-bold hover:bg-red-700 transition",children:"Reject"})]})]})},b.id))})]}),c&&T.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-50",children:T.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[T.jsx("h3",{className:"text-lg font-bold mb-4",children:"Reject Datacenter"}),T.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Please provide a reason for rejecting ",T.jsx("strong",{children:s==null?void 0:s.name}),"."]}),T.jsx("textarea",{className:"w-full border rounded-md p-3 mb-4 focus:ring-red-500 focus:border-red-500",rows:4,placeholder:"e.g., Missing compliance documentation...",value:u,onChange:b=>l(b.target.value)}),T.jsxs("div",{className:"flex space-x-3",children:[T.jsx("button",{onClick:y,className:"flex-1 bg-red-600 text-white py-2 rounded-md font-bold hover:bg-red-700",children:"Confirm Reject"}),T.jsx("button",{onClick:()=>p(!1),className:"flex-1 bg-gray-200 text-gray-800 py-2 rounded-md font-bold hover:bg-gray-300",children:"Cancel"})]})]})})]})},om="/api";function KR(){const e=_o(),{isAuthenticated:t,user:r,error:n}=Fr(c=>c.auth),[s,a]=V.useState(!1);if(t&&r)return r.role===at.ADMIN?T.jsx(Tn,{to:"/admin/queue"}):T.jsx(Tn,{to:r.role===at.OFFERER?"/offerer/dashboard":"/seeker/discovery"});const u=async c=>{var p,g;try{const m=await xe.post(`${om}/auth/login`,c);e(Rb(m.data))}catch(m){e(nu(((g=(p=m.response)==null?void 0:p.data)==null?void 0:g.message)||"Login failed"))}},l=async c=>{var p,g;try{await xe.post(`${om}/auth/register`,c),a(!1),alert("Registration successful! Please login.")}catch(m){e(nu(((g=(p=m.response)==null?void 0:p.data)==null?void 0:g.message)||"Registration failed"))}};return T.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#0B0F1A] bg-gradient-to-br from-slate-900 via-blue-900/20 to-slate-900 px-4",children:T.jsxs("div",{className:"w-full max-w-md bg-white/5 backdrop-blur-xl border border-white/10 rounded-3xl shadow-2xl p-8 sm:p-10",children:[T.jsxs("div",{className:"text-center mb-8",children:[T.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-600 rounded-2xl mb-4 shadow-lg shadow-blue-500/30",children:T.jsx("span",{className:"text-white text-2xl font-black italic",children:"DS"})}),T.jsx("h1",{className:"text-4xl font-extrabold text-white tracking-tight",children:"DataSpace"}),T.jsx("p",{className:"text-blue-200/60 mt-2 font-medium",children:s?"Create your business account":"Welcome back, Partner"})]}),n&&T.jsxs("div",{className:"bg-red-500/10 border border-red-500/50 text-red-400 p-4 rounded-xl mb-6 text-sm flex items-center",children:[T.jsx("span",{className:"mr-2",children:""})," ",n]}),T.jsx("div",{className:"space-y-4",children:s?T.jsx(AT,{onSubmit:l}):T.jsx(dk,{onSubmit:u})}),T.jsx("button",{onClick:()=>{e(nu(null)),a(!s)},className:"mt-8 text-sm text-blue-400 hover:text-blue-300 transition-colors w-full text-center font-semibold",children:s?"Already have an account? Sign In":"Don't have an account? Join the network"})]})})}function ys({children:e,allowedRole:t}){const{isAuthenticated:r,user:n}=Fr(s=>s.auth);return r?(n==null?void 0:n.role)!==t?(n==null?void 0:n.role)===at.ADMIN?T.jsx(Tn,{to:"/admin/queue"}):T.jsx(Tn,{to:(n==null?void 0:n.role)===at.OFFERER?"/offerer/dashboard":"/seeker/discovery"}):T.jsx(T.Fragment,{children:e}):T.jsx(Tn,{to:"/"})}function qR(){return T.jsx(lk,{children:T.jsxs(tk,{children:[T.jsx(Pr,{path:"/",element:T.jsx(KR,{})}),T.jsx(Pr,{path:"/offerer/dashboard",element:T.jsx(ys,{allowedRole:at.OFFERER,children:T.jsx(MR,{})})}),T.jsx(Pr,{path:"/seeker/discovery",element:T.jsx(ys,{allowedRole:at.SEEKER,children:T.jsx(zR,{})})}),T.jsx(Pr,{path:"/seeker/fleet",element:T.jsx(ys,{allowedRole:at.SEEKER,children:T.jsx(jR,{})})}),T.jsx(Pr,{path:"/seeker/node/:id",element:T.jsx(ys,{allowedRole:at.SEEKER,children:T.jsx($R,{})})}),T.jsx(Pr,{path:"/admin/queue",element:T.jsx(ys,{allowedRole:at.ADMIN,children:T.jsx(VR,{})})}),T.jsx(Pr,{path:"/datacenter/:id",element:T.jsx(ZR,{})}),T.jsx(Pr,{path:"*",element:T.jsx(Tn,{to:"/"})})]})})}const am=document.getElementById("root");am?uu.createRoot(am).render(T.jsx(Bs.StrictMode,{children:T.jsx(Px,{store:cE,children:T.jsx(qR,{})})})):console.error("Failed to find the root element. Check your index.html");
